/*! For license information please see main.20512926.js.LICENSE.txt */
!function(){var e={403:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},303:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},151:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(499)},499:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return gr},debounce:function(){return kr},deprecatedPropType:function(){return br},isMuiElement:function(){return wr},ownerDocument:function(){return _r},ownerWindow:function(){return Sr},requirePropFactory:function(){return Er},setRef:function(){return Tr},unstable_ClassNameGenerator:function(){return Gr},unstable_useEnhancedEffect:function(){return Ar},unstable_useId:function(){return Rr},unsupportedProp:function(){return Dr},useControlled:function(){return Pr},useEventCallback:function(){return Lr},useForkRef:function(){return Fr},useIsFocusVisible:function(){return Wr}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=c({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=c({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=c({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e){if(!y(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=g(e[n])})),t}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=k(e[i],t[i],n):n.clone?r[i]=y(t[i])?g(t[i]):t[i]:r[i]=t[i])})),r}var b=n(942),w=["values","unit","step"],x=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,b.Z)({},t.key,t.val))}),{})};var _={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function T(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function N(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function O(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:N(e,n)||i,t&&(r=t(r,i,e)),r}var R=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=N(e.theme,i)||{};return T(e,n,(function(e){var n=O(u,a,e);return e===n&&"string"===typeof e&&(n=O(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,b.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var D=function(e,t){return t?k(e,t,{clone:!1}):e};var P={m:"margin",p:"padding"},L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!M[e])return[e];e=M[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=P[r],o=L[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],U=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],V=[].concat(j,U);function B(e,t,n,r){var i,a=null!=(i=N(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function z(e){return B(e,"spacing",8)}function q(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function K(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=q(t,n),e}),{})}}(F(n),r);return T(e,e[n],i)}function W(e,t){var n=z(e.theme);return Object.keys(e).map((function(r){return K(e,t,r,n)})).reduce(D,{})}function G(e){return W(e,j)}function H(e){return W(e,U)}function Z(e){return W(e,V)}G.propTypes={},G.filterProps=j,H.propTypes={},H.filterProps=U,Z.propTypes={},Z.filterProps=V;var Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?D(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function $(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Y=R({prop:"border",themeKey:"borders",transform:$}),X=R({prop:"borderTop",themeKey:"borders",transform:$}),J=R({prop:"borderRight",themeKey:"borders",transform:$}),ee=R({prop:"borderBottom",themeKey:"borders",transform:$}),te=R({prop:"borderLeft",themeKey:"borders",transform:$}),ne=R({prop:"borderColor",themeKey:"palette"}),re=R({prop:"borderTopColor",themeKey:"palette"}),ie=R({prop:"borderRightColor",themeKey:"palette"}),ae=R({prop:"borderBottomColor",themeKey:"palette"}),oe=R({prop:"borderLeftColor",themeKey:"palette"}),ue=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=B(e.theme,"shape.borderRadius",4);return T(e,e.borderRadius,(function(e){return{borderRadius:q(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["borderRadius"];Q(Y,X,J,ee,te,ne,re,ie,ae,oe,ue);var se=function(e){if(void 0!==e.gap&&null!==e.gap){var t=B(e.theme,"spacing",8);return T(e,e.gap,(function(e){return{gap:q(t,e)}}))}return null};se.propTypes={},se.filterProps=["gap"];var ce=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=B(e.theme,"spacing",8);return T(e,e.columnGap,(function(e){return{columnGap:q(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=B(e.theme,"spacing",8);return T(e,e.rowGap,(function(e){return{rowGap:q(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];Q(se,ce,le,R({prop:"gridColumn"}),R({prop:"gridRow"}),R({prop:"gridAutoFlow"}),R({prop:"gridAutoColumns"}),R({prop:"gridAutoRows"}),R({prop:"gridTemplateColumns"}),R({prop:"gridTemplateRows"}),R({prop:"gridTemplateAreas"}),R({prop:"gridArea"}));function fe(e,t){return"grey"===t?t:e}Q(R({prop:"color",themeKey:"palette",transform:fe}),R({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fe}),R({prop:"backgroundColor",themeKey:"palette",transform:fe}));function he(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var de=R({prop:"width",transform:he}),pe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return T(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||E[t]||he(t)}}))}return null};pe.filterProps=["maxWidth"];var ve=R({prop:"minWidth",transform:he}),me=R({prop:"height",transform:he}),ye=R({prop:"maxHeight",transform:he}),ge=R({prop:"minHeight",transform:he}),ke=(R({prop:"size",cssProperty:"width",transform:he}),R({prop:"size",cssProperty:"height",transform:he}),Q(de,pe,ve,me,ye,ge,R({prop:"boxSizing"})),{border:{themeKey:"borders",transform:$},borderTop:{themeKey:"borders",transform:$},borderRight:{themeKey:"borders",transform:$},borderBottom:{themeKey:"borders",transform:$},borderLeft:{themeKey:"borders",transform:$},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ue},color:{themeKey:"palette",transform:fe},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fe},backgroundColor:{themeKey:"palette",transform:fe},p:{style:H},pt:{style:H},pr:{style:H},pb:{style:H},pl:{style:H},px:{style:H},py:{style:H},padding:{style:H},paddingTop:{style:H},paddingRight:{style:H},paddingBottom:{style:H},paddingLeft:{style:H},paddingX:{style:H},paddingY:{style:H},paddingInline:{style:H},paddingInlineStart:{style:H},paddingInlineEnd:{style:H},paddingBlock:{style:H},paddingBlockStart:{style:H},paddingBlockEnd:{style:H},m:{style:G},mt:{style:G},mr:{style:G},mb:{style:G},ml:{style:G},mx:{style:G},my:{style:G},margin:{style:G},marginTop:{style:G},marginRight:{style:G},marginBottom:{style:G},marginLeft:{style:G},marginX:{style:G},marginY:{style:G},marginInline:{style:G},marginInlineStart:{style:G},marginInlineEnd:{style:G},marginBlock:{style:G},marginBlockStart:{style:G},marginBlockEnd:{style:G},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:se},rowGap:{style:le},columnGap:{style:ce},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:he},maxWidth:{style:pe},minWidth:{transform:he},height:{transform:he},maxHeight:{transform:he},minHeight:{transform:he},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var be=function(){function e(e,t,n,r){var i,a=(i={},(0,b.Z)(i,e,t),(0,b.Z)(i,"theme",n),i),u=r[e];if(!u)return(0,b.Z)({},e,t);var s=u.cssProperty,c=void 0===s?e:s,l=u.themeKey,f=u.transform,h=u.style;if(null==t)return null;var d=N(n,l)||{};if(h)return h(a);return T(a,t,(function(t){var n=O(d,f,t);return t===n&&"string"===typeof t&&(n=O(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,b.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:ke;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=C(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=D(o,e(n,c,u,s));else{var l=T({theme:u},c,(function(e){return(0,b.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=D(o,l):o[n]=t({sx:c,theme:u})}else o=D(o,e(n,c,u,s))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();be.filterProps=["sx"];var we=be,xe=["breakpoints","palette","spacing","shape"];var _e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=h(e,xe),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,w),s=x(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=z({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=k({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},_,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return k(e,t)}),d)).unstable_sxConfig=c({},ke,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return we({sx:e,theme:this})},d};var Se=l.createContext(null);var Ee=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(Se);return n&&(e=n,0!==Object.keys(e).length)?n:t},Ie=_e();var Te=function(){return Ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie)};function Ce(e,t){var n;return c({toolbar:(n={minHeight:56},(0,b.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,b.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ne(e){if(e.type)return e;if("#"===e.charAt(0))return Ne(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Re(e){var t="hsl"===(e=Ne(e)).type||"hsla"===e.type?Ne(function(e){var t=(e=Ne(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function De(e,t){if(e=Ne(e),t=Ae(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Oe(e)}function Pe(e,t){if(e=Ne(e),t=Ae(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Oe(e)}var Le={black:"#000",white:"#fff"},Me={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Fe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},je={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ue={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Be={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ze={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},qe=["mode","contrastThreshold","tonalOffset"],Ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Le.white,default:Le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},We={text:{primary:Le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ge(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Pe(e.main,i):"dark"===t&&(e.dark=De(e.main,a)))}function He(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=h(e,qe),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ve[200],light:Ve[50],dark:Ve[400]}:{main:Ve[700],light:Ve[400],dark:Ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Fe[200],light:Fe[50],dark:Fe[400]}:{main:Fe[500],light:Fe[300],dark:Fe[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:je[500],light:je[300],dark:je[700]}:{main:je[700],light:je[400],dark:je[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Be[400],light:Be[300],dark:Be[700]}:{main:Be[700],light:Be[500],dark:Be[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ze[400],light:ze[300],dark:ze[700]}:{main:ze[800],light:ze[500],dark:ze[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ue[400],light:Ue[300],dark:Ue[700]}:{main:"#ed6c02",light:Ue[500],dark:Ue[900]}}(n);function y(e){var t=function(e,t){var n=Re(e),r=Re(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,We.text.primary)>=i?We.text.primary:Ke.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ge(t,"light",s,u),Ge(t,"dark",f,u),t.contrastText||(t.contrastText=y(t.main)),t},b={dark:We,light:Ke};return k(c({common:c({},Le),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:m,name:"warning"}),info:g({color:p,name:"info"}),success:g({color:v,name:"success"}),grey:Me,contrastThreshold:i,getContrastText:y,augmentColor:g,tonalOffset:u},b[n]),s)}var Ze=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Qe={textTransform:"uppercase"},$e='"Roboto", "Helvetica", "Arial", sans-serif';function Ye(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?$e:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,x=h(n,Ze);var _=o/14,S=w||function(e){return"".concat(e/g*_,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===$e?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},I={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,Qe),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,Qe)};return k(c({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},I),x,{clone:!1})}var Xe=.2,Je=.14,et=.12;function tt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Xe,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(Je,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(et,")")].join(",")}var nt=["none",tt(0,2,1,-1,0,1,1,0,0,1,3,0),tt(0,3,1,-2,0,2,2,0,0,1,5,0),tt(0,3,3,-2,0,3,4,0,0,1,8,0),tt(0,2,4,-1,0,4,5,0,0,1,10,0),tt(0,3,5,-1,0,5,8,0,0,1,14,0),tt(0,3,5,-1,0,6,10,0,0,1,18,0),tt(0,4,5,-2,0,7,10,1,0,2,16,1),tt(0,5,5,-3,0,8,10,1,0,3,14,2),tt(0,5,6,-3,0,9,12,1,0,3,16,2),tt(0,6,6,-3,0,10,14,1,0,4,18,3),tt(0,6,7,-4,0,11,15,1,0,4,20,3),tt(0,7,8,-4,0,12,17,2,0,5,22,4),tt(0,7,8,-4,0,13,19,2,0,5,24,4),tt(0,7,9,-4,0,14,21,2,0,5,26,4),tt(0,8,9,-5,0,15,22,2,0,6,28,5),tt(0,8,10,-5,0,16,24,2,0,6,30,5),tt(0,8,11,-5,0,17,26,2,0,6,32,5),tt(0,9,11,-5,0,18,28,2,0,7,34,6),tt(0,9,12,-6,0,19,29,2,0,7,36,6),tt(0,10,13,-6,0,20,31,3,0,8,38,7),tt(0,10,13,-6,0,21,33,3,0,8,40,7),tt(0,10,14,-6,0,22,35,3,0,8,42,7),tt(0,11,14,-7,0,23,36,3,0,9,44,8),tt(0,11,15,-7,0,24,38,3,0,9,46,8)],rt=["duration","easing","delay"],it={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},at={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ot(e){return"".concat(Math.round(e),"ms")}function ut(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function st(e){var t=c({},it,e.easing),n=c({},at,e.duration);return c({getAutoHeightDuration:ut,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;h(r,rt);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:ot(a)," ").concat(u," ").concat("string"===typeof c?c:ot(c))})).join(",")}},e,{easing:t,duration:n})}var ct={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},lt=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,u=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,f=h(e,lt);if(e.vars)throw new Error(a(18));var d=He(i),p=_e(e),v=k(p,{mixins:Ce(p.breakpoints,n),palette:d,shadows:nt.slice(),typography:Ye(d,l),transitions:st(u),zIndex:c({},ct)});v=k(v,f);for(var m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return(v=y.reduce((function(e,t){return k(e,t)}),v)).unstable_sxConfig=c({},ke,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return we({sx:e,theme:this})},v}var ht=ft();function dt(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return m({theme:Te(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:ht})}var pt=n(433);var vt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},mt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yt=vt((function(e){return mt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var gt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),kt=Math.abs,bt=String.fromCharCode,wt=Object.assign;function xt(e){return e.trim()}function _t(e,t,n){return e.replace(t,n)}function St(e,t){return e.indexOf(t)}function Et(e,t){return 0|e.charCodeAt(t)}function It(e,t,n){return e.slice(t,n)}function Tt(e){return e.length}function Ct(e){return e.length}function At(e,t){return t.push(e),e}var Nt=1,Ot=1,Rt=0,Dt=0,Pt=0,Lt="";function Mt(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Nt,column:Ot,length:o,return:""}}function Ft(e,t){return wt(Mt("",null,null,"",null,null,0),e,{length:-e.length},t)}function jt(){return Pt=Dt>0?Et(Lt,--Dt):0,Ot--,10===Pt&&(Ot=1,Nt--),Pt}function Ut(){return Pt=Dt<Rt?Et(Lt,Dt++):0,Ot++,10===Pt&&(Ot=1,Nt++),Pt}function Vt(){return Et(Lt,Dt)}function Bt(){return Dt}function zt(e,t){return It(Lt,e,t)}function qt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kt(e){return Nt=Ot=1,Rt=Tt(Lt=e),Dt=0,[]}function Wt(e){return Lt="",e}function Gt(e){return xt(zt(Dt-1,Qt(91===e?e+2:40===e?e+1:e)))}function Ht(e){for(;(Pt=Vt())&&Pt<33;)Ut();return qt(e)>2||qt(Pt)>3?"":" "}function Zt(e,t){for(;--t&&Ut()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return zt(e,Bt()+(t<6&&32==Vt()&&32==Ut()))}function Qt(e){for(;Ut();)switch(Pt){case e:return Dt;case 34:case 39:34!==e&&39!==e&&Qt(Pt);break;case 40:41===e&&Qt(e);break;case 92:Ut()}return Dt}function $t(e,t){for(;Ut()&&e+Pt!==57&&(e+Pt!==84||47!==Vt()););return"/*"+zt(t,Dt-1)+"*"+bt(47===e?e:Ut())}function Yt(e){for(;!qt(Vt());)Ut();return zt(e,Dt)}var Xt="-ms-",Jt="-moz-",en="-webkit-",tn="comm",nn="rule",rn="decl",an="@import",on="@keyframes";function un(e,t){for(var n="",r=Ct(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function sn(e,t,n,r){switch(e.type){case an:case rn:return e.return=e.return||e.value;case tn:return"";case on:return e.return=e.value+"{"+un(e.children,r)+"}";case nn:e.value=e.props.join(",")}return Tt(n=un(e.children,r))?e.return=e.value+"{"+n+"}":""}function cn(e){return Wt(ln("",null,null,null,[""],e=Kt(e),0,[0],e))}function ln(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=Ut()){case 40:if(108!=p&&58==Et(_,f-1)){-1!=St(_+=_t(Gt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Gt(g);break;case 9:case 10:case 13:case 32:_+=Ht(p);break;case 92:_+=Zt(Bt()-1,7);continue;case 47:switch(Vt()){case 42:case 47:At(hn($t(Ut(),Bt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=Tt(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&Tt(_)-f&&At(d>32?dn(_+";",r,n,f-1):dn(_t(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(At(x=fn(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)ln(_,t,x,x,b,a,f,u,w);else switch(99===h&&110===Et(_,3)?100:h){case 100:case 109:case 115:ln(e,x,x,r&&At(fn(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:ln(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+Tt(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==jt())continue;switch(_+=bt(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(Tt(_)-1)*y,y=1;break;case 64:45===Vt()&&(_+=Gt(Ut())),h=Vt(),l=f=Tt(k=_+=Yt(Bt())),g++;break;case 45:45===p&&2==Tt(_)&&(v=0)}}return a}function fn(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Ct(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=It(e,f+1,f=kt(v=o[p])),k=e;y<d;++y)(k=xt(v>0?h[y]+" "+g:_t(g,/&\f/g,h[y])))&&(s[m++]=k);return Mt(e,t,n,0===i?nn:u,s,c,l)}function hn(e,t,n){return Mt(e,t,n,tn,bt(Pt),It(e,2,-2),0)}function dn(e,t,n,r){return Mt(e,t,n,rn,It(e,0,r),It(e,r+1,-1),r)}var pn=function(e,t,n){for(var r=0,i=0;r=i,i=Vt(),38===r&&12===i&&(t[n]=1),!qt(i);)Ut();return zt(e,Dt)},vn=function(e,t){return Wt(function(e,t){var n=-1,r=44;do{switch(qt(r)){case 0:38===r&&12===Vt()&&(t[n]=1),e[n]+=pn(Dt-1,t,n);break;case 2:e[n]+=Gt(r);break;case 4:if(44===r){e[++n]=58===Vt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=bt(r)}}while(r=Ut());return e}(Kt(e),t))},mn=new WeakMap,yn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||mn.get(n))&&!r){mn.set(e,!0);for(var i=[],a=vn(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},gn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function kn(e,t){switch(function(e,t){return 45^Et(e,0)?(((t<<2^Et(e,0))<<2^Et(e,1))<<2^Et(e,2))<<2^Et(e,3):0}(e,t)){case 5103:return en+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return en+e+Jt+e+Xt+e+e;case 6828:case 4268:return en+e+Xt+e+e;case 6165:return en+e+Xt+"flex-"+e+e;case 5187:return en+e+_t(e,/(\w+).+(:[^]+)/,en+"box-$1$2"+Xt+"flex-$1$2")+e;case 5443:return en+e+Xt+"flex-item-"+_t(e,/flex-|-self/,"")+e;case 4675:return en+e+Xt+"flex-line-pack"+_t(e,/align-content|flex-|-self/,"")+e;case 5548:return en+e+Xt+_t(e,"shrink","negative")+e;case 5292:return en+e+Xt+_t(e,"basis","preferred-size")+e;case 6060:return en+"box-"+_t(e,"-grow","")+en+e+Xt+_t(e,"grow","positive")+e;case 4554:return en+_t(e,/([^-])(transform)/g,"$1"+en+"$2")+e;case 6187:return _t(_t(_t(e,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),e,"")+e;case 5495:case 3959:return _t(e,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return _t(_t(e,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+e+e;case 4095:case 3583:case 4068:case 2532:return _t(e,/(.+)-inline(.+)/,en+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tt(e)-1-t>6)switch(Et(e,t+1)){case 109:if(45!==Et(e,t+4))break;case 102:return _t(e,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+Jt+(108==Et(e,t+3)?"$3":"$2-$3"))+e;case 115:return~St(e,"stretch")?kn(_t(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Et(e,t+1))break;case 6444:switch(Et(e,Tt(e)-3-(~St(e,"!important")&&10))){case 107:return _t(e,":",":"+en)+e;case 101:return _t(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(45===Et(e,14)?"inline-":"")+"box$3$1"+en+"$2$3$1"+Xt+"$2box$3")+e}break;case 5936:switch(Et(e,t+11)){case 114:return en+e+Xt+_t(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return en+e+Xt+_t(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return en+e+Xt+_t(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return en+e+Xt+e+e}return e}var bn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case rn:e.return=kn(e.value,e.length);break;case on:return un([Ft(e,{value:_t(e.value,"@","@"+en)})],r);case nn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return un([Ft(e,{props:[_t(t,/:(read-\w+)/,":"+Jt+"$1")]})],r);case"::placeholder":return un([Ft(e,{props:[_t(t,/:(plac\w+)/,":"+en+"input-$1")]}),Ft(e,{props:[_t(t,/:(plac\w+)/,":"+Jt+"$1")]}),Ft(e,{props:[_t(t,/:(plac\w+)/,Xt+"input-$1")]})],r)}return""}))}}],wn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||bn;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[sn,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Ct(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([yn,gn].concat(r,l));a=function(e,t,n,r){s=n,un(cn(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new gt({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var xn=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sn=/[A-Z]|^ms/g,En=/_EMO_([^_]+?)_([^]*?)_EMO_/g,In=function(e){return 45===e.charCodeAt(1)},Tn=function(e){return null!=e&&"boolean"!==typeof e},Cn=vt((function(e){return In(e)?e:e.replace(Sn,"-$&").toLowerCase()})),An=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(En,(function(e,t,n){return On={name:t,styles:n,next:On},t}))}return 1===_n[e]||In(e)||"number"!==typeof t||0===t?t:t+"px"};function Nn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return On={name:n.name,styles:n.styles,next:On},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)On={name:r.name,styles:r.styles,next:On},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Tn(o)&&(r+=Cn(a)+":"+An(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Nn(e,t,o);switch(a){case"animation":case"animationName":r+=Cn(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Tn(o[s])&&(r+=Cn(a)+":"+An(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=On,a=n(e);return On=i,Nn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var On,Rn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Dn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";On=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Nn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Nn(n,t,e[o]),r&&(i+=a[o]);Rn.lastIndex=0;for(var u,s="";null!==(u=Rn.exec(i));)s+="-"+u[1];return{name:xn(i)+s,styles:i,next:On}},Pn=!!f.useInsertionEffect&&f.useInsertionEffect,Ln=Pn||function(e){return e()},Mn=(Pn||l.useLayoutEffect,(0,l.createContext)("undefined"!==typeof HTMLElement?wn({key:"css"}):null));Mn.Provider;var Fn=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Mn);return e(t,r,n)}))},jn=(0,l.createContext)({});var Un=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Vn=yt,Bn=function(e){return"theme"!==e},zn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Vn:Bn},qn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Kn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Un(t,n,r);Ln((function(){return function(e,t,n){Un(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},Wn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=qn(t,n,a),s=u||zn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Fn((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,l.useContext)(jn)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=Dn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?zn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Kn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,l.createElement)(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:qn(m,r,!0)})).apply(void 0,d)},m}},Gn=Wn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Gn[e]=Gn(e)}));var Hn=Gn;var Zn=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Qn=["variant"];function $n(e){return 0===e.length}function Yn(e){var t=e.variant,n=h(e,Qn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?$n(r)?e[t]:o(e[t]):"".concat($n(r)?t:o(t)).concat(o(e[t].toString()))})),r}var Xn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Jn=["theme"],er=["theme"];function tr(e){return 0===Object.keys(e).length}var nr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},rr=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Yn(e.props);r[t]=e.style})),r},ir=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Yn(n.props)])})),s};function ar(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var or=_e();var ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?or:t,r=e.rootShouldForwardProp,i=void 0===r?ar:r,a=e.slotShouldForwardProp,o=void 0===a?ar:a,u=function(e){var t=tr(e.theme)?n:e.theme;return we(c({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zn(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r=t.name,a=t.slot,s=t.skipVariantsResolver,l=t.skipSx,f=t.overridesResolver,d=h(t,Xn),p=void 0!==s?s:a&&"Root"!==a||!1,v=l||!1;var m=ar;"Root"===a?m=i:a?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);var y=function(e,t){return Hn(e,t)}(e,c({shouldForwardProp:m,label:undefined},d)),g=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=i?i.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=h(t,Jn);return e(c({theme:tr(r)?n:r},i))}:e})):[],s=e;r&&f&&o.push((function(e){var t=tr(e.theme)?n:e.theme,i=nr(r,t);if(i){var a={};return Object.entries(i).forEach((function(n){var r=(0,S.Z)(n,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(c({},e,{theme:t})):o})),f(e,a)}return null})),r&&!p&&o.push((function(e){var t=tr(e.theme)?n:e.theme;return ir(e,rr(r,t),t,r)})),v||o.push(u);var l=o.length-i.length;if(Array.isArray(e)&&l>0){var d=new Array(l).fill("");(s=[].concat((0,pt.Z)(e),(0,pt.Z)(d))).raw=[].concat((0,pt.Z)(e.raw),(0,pt.Z)(d))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=h(t,er);return e(c({theme:tr(r)?n:r},i))});return y.apply(void 0,[s].concat((0,pt.Z)(o)))};return y.withConfig&&(g.withConfig=y.withConfig),g}}({defaultTheme:ht,rootShouldForwardProp:function(e){return ar(e)&&"classes"!==e}}),sr=ur,cr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=cr[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function fr(e){return lr("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=lr(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var hr=n(184),dr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],pr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},fr,r)},vr=sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),mr=l.forwardRef((function(e,t){var n=dt({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=h(n,dr),w=c({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k}),x={};m||(x.viewBox=k);var _=pr(w);return(0,hr.jsxs)(vr,c({as:s,className:p(_.root,i),focusable:"false",color:d,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},x,b,{ownerState:w,children:[r,y?(0,hr.jsx)("title",{children:y}):null]}))}));mr.muiName="SvgIcon";var yr=mr;function gr(e,t){function n(n,r){return(0,hr.jsx)(yr,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=yr.muiName,l.memo(l.forwardRef(n))}var kr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var br=function(e,t){return function(){return null}};var wr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function xr(e){return e&&e.ownerDocument||document}var _r=xr;var Sr=function(e){return xr(e).defaultView||window};var Er=function(e,t){return function(){return null}};function Ir(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Tr=Ir,Cr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Ar=Cr,Nr=0;var Or=f.useId;var Rr=function(e){if(void 0!==Or){var t=Or();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Nr+=1))}),[r]),a}(e)};var Dr=function(e,t,n,r,i){return null};var Pr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Lr=function(e){var t=l.useRef(e);return Cr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Mr,Fr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){Ir(t,e)}))}}),t)},jr=!0,Ur=!1,Vr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Br(e){e.metaKey||e.altKey||e.ctrlKey||(jr=!0)}function zr(){jr=!1}function qr(){"hidden"===this.visibilityState&&Ur&&(jr=!0)}function Kr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return jr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Vr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Wr=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Br,!0),t.addEventListener("mousedown",zr,!0),t.addEventListener("pointerdown",zr,!0),t.addEventListener("touchstart",zr,!0),t.addEventListener("visibilitychange",qr,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Kr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Ur=!0,window.clearTimeout(Mr),Mr=window.setTimeout((function(){Ur=!1}),100),t.current=!1,!0)},ref:e}},Gr={configure:function(e){i.configure(e)}}},764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return u(e)||s(e,t)||c(e,t)||f()}function u(e){if(Array.isArray(e))return e}function s(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function v(){}v.resetWarningCache=p;var m=function(){function e(e,t,n,r,i,a){if(a!==d){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:p};return n.PropTypes=n,n},y=h((function(e){e.exports=m()})),g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},b=function(e){return k(e)&&"function"===typeof e.then},w=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var u={},s=0;s<a.length;s+=1)u[a[s]]=!0;for(var c=0;c<o.length;c+=1)u[o[c]]=!0;var l=Object.keys(u);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,o){var u=!k(t)||!_(e[o],t[o]);return n.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I=function(e){if(null===e||w(e))return e;throw new Error(E)},T=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(I)};var t=I(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var A=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},N=t.createContext(null);N.displayName="CartElementContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},R=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return T(n)}),[n]),u=o(t.useState(null),2),s=u[0],c=u[1],l=o(t.useState(null),2),f=l[0],h=l[1],d=o(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=g(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=g(r);return t.useEffect((function(){if(p.elements){var e=S(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.4"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.4",url:"https://stripe.com/docs/stripe-js/react"}))}),[p.stripe]),t.createElement(C.Provider,{value:p},t.createElement(N.Provider,{value:{cart:s,setCart:c,cartState:f,setCartState:h}},i))};R.propTypes={stripe:y.any,options:y.object};var D=function(e){var n=t.useContext(C);return A(n,e)},P=function(e){var n=t.useContext(N);return O(n,e)},L=function(){return D("calls useElements()").elements},M=function(){return D("calls useStripe()").stripe},F=function(){return P("calls useCartElement()").cart},j=function(){return P("calls useCartElementState()").cartState},U=function(e){return(0,e.children)(D("mounts <ElementsConsumer>"))};U.propTypes={children:y.func.isRequired};var V=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},B=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=function(e,n){var r="".concat(B(e),"Element"),i=n?function(e){D("mounts <".concat(r,">")),P("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,u=n.className,s=n.options,c=void 0===s?{}:s,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,k=n.onNetworksChange,b=n.onCheckout,w=n.onLineItemClick,x=n.onConfirm,_=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,T=D("mounts <".concat(r,">")).elements,C=o(t.useState(null),2),A=C[0],N=C[1],O=t.useRef(null),R=t.useRef(null),L=P("mounts <".concat(r,">")),M=L.setCart,F=L.setCartState;V(A,"blur",l),V(A,"focus",f),V(A,"escape",p),V(A,"click",v),V(A,"loaderror",m),V(A,"loaderstart",y),V(A,"networkschange",k),V(A,"lineitemclick",w),V(A,"confirm",x),V(A,"cancel",_),V(A,"shippingaddresschange",E),V(A,"shippingratechange",I),"cart"===e?i=function(e){F(e),h&&h(e)}:h&&(i="payButton"===e?h:function(){h(A)}),V(A,"ready",i),V(A,"change","cart"===e?function(e){F(e),d&&d(e)}:d),V(A,"checkout","cart"===e?function(e){F(e),b&&b(e)}:b),t.useLayoutEffect((function(){if(null===O.current&&T&&null!==R.current){var t=T.create(e,c);"cart"===e&&M&&M(t),O.current=t,N(t),t.mount(R.current)}}),[T,c,M]);var j=g(c);return t.useEffect((function(){if(O.current){var e=S(c,j,["paymentRequest"]);e&&O.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){O.current&&(O.current.destroy(),O.current=null)}}),[]),t.createElement("div",{id:a,className:u,ref:R})};return i.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onCheckout:y.func,onLineItemClick:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},i.displayName=r,i.__elementType=e,i},q="undefined"===typeof window,K=z("auBankAccount",q),W=z("card",q),G=z("cardNumber",q),H=z("cardExpiry",q),Z=z("cardCvc",q),Q=z("fpxBank",q),$=z("iban",q),Y=z("idealBank",q),X=z("p24Bank",q),J=z("epsBank",q),ee=z("payment",q),te=z("payButton",q),ne=z("paymentRequestButton",q),re=z("linkAuthentication",q),ie=z("address",q),ae=z("shippingAddress",q),oe=z("cart",q),ue=z("paymentMethodMessaging",q),se=z("affirmMessage",q),ce=z("afterpayClearpayMessage",q);e.AddressElement=ie,e.AffirmMessageElement=se,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=K,e.CardCvcElement=Z,e.CardElement=W,e.CardExpiryElement=H,e.CardNumberElement=G,e.CartElement=oe,e.Elements=R,e.ElementsConsumer=U,e.EpsBankElement=J,e.FpxBankElement=Q,e.IbanElement=$,e.IdealBankElement=Y,e.LinkAuthenticationElement=re,e.P24BankElement=X,e.PayButtonElement=te,e.PaymentElement=ee,e.PaymentMethodMessagingElement=ue,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=F,e.useCartElementState=j,e.useElements=L,e.useStripe=M,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(7)),o=s(n(791)),u=n(432);function s(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:u.noop,onChange:u.noop,onKeyDown:u.noop,onMouseUp:u.noop,onFocus:u.noop,onBlur:u.noop,isAllowed:u.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,u.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,u.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,u.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,u.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var s="-"===e[0];return Math.min(Math.max(t,i.length+(s?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,u.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,u.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,u.charIsNumber)(e[h]));)h-=1;return!(0,u.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),u=(t.match(a)||[]).join(""),s=void 0,c=void 0;for(s=0,c=0;c<n;c++){var l=e[c]||"",f=t[s]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===u.length)){for(;l!==t[s]&&s<t.length;)s++;s++}}return"string"!==typeof r||i||(s=t.length),s=this.correctCaretPosition(t,s)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",u=i===a?e.length:e.indexOf(o,n);if(-1===u){r=e;break}r+=e.substring(n,u),n=u+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case u.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case u.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case u.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),s=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,u.limitToScale)(p,n,r)),s&&(d=this.formatThousand(d,s,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,u.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,u=n.fixedDecimalScale,s=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&u&&t[e]===s))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,u.splitString)(t,e),s=(0,u.splitString)(n,e),c=o[1].lastIndexOf(s[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",u=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(u,o,n);var s=this.formatInput(n)||"",c=this.removeFormatting(s),l={formattedValue:s,value:c,floatValue:parseFloat(c)};a(l)||(s=o),t.value=s;var f=this.getCaretPosition(n,s,u);this.setPatchedCaretPosition(t,f,s),s!==o?this.setState({value:s,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,u.fixLeadingZero)(a);var s=this.formatNumString(a),c={formattedValue:s,value:a,floatValue:parseFloat(a)};if(s!==o)return e.persist(),void this.setState({value:s,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,u=this.props,s=u.decimalScale,c=u.fixedDecimalScale,l=u.prefix,f=u.suffix,h=u.format,d=u.onKeyDown,p=void 0!==s&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,b=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,w)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<b;)g++;(g!==o||o<k||o>b)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,s=this.state.value,l=(0,u.omit)(this.props,c),f=r({},l,{type:t,value:s,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(s)||null:o.default.createElement("span",l,s);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),u=n(a[1]||"",(i[1]||"").length,r);return o+(u?"."+u:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Qt(e,t,n,r);if(null===i)Kr(e,t,r,Zt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Kr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Zt=null;function Qt(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Zn(e){jr(e,0)}function Qn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Oe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Pr=Or[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Zr(o,u,s,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Je,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Wi=null,Gi=0,Hi=[],Zi=0,Qi=null,$i=1,Yi="";function Xi(e,t){qi[Ki++]=Gi,qi[Ki++]=Wi,Wi=e,Gi=t}function Ji(e,t,n){Hi[Zi++]=$i,Hi[Zi++]=Yi,Hi[Zi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Qi;)Qi=Hi[--Zi],Hi[Zi]=null,Yi=Hi[--Zi],Hi[Zi]=null,$i=Hi[--Zi],Hi[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ii(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Du,Pu,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Zi++]=$i,Hi[Zi++]=Yi,Hi[Zi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Ri(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),J(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Du(e,t),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Ju=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Os=null,Rs=0,Ds=0,Ps=Si(0),Ls=0,Ms=null,Fs=0,js=0,Us=0,Vs=null,Bs=null,zs=0,qs=1/0,Ks=null,Ws=!1,Gs=null,Hs=null,Zs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?Ye():-1!==Js?Js:Js=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Ye()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&As)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Rs===t||(Ks=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Is.current=o,As=i,null!==Os?t=0:(Ns=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),t);break}xc(e,Bs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),r);break}xc(e,Bs,Ks);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Ks),ic(e,Ye()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Ye()+500,Ui&&zi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&zi()}}function hc(){Ds=Ps.current,Ei(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Os=e=Pc(e.current,null),Rs=Ds=t,Ls=0,Ms=null,Us=js=Fs=0,Bs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Rs)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Rs===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Is.current=r,null!==Os)throw Error(a(261));return Ns=null,Rs=0,Ls}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!Qe();)bc(Os)}function bc(e){var t=Ss(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zu(n,t,Ds)))return void(Os=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ls=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Os=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zs||(Zs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Zs&&(Zs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(As=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Ye()-zs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return He(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&As)&&(qs=Ye()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=N,_=function(){R.postMessage(null)}}else _=function(){y(N,0)};function D(e){E=e,S||(S=!0,_())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gt},SDK_VERSION:function(){return On},_DEFAULT_ENTRY_NAME:function(){return gn},_addComponent:function(){return xn},_addOrOverwriteComponent:function(){return _n},_apps:function(){return bn},_clearComponents:function(){return Tn},_components:function(){return wn},_getProvider:function(){return En},_registerComponent:function(){return Sn},_removeServiceInstance:function(){return In},deleteApp:function(){return Ln},getApp:function(){return Dn},getApps:function(){return Pn},initializeApp:function(){return Rn},onLog:function(){return jn},registerVersion:function(){return Fn},setLogLevel:function(){return Un}});var t=n(791),r=n.t(t,2),i=n(164);var a=n(439),o=n(403),u=n(303),s=n(433);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=n(142);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,l.Z)(r.key),r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=n(2);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,y.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function b(e,t,n){return b=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},w(e)}var x,_=n(878),S=n(199),E=n(181),I=n(267);function T(e){return(0,_.Z)(e)||(0,S.Z)(e)||(0,E.Z)(e)||(0,I.Z)()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,E.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(x||(x={}));var N,O="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=x.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=x.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:L(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(A({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(O,p),f=e,function(){o.removeEventListener(O,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=x.Push;var r=P(m.location,e,t);n&&n(r,e);var i=D(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=x.Replace;var r=P(m.location,e,t);n&&n(r,e);var i=D(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function j(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Z(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),c=[];return c.push.apply(c,(0,s.Z)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,(0,s.Z)(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));var B=/^:\w+$/,z=3,q=2,K=1,W=10,G=-2,H=function(e){return"*"===e};function Z(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=G),t&&(r+=q),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?K:W)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);J("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return J(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return J(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(w(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},de=t.useState,pe=t.useEffect,ve=t.useLayoutEffect,me=t.useDebugValue;function ye(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!he(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ge=t.createContext(null);var ke=t.createContext(null);var be=t.createContext(null);var we=t.createContext(null);var xe=t.createContext(null);var _e=t.createContext({outlet:null,matches:[]});var Se=t.createContext(null);function Ee(){return null!=t.useContext(xe)}function Ie(){return Ee()||R(!1),t.useContext(xe).location}function Te(){Ee()||R(!1);var e=t.useContext(we),n=e.basename,r=e.navigator,i=t.useContext(_e).matches,a=Ie().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=ne(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:re([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Ce(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(_e).matches,a=Ie().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ae(){var e=function(){var e,n=t.useContext(Se),r=Le(Oe.UseRouteError),i=Me(Oe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ne,Oe,Re=function(e){p(r,e);var n=k(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return h(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(_e.Provider,{value:this.props.routeContext},t.createElement(Se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function De(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ge);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(_e.Provider,{value:n},i)}function Pe(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||R(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Ae,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement(De,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Re,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Le(e){var n=t.useContext(ke);return n||R(!1),n}function Me(e){var n=function(e){var n=t.useContext(_e);return n||R(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||R(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ne||(Ne={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Oe||(Oe={}));var Fe;function je(e){R(!1)}function Ue(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?x.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Ee()&&R(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=M(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,I=t.useMemo((function(){var e=X(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:_,key:E}}),[h,m,g,b,_,E]);return null==I?null:t.createElement(we.Provider,{value:d},t.createElement(xe.Provider,{children:a,value:{location:I,navigationType:s}}))}function Ve(e){var n=e.children,r=e.location,i=t.useContext(ge);return function(e,n){Ee()||R(!1);var r,i=t.useContext(we).navigator,a=t.useContext(ke),o=t.useContext(_e).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Ie());if(n){var f,h="string"===typeof n?M(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||R(!1),r=h}else r=l;var d=r.pathname||"/",p=j(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Pe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:re([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:re([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(xe.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:x.Pop}},v):v}(i&&!n?i.router.routes:ze(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Fe||(Fe={}));var Be=new Promise((function(){}));t.Component;function ze(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==je&&R(!1),e.props.index&&e.props.children&&R(!1);var a=[].concat((0,s.Z)(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=ze(e.props.children,a)),r.push(o)}else r.push.apply(r,ze(e.props.children,n))})),r}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ge(e){var n,r=e.basename,i=e.children,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),F((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,n)));var s=u.current,c=t.useState({action:s.action,location:s.location}),l=(0,a.Z)(c,2),f=l[0],h=l[1];return t.useLayoutEffect((function(){return s.listen(h)}),[s]),t.createElement(Ue,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:s})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ze=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ke(e,We),d=!1;if(He&&"string"===typeof l&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){r=l;var p=new URL(window.location.href),v=l.startsWith("//")?new URL(p.protocol+l):new URL(l);v.origin===p.origin?l=v.pathname+v.search+v.hash:d=!0}var m=function(e,n){var r=(void 0===n?{}:n).relative;Ee()||R(!1);var i=t.useContext(we),a=i.basename,o=i.navigator,u=Ce(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:re([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),y=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Te(),l=Ie(),f=Ce(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",qe({},h,{href:r||m,onClick:d||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:c}))}));var Qe,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));var Ye=n(184),Xe=(0,t.createContext)(),Je=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,Ye.jsx)(Xe.Provider,{value:(0,t.useReducer)(n,r),children:i})},et=function(){return(0,t.useContext)(Xe)},tt=n(942),nt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},it=function(e){return function(e){var t=nt(e);return rt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},at=function(e){try{return rt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ot(e[n],t[n]));return e}var ut=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},st=function(){try{return ut()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/amazon-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&at(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ct=function(){var e;return null===(e=st())||void 0===e?void 0:e.config},lt=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ft(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ht(){var e,t=null===(e=st())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function dt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function vt(){var e=ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yt="FirebaseError",gt=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=yt,Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),kt.prototype.create),a}return h(n)}(w(Error)),kt=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gt(n,a,t)}}]),e}();var bt=/\{\$([^}]+)}/g;function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(_t(u)&&_t(s)){if(!xt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function _t(e){return null!==e&&"object"===typeof e}function St(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Et(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function It(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tt(e,t){var n=new Ct(e,t);return n.subscribe.bind(n)}var Ct=function(){function e(t,n){var r=this;c(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=At),void 0===r.error&&(r.error=At),void 0===r.complete&&(r.complete=At);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function At(){}function Nt(e){return e&&e._delegate?e._delegate:e}function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(v=g);var k=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,y.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Rt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Rt(a,r,i,o,u,"next",e)}function u(e){Rt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Pt=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Lt="[DEFAULT]",Mt=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch(c){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,s.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,s.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=C(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(WS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Lt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(WS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.component?this.component.multipleInstances?e:Lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ft,jt,Ut=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Mt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jt||(jt={}));var Bt={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},zt=jt.INFO,qt=(Ft={},(0,tt.Z)(Ft,jt.DEBUG,"log"),(0,tt.Z)(Ft,jt.VERBOSE,"log"),(0,tt.Z)(Ft,jt.INFO,"info"),(0,tt.Z)(Ft,jt.WARN,"warn"),(0,tt.Z)(Ft,jt.ERROR,"error"),Ft),Kt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=qt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wt=function(){function e(t){c(this,e),this.name=t,this._logLevel=zt,this._logHandler=Kt,this._userLogHandler=null,Vt.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in jt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.DEBUG].concat(t)),this._logHandler.apply(this,[this,jt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,jt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.INFO].concat(t)),this._logHandler.apply(this,[this,jt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.WARN].concat(t)),this._logHandler.apply(this,[this,jt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.ERROR].concat(t)),this._logHandler.apply(this,[this,jt.ERROR].concat(t))}}]),e}();function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,tt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt,Qt,$t=function(e,t){return t.some((function(t){return e instanceof t}))};var Yt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,en=new WeakMap,tn=new WeakMap;var nn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qt||(Qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(un(this),n),on(Yt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return on(e.apply(un(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[un(this),t].concat(r));return Jt.set(a,t.sort?t.sort():[t]),on(a)}}function an(e){return"function"===typeof e?rn(e):(e instanceof IDBTransaction&&function(e){if(!Xt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xt.set(e,t)}}(e),$t(e,Zt||(Zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,nn):e)}function on(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(on(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Yt.set(t,e)})).catch((function(){})),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);var t=an(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}var un=function(e){return tn.get(e)};var sn,cn,ln=["get","getKey","getAll","getAllKeys","count"],fn=["put","add","delete","clear"],hn=new Map;function dn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(hn.get(t))return hn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=fn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ln.includes(n))){var a=function(){var e=Dt(Ot().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return hn.set(t,a),a}}}nn=function(e){return Ht(Ht({},e),{},{get:function(t,n,r){return dn(t,n)||e.get(t,n,r)},has:function(t,n){return!!dn(t,n)||e.has(t,n)}})}(nn);var pn=function(){function e(t){c(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var vn="@firebase/app",mn="0.9.3",yn=new Wt("@firebase/app"),gn="[DEFAULT]",kn=(sn={},(0,tt.Z)(sn,vn,"fire-core"),(0,tt.Z)(sn,"@firebase/app-compat","fire-core-compat"),(0,tt.Z)(sn,"@firebase/analytics","fire-analytics"),(0,tt.Z)(sn,"@firebase/analytics-compat","fire-analytics-compat"),(0,tt.Z)(sn,"@firebase/app-check","fire-app-check"),(0,tt.Z)(sn,"@firebase/app-check-compat","fire-app-check-compat"),(0,tt.Z)(sn,"@firebase/auth","fire-auth"),(0,tt.Z)(sn,"@firebase/auth-compat","fire-auth-compat"),(0,tt.Z)(sn,"@firebase/database","fire-rtdb"),(0,tt.Z)(sn,"@firebase/database-compat","fire-rtdb-compat"),(0,tt.Z)(sn,"@firebase/functions","fire-fn"),(0,tt.Z)(sn,"@firebase/functions-compat","fire-fn-compat"),(0,tt.Z)(sn,"@firebase/installations","fire-iid"),(0,tt.Z)(sn,"@firebase/installations-compat","fire-iid-compat"),(0,tt.Z)(sn,"@firebase/messaging","fire-fcm"),(0,tt.Z)(sn,"@firebase/messaging-compat","fire-fcm-compat"),(0,tt.Z)(sn,"@firebase/performance","fire-perf"),(0,tt.Z)(sn,"@firebase/performance-compat","fire-perf-compat"),(0,tt.Z)(sn,"@firebase/remote-config","fire-rc"),(0,tt.Z)(sn,"@firebase/remote-config-compat","fire-rc-compat"),(0,tt.Z)(sn,"@firebase/storage","fire-gcs"),(0,tt.Z)(sn,"@firebase/storage-compat","fire-gcs-compat"),(0,tt.Z)(sn,"@firebase/firestore","fire-fst"),(0,tt.Z)(sn,"@firebase/firestore-compat","fire-fst-compat"),(0,tt.Z)(sn,"fire-js","fire-js"),(0,tt.Z)(sn,"firebase","fire-js-all"),sn),bn=new Map,wn=new Map;function xn(e,t){try{e.container.addComponent(t)}catch(n){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _n(e,t){e.container.addOrOverwriteComponent(t)}function Sn(e){var t=e.name;if(wn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;wn.set(t,e);var n,r=C(bn.values());try{for(r.s();!(n=r.n()).done;){xn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function En(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function In(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn;En(e,t).clearInstance(n)}function Tn(){wn.clear()}var Cn=(cn={},(0,tt.Z)(cn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(cn,"bad-app-name","Illegal App name: '{$appName}"),(0,tt.Z)(cn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,tt.Z)(cn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,tt.Z)(cn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,tt.Z)(cn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,tt.Z)(cn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,tt.Z)(cn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),cn),An=new kt("app","Firebase",Cn),Nn=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),On="9.17.1";function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=ct()),!n)throw An.create("no-options");var a=bn.get(i);if(a){if(xt(n,a.options)&&xt(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,u=new Ut(i),s=C(wn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Nn(n,r,u);return bn.set(i,l),l}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=bn.get(e);if(!t&&e===gn)return Rn();if(!t)throw An.create("no-app",{appName:e});return t}function Pn(){return Array.from(bn.values())}function Ln(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!bn.has(n)){e.next=6;break}return bn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t,n){var r,i=null!==(r=kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(u.join(" "))}Sn(new Pt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function jn(e,t){if(null!==e&&"function"!==typeof e)throw An.create("invalid-log-argument");!function(e,t){var n,r=C(Vt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:jt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Un(e){var t;t=e,Vt.forEach((function(e){e.setLogLevel(t)}))}var Vn="firebase-heartbeat-database",Bn=1,zn="firebase-heartbeat-store",qn=null;function Kn(){return qn||(qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=on(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(on(u.result),e.oldVersion,e.newVersion,on(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Vn,Bn,{upgrade:function(e,t){if(0===t)e.createObjectStore(zn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),qn}function Wn(e){return Gn.apply(this,arguments)}function Gn(){return Gn=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn();case 3:return n=e.sent,e.abrupt("return",n.transaction(zn).objectStore(zn).get(Qn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gt?yn.warn(e.t0.message):(r=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Gn.apply(this,arguments)}function Hn(e,t){return Zn.apply(this,arguments)}function Zn(){return Zn=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn();case 3:return r=e.sent,i=r.transaction(zn,"readwrite"),a=i.objectStore(zn),e.next=8,a.put(n,Qn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gt?yn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Zn.apply(this,arguments)}function Qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var $n=1024,Yn=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Xn(),n=Jn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=it(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xn(){return(new Date).toISOString().substring(0,10)}function Jn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),rr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),rr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var er,tr,nr=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Wn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Hn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Hn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,s.Z)(r.heartbeats),(0,s.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function rr(e){return it(JSON.stringify({version:2,heartbeats:e})).length}er="",Sn(new Pt("platform-logger",(function(e){return new pn(e)}),"PRIVATE")),Sn(new Pt("heartbeat",(function(e){return new Yn(e)}),"PRIVATE")),Fn(vn,mn,er),Fn(vn,mn,"esm2017"),Fn("fire-js","");var ir=function(){function e(t,n){var r=this;c(this,e),this._delegate=t,this.firebase=n,xn(t,new Pt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ln(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){xn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){_n(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ar=(tr={},(0,tt.Z)(tr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(tr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),tr),or=new kt("app-compat","Firebase",ar);var ur=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Rn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Fn,setLogLevel:Un,onLog:jn,apps:null,SDK_VERSION:On,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Sn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw or.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ot(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wt(n,e=e||gn))throw or.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ir);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ot(n,e)},createSubscribe:Tt,ErrorFactory:kt,deepExtend:ot}),n}(),sr=new Wt("@firebase/app-compat"),cr="@firebase/app-compat",lr="0.2.3";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){sr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fr=self.firebase.SDK_VERSION;fr&&fr.indexOf("LITE")>=0&&sr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var hr=ur;!function(e){Fn(cr,lr,e)}();function dr(){return dr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dr.apply(this,arguments)}hr.registerVersion("firebase","9.17.1","app-compat");function pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vr;Object.create;var mr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},yr={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function gr(){return(0,tt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var kr=function(){var e;return e={},(0,tt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,tt.Z)(e,"argument-error",""),(0,tt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,tt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,tt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,tt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,tt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,tt.Z)(e,"cors-unsupported","This browser is not supported."),(0,tt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,tt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,tt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,tt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,tt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,tt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,tt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,tt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,tt.Z)(e,"expired-action-code","The action code has expired."),(0,tt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,tt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,tt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,tt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,tt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,tt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,tt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,tt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,tt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,tt.Z)(e,"invalid-email","The email address is badly formatted."),(0,tt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,tt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,tt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,tt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,tt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,tt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,tt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,tt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,tt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,tt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,tt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,tt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,tt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,tt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,tt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,tt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,tt.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,tt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,tt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,tt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,tt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,tt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,tt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,tt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,tt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,tt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,tt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,tt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,tt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,tt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,tt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,tt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,tt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,tt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,tt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,tt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,tt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,tt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,tt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,tt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,tt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,tt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,tt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,tt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,tt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,tt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,tt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,tt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,tt.Z)(e,"timeout","The operation has timed out."),(0,tt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,tt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,tt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,tt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,tt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,tt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,tt.Z)(e,"unverified-email","The operation requires a verified email."),(0,tt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,tt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,tt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,tt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,tt.Z)(e,"user-signed-out",""),(0,tt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,tt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,tt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},br=gr,wr=new kt("auth","Firebase",gr()),xr=new Wt("@firebase/auth");function _r(e){if(xr.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xr.error.apply(xr,["Auth (".concat(On,"): ").concat(e)].concat(n))}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cr.apply(void 0,[e].concat(n))}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cr.apply(void 0,[e].concat(n))}function Ir(e,t,n){var r=Object.assign(Object.assign({},br()),(0,tt.Z)({},t,n));return new kt("auth","Firebase",r).create(t,{appName:e.name})}function Tr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sr(e,"argument-error"),Ir(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,s.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,s.Z)(o)))}return wr.create.apply(wr,[e].concat(n))}function Ar(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cr.apply(void 0,[t].concat(r))}}function Nr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _r(t),new Error(t)}function Or(e,t){e||Nr(t)}var Rr=new Map;function Dr(e){Or(e instanceof Function,"Expected a class definition");var t=Rr.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rr.set(e,t),t)}function Pr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Fr=function(){function e(t,n){c(this,e),this.shortDelay=t,this.longDelay=n,Or(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())||pt()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Lr()||dt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jr(e,t){Or(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ur=function(){function e(){c(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Vr=(vr={},(0,tt.Z)(vr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,tt.Z)(vr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,tt.Z)(vr,"INVALID_IDENTIFIER","invalid-email"),(0,tt.Z)(vr,"MISSING_CONTINUE_URI","internal-error"),(0,tt.Z)(vr,"INVALID_PASSWORD","wrong-password"),(0,tt.Z)(vr,"MISSING_PASSWORD","internal-error"),(0,tt.Z)(vr,"EMAIL_EXISTS","email-already-in-use"),(0,tt.Z)(vr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,tt.Z)(vr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,tt.Z)(vr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,tt.Z)(vr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,tt.Z)(vr,"MISSING_REQ_TYPE","internal-error"),(0,tt.Z)(vr,"EMAIL_NOT_FOUND","user-not-found"),(0,tt.Z)(vr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,tt.Z)(vr,"EXPIRED_OOB_CODE","expired-action-code"),(0,tt.Z)(vr,"INVALID_OOB_CODE","invalid-action-code"),(0,tt.Z)(vr,"MISSING_OOB_CODE","internal-error"),(0,tt.Z)(vr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,tt.Z)(vr,"INVALID_ID_TOKEN","invalid-user-token"),(0,tt.Z)(vr,"TOKEN_EXPIRED","user-token-expired"),(0,tt.Z)(vr,"USER_NOT_FOUND","user-token-expired"),(0,tt.Z)(vr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,tt.Z)(vr,"INVALID_CODE","invalid-verification-code"),(0,tt.Z)(vr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,tt.Z)(vr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,tt.Z)(vr,"MISSING_SESSION_INFO","missing-verification-id"),(0,tt.Z)(vr,"SESSION_EXPIRED","code-expired"),(0,tt.Z)(vr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,tt.Z)(vr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,tt.Z)(vr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,tt.Z)(vr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,tt.Z)(vr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,tt.Z)(vr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,tt.Z)(vr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,tt.Z)(vr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,tt.Z)(vr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,tt.Z)(vr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,tt.Z)(vr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vr),Br=new Fr(3e4,6e4);function zr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qr(e,t,n,r){return Kr.apply(this,arguments)}function Kr(){return Kr=Dt(Ot().mark((function e(t,n,r,i){var a,o=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Wr(t,a,Dt(Ot().mark((function e(){var a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=St(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ur.fetch()(Qr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Wr(e,t,n){return Gr.apply(this,arguments)}function Gr(){return Gr=Dt(Ot().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Vr),n),e.prev=2,o=new $r(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Yr(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Yr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Yr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Yr(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ir(t,p,d);case 34:Sr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gt)){e.next=41;break}throw e.t0;case 41:Sr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Gr.apply(this,arguments)}function Hr(e,t,n,r){return Zr.apply(this,arguments)}function Zr(){return Zr=Dt(Ot().mark((function e(t,n,r,i){var a,o,u=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,qr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function Qr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var $r=function(){function e(t){var n=this;c(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Er(n.auth,"network-request-failed"))}),Br.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Er(e,t,r);return i.customData._tokenResponse=n,i}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ai(){return ai=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Nt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ar((a=ui(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ii(oi(a.auth_time)),issuedAtTime:ii(oi(a.iat)),expirationTime:ii(oi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){return 1e3*Number(e)}function ui(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return _r("JWT malformed, contained fewer than 3 sections"),null;try{var u=at(i);return u?JSON.parse(u):(_r("Failed to decode base64 JWT payload"),null)}catch(s){return _r("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=Dt(Ot().mark((function e(t,n){var r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gt&&li(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ci.apply(this,arguments)}function li(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fi=function(){function e(t){c(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=function(){function e(t,n){c(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function di(e){return pi.apply(this,arguments)}function pi(){return pi=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,si(t,ni(r,{idToken:i}));case 6:Ar(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=pr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=mi(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new hi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(){return(vi=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nt(t),e.next=3,di(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,s.Z)(n),(0,s.Z)(t))}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t,{},Dt(Ot().mark((function e(){var r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=St({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Qr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ur.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}var ki=function(){function e(){c(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ar(e.idToken,"internal-error"),Ar("undefined"!==typeof e.idToken,"internal-error"),Ar("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ui(e);return Ar(t,"internal-error"),Ar("undefined"!==typeof t.exp,"internal-error"),Ar("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Dt(Ot().mark((function e(t){var n,r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ar(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ar("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ar("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ar("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function bi(e,t){Ar("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var wi=function(){function e(t){c(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,s.Z)(a.providerData):[],this.metadata=new hi(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ar(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ai.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return vi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ar(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,di(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,si(this,Xr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ar(k&&_,t,"internal-error");var S=ki.fromJSON(this.name,_);Ar("string"===typeof k,t,"internal-error"),bi(f,t.name),bi(h,t.name),Ar("boolean"===typeof b,t,"internal-error"),Ar("boolean"===typeof w,t,"internal-error"),bi(d,t.name),bi(p,t.name),bi(v,t.name),bi(m,t.name),bi(y,t.name),bi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Dt(Ot().mark((function t(n,r){var i,a,o,u=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ki).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,di(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xi=function(){function e(){c(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xi.type="NONE";var _i=xi;function Si(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ei=function(){function e(t,n,r){c(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Si(this.userKey,a.apiKey,o),this.fullPersistenceKey=Si("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?wi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Dt(Ot().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Dr(_i),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Dr(_i),u=Si(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=wi._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ii(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ni(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ti(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ri(t))return"Blackberry";if(Di(t))return"Webos";if(Ci(t))return"Safari";if((t.includes("chrome/")||Ai(t))&&!t.includes("edge/"))return"Chrome";if(Oi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/firefox\//i.test(e)}function Ci(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/crios\//i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iemobile/i.test(e)}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/android/i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/blackberry/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/webos/i.test(e)}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Pi(e)||Oi(e)||Di(e)||Ri(e)||/windows phone/i.test(e)||Ni(e)}function Mi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ii(ft());break;case"Worker":t="".concat(Ii(ft()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(On,"/").concat(r)}var Fi=function(){function e(t){c(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ji=function(){function e(t,n,r){c(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new Fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(Dt(Ot().mark((function r(){var i,a;return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ei.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ar(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nt(t):null)&&Ar(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Dt(Ot().mark((function e(t){var n,r=this,i=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ar(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Dt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Dr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ar(n=t&&Dr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ei.create(this,[Dr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Dt(Ot().mark((function e(t){var n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ar(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,tt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ui(e){return Nt(e)}var Vi=function(){function e(t){var n=this;c(this,e),this.auth=t,this.observer=null,this.addObserver=Tt((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Bi(e,t,n){var r=Ui(e);Ar(r._canInitEmulator,r,"emulator-config-failed"),Ar(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=zi(t),u=function(e){var t=zi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:qi(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:qi(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ki=function(){function e(t,n){c(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return Nr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nr("not implemented")}}]),e}();function Wi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:resetPassword",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Hi(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function Qi(e,t){return $i.apply(this,arguments)}function $i(){return $i=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:update",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithPassword",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(e,t){return ea.apply(this,arguments)}function ea(){return ea=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:sendOobCode",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ji(t,n));case 1:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ji(t,n));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ji(t,n));case 1:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return sa=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ji(t,n));case 1:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=function(e){p(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ca(t,{email:this._email,oobCode:this._password}));case 5:Sr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ki);function pa(e,t){return va.apply(this,arguments)}function va(){return va=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithIdp",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ma=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=St(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ki);function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:sendVerificationCode",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(){return ka=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(){return ba=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}var wa=(0,tt.Z)({},"USER_NOT_FOUND","user-not-found");function xa(){return xa=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithPhoneNumber",zr(t,r),wa));case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var _a=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ka.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ba.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ki);var Sa=function(){function e(t){var n,r,i,a,o,u;c(this,e);var s=Et(It(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ar(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Et(It(e)).link,n=t?Et(It(t)).deep_link_id:null,r=Et(It(e)).deep_link_id;return(r?Et(It(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(WS){return null}}}]),e}();var Ea=function(){function e(){c(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return da._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Sa.parseLink(t);return Ar(n,"argument-error"),da._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ea.PROVIDER_ID="password",Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ia=function(){function e(t){c(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ta=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,s.Z)(this.scopes)}}]),n}(Ia),Ca=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ar(e.idToken||e.accessToken,"argument-error"),ma._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ar("providerId"in t&&"signInMethod"in t,"argument-error"),ma._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ta),Aa=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WS){return null}}}]),n}(Ta);Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Aa.PROVIDER_ID="facebook.com";var Na=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(WS){return null}}}]),n}(Ta);Na.GOOGLE_SIGN_IN_METHOD="google.com",Na.PROVIDER_ID="google.com";var Oa=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WS){return null}}}]),n}(Ta);Oa.GITHUB_SIGN_IN_METHOD="github.com",Oa.PROVIDER_ID="github.com";var Ra=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ki),Da="saml.",Pa=function(e){p(n,e);var t=k(n);function n(e){return c(this,n),Ar(e.startsWith(Da),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ra.fromJSON(e);return Ar(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ra._create(r,n)}catch(i){return null}}}]),n}(Ia),La=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return ma._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(WS){return null}}}]),n}(Ta);function Ma(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signUp",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}La.TWITTER_SIGN_IN_METHOD="twitter.com",La.PROVIDER_ID="twitter.com";var ja=function(){function e(t){c(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Dt(Ot().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,wi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ua(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Dt(Ot().mark((function t(n,r,i){var a;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ua(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ua(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Va(){return Va=Dt(Ot().mark((function e(t){var n,r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ui(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ja({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ma(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ja._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}var Ba=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o,u;return c(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gt);function za(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ba._fromErrorAndOperation(e,n,t,r);throw n}))}function qa(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ka(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,Za(!0,r,n);case 3:return e.t0=ei,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=qa(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=Dt(Ot().mark((function e(t,n){var r,i,a=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=si,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ja._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Za(e,t,n){return Qa.apply(this,arguments)}function Qa(){return(Qa=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(n);case 2:i=qa(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ar(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,si(t,za(i,a,n,t),r);case 6:return Ar((o=e.sent).idToken,i,"internal-error"),Ar(u=ui(o.idToken),i,"internal-error"),s=u.sub,Ar(t.uid===s,i,"user-mismatch"),e.abrupt("return",ja._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ya.apply(this,arguments)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Dt(Ot().mark((function e(t,n){var r,i,a,o,u=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,za(t,i,n);case 4:return a=e.sent,e.next=7,ja._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(Ui(t),n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,Za(!1,r,n.providerId);case 3:return e.abrupt("return",Ga(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return(ao=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(Nt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:signInWithCustomToken",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(){return so=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ui(t),e.next=3,oo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ja._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var co=function(){function e(t,n){c(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lo._fromServerResponse(e,t):Sr(e,"internal-error")}}]),e}(),lo=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(co);function fo(e,t,n){var r;Ar((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ar("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ar(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ar(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ho(){return ho=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),a={requestType:"PASSWORD_RESET",email:n},r&&fo(i,a,r),e.next=5,ra(i,a);case 5:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(){return po=Dt(Ot().mark((function e(t,n,r){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(Nt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(){return vo=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(Nt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return yo=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,Wi(r,{oobCode:n});case 3:i=e.sent,Ar(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ar(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ar(i.mfaInfo,r,"internal-error");case 13:Ar(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=co._fromServerResponse(Ui(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function go(){return go=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(Nt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t,n){return bo.apply(this,arguments)}function bo(){return bo=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),e.next=3,Ma(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ja._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(){return wo=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),a={requestType:"EMAIL_SIGNIN",email:n},Ar(r.handleCodeInApp,i,"argument-error"),r&&fo(i,a,r),e.next=6,aa(i,a);case 6:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(){return xo=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),Ar((a=Ea.credentialWithLink(n,r||Pr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",eo(i,a));case 4:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e,t){return So.apply(this,arguments)}function So(){return So=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:createAuthUri",zr(t,n)));case 1:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function Eo(){return Eo=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr()?Pr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,_o(Nt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Io(){return(Io=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fo(r.auth,a,n),e.next=8,ta(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(){return(To=Dt(Ot().mark((function e(t,n,r){var i,a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fo(i.auth,o,r),e.next=8,ua(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function No(){return(No=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,si(a,Co(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t,n){return Ro.apply(this,arguments)}function Ro(){return Ro=Dt(Ot().mark((function e(t,n,r){var i,a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,si(t,Hi(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}var Do=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Po=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i)).username=a,o}return h(n)}(Do),Lo=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(Do),Mo=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(Po),Fo=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"google.com",r)}return h(n)}(Do),jo=function(e){p(n,e);var t=k(n);function n(e,r,i){return c(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(Po);function Uo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ui(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Do(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Lo(a,i);case"github.com":return new Mo(a,i);case"google.com":return new Fo(a,i);case"twitter.com":return new jo(a,i,e.screenName||null);case"custom":case"anonymous":return new Do(a,null);default:return new Do(a,r,i)}}(n)}var Vo=function(){function e(t,n,r){c(this,e),this.type=t,this.credential=n,this.auth=r}return h(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,tt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bo=function(){function e(t,n,r){c(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ui(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return co._fromServerResponse(r,e)}));Ar(i.mfaPendingCredential,r,"internal-error");var o=Vo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Dt(Ot().mark((function e(t){var a,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ja._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ar(n.user,r,"internal-error"),e.abrupt("return",ja._forOperation(n.user,n.operationType,u));case 17:Sr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function zo(e,t){return qr(e,"POST","/v2/accounts/mfaEnrollment:start",zr(e,t))}function qo(e,t){return qr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",zr(e,t))}var Ko=function(){function e(t){var n=this;c(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return co._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Vo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,si(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,si(this.user,qo(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wo=new WeakMap;var Go="__sak",Ho=function(){function e(t,n){c(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Go,"1"),this.storage.removeItem(Go),Promise.resolve(!0)):Promise.resolve(!1)}catch(WS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zo=10,Qo=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ft();return Ci(e)||Pi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Li(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Zo):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Dt(Ot().mark((function e(t,r){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dt(Ot().mark((function e(t){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ho);Qo.type="LOCAL";var $o=Qo,Yo=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ho);Yo.type="SESSION";var Xo=Yo;function Jo(e){return Promise.all(e.map(function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var eu=function(){function e(t){c(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Jo(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function tu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}eu.receivers=[];var nu=function(){function e(t){c(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=tu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ru(){return window}function iu(){return"undefined"!==typeof ru().WorkerGlobalScope&&"function"===typeof ru().importScripts}function au(){return ou.apply(this,arguments)}function ou(){return(ou=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function uu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var su="firebaseLocalStorageDb",cu=1,lu="firebaseLocalStorage",fu="fbase_key",hu=function(){function e(t){c(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function du(e,t){return e.transaction([lu],t?"readwrite":"readonly").objectStore(lu)}function pu(){var e=indexedDB.deleteDatabase(su);return new hu(e).toPromise()}function vu(){var e=indexedDB.open(su,cu);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(lu,{keyPath:fu})}catch(r){n(r)}})),e.addEventListener("success",Dt(Ot().mark((function n(){var r;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(lu)){n.next=12;break}return r.close(),n.next=5,pu();case 5:return n.t0=t,n.next=8,vu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=du(t,!0).put((i={},(0,tt.Z)(i,fu,n),(0,tt.Z)(i,"value",r),i)),e.abrupt("return",new hu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return ku=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=du(t,!1).get(n),e.next=3,new hu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function bu(e,t){var n=du(e,!0).delete(t);return new hu(n).toPromise()}var wu=function(){function e(){c(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,vu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Dt(Ot().mark((function e(){var t=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=eu._getInstance(iu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Dt(Ot().mark((function e(n,r){var i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,au();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new nu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&uu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,vu();case 5:return t=e.sent,e.next=8,mu(t,Go,"1");case 8:return e.next=10,bu(t,Go);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dt(Ot().mark((function e(t,n){var r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return mu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return gu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dt(Ot().mark((function e(t){var n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return bu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=du(e,!1).getAll();return new hu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();wu.type="LOCAL";var xu=wu;function _u(e,t){return qr(e,"POST","/v2/accounts/mfaSignIn:start",zr(e,t))}function Su(e){return Eu.apply(this,arguments)}function Eu(){return Eu=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Iu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Tu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Cu=1e12,Au=function(){function e(t){c(this,e),this.auth=t,this.counter=Cu,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Nu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Cu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Cu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Cu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nu=function(){function e(t,n,r){var i=this;c(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ar(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ou=Tu("rcb"),Ru=new Fr(3e4,6e4),Du="https://www.google.com/recaptcha/api.js?",Pu=function(){function e(){var t;c(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ru().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ar(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ru().grecaptcha):new Promise((function(r,i){var a=ru().setTimeout((function(){i(Er(e,"network-request-failed"))}),Ru.get());ru()[Ou]=function(){ru().clearTimeout(a),delete ru()[Ou];var o=ru().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Er(e,"internal-error"))},Iu("".concat(Du,"?").concat(St({onload:Ou,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Er(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ru().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Lu=function(){function e(){c(this,e)}return h(e,[{key:"load",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Au(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Mu="recaptcha",Fu={theme:"light",type:"image"},ju=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Fu),r=arguments.length>2?arguments[2]:void 0;c(this,e),this.parameters=n,this.type=Mu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(r),this.isInvisible="invisible"===this.parameters.size,Ar("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ar(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lu:new Pu,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ar(!this.parameters.sitekey,this.auth,"argument-error"),Ar(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ar("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ru()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ar(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Dt(Ot().mark((function e(){var t,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar(Lr()&&!iu(),this.auth,"internal-error"),e.next=3,Uu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Su(this.auth);case 8:Ar(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ar(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Uu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Vu=function(){function e(t,n){c(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=_a._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Bu(){return Bu=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),e.next=3,Wu(i,n,Nt(r));case 3:return a=e.sent,e.abrupt("return",new Vu(a,(function(e){return eo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function zu(e,t,n){return qu.apply(this,arguments)}function qu(){return(qu=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,Za(!1,i,"phone");case 3:return e.next=5,Wu(i.auth,n,Nt(r));case 5:return a=e.sent,e.abrupt("return",new Vu(a,(function(e){return no(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(){return(Ku=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nt(t),e.next=3,Wu(i.auth,n,Nt(r));case 3:return a=e.sent,e.abrupt("return",new Vu(a,(function(e){return io(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e,t,n){return Gu.apply(this,arguments)}function Gu(){return Gu=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ar("string"===typeof a,t,"argument-error"),Ar(r.type===Mu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ar("enroll"===u.type,t,"internal-error"),e.next=13,zo(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ar("signin"===u.type,t,"internal-error"),Ar(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_u(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ya(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Gu.apply(this,arguments)}function Hu(){return(Hu=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga(Nt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zu=function(){function e(t){c(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ui(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return Wu(this.auth,e,Nt(t))}}],[{key:"credential",value:function(e,t){return _a._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_a._fromTokenResponse(n,r):null}}]),e}();function Qu(e,t){return t?Dr(t):(Ar(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zu.PROVIDER_ID="phone",Zu.PHONE_SIGN_IN_METHOD="phone";var $u=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ki);function Yu(e){return Xa(e.auth,new $u(e),e.bypassAuthState)}function Xu(e){var t=e.auth,n=e.user;return Ar(n,t,"internal-error"),$a(n,new $u(e),e.bypassAuthState)}function Ju(e){return es.apply(this,arguments)}function es(){return es=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ar(r=t.user,n,"internal-error"),e.abrupt("return",Ga(r,new $u(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}var ts=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Dt(Ot().mark((function t(n,r){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Dt(Ot().mark((function e(t){var n,r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yu;case"linkViaPopup":case"linkViaRedirect":return Ju;case"reauthViaPopup":case"reauthViaRedirect":return Xu;default:Sr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ns=new Fr(2e3,1e4);function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),Tr(t,n,Ia),a=Qu(i,r),o=new ss(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(){return(as=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr((i=Nt(t)).auth,n,Ia),a=Qu(i.auth,r),o=new ss(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t,n){return us.apply(this,arguments)}function us(){return(us=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr((i=Nt(t)).auth,n,Ia),a=Qu(i.auth,r),o=new ss(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ss=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o){var u;return c(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(u),u}return h(n,[{key:"executeNotNull",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ar(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dt(Ot().mark((function e(){var t,n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(1===this.filter.length,"Popup operations only handle one event"),t=tu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Er(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Er(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Er(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ns.get())}()}}]),n}(ts);ss.currentPopupAction=null;var cs="pendingRedirect",ls=new Map,fs=function(e){p(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=Dt(Ot().mark((function e(){var t,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ls.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,dr(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ls.set(this.auth._key(),t);case 21:return this.bypassAuthState||ls.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Dt(Ot().mark((function e(t){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",dr(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",dr(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ts);function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gs(n),i=ys(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ys(t)._set(gs(n),"true"));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t){ls.set(e._key(),t)}function ys(e){return Dr(e._redirectPersistence)}function gs(e){return Si(cs,e.config.apiKey,e.name)}function ks(e,t,n){return function(e,t,n){return bs.apply(this,arguments)}(e,t,n)}function bs(){return bs=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ui(t),Tr(t,n,Ia),e.next=4,i._initializationPromise;case 4:return a=Qu(i,r),e.next=7,ps(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t,n){return function(e,t,n){return xs.apply(this,arguments)}(e,t,n)}function xs(){return(xs=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr((i=Nt(t)).auth,n,Ia),e.next=4,i.auth._initializationPromise;case 4:return a=Qu(i.auth,r),e.next=7,ps(a,i.auth);case 7:return e.next=9,As(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e,t,n){return function(e,t,n){return Ss.apply(this,arguments)}(e,t,n)}function Ss(){return(Ss=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr((i=Nt(t)).auth,n,Ia),e.next=4,i.auth._initializationPromise;case 4:return a=Qu(i.auth,r),e.next=7,Za(!1,i,n.providerId);case 7:return e.next=9,ps(a,i.auth);case 9:return e.next=11,As(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){return Is.apply(this,arguments)}function Is(){return Is=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(t)._initializationPromise;case 2:return e.abrupt("return",Ts(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ui(t),a=Qu(i,n),o=new fs(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e){return Ns.apply(this,arguments)}function Ns(){return(Ns=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Os=function(){function e(t){c(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ds(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ds(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Rs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Rs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ds(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ps(e){return Ls.apply(this,arguments)}function Ls(){return Ls=Dt(Ot().mark((function e(t){var n,r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}var Ms=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fs=/^https?/;function js(){return js=Dt(Ot().mark((function e(t){var n,r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ps(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Us(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),js.apply(this,arguments)}function Us(e){var t=Pr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Fs.test(r))return!1;if(Ms.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Vs=new Fr(3e4,6e4);function Bs(){var e=ru().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,s.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zs=null;function qs(e){return zs=zs||function(e){return new Promise((function(t,n){var r,i,a;function o(){Bs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Bs(),n(Er(e,"network-request-failed"))},timeout:Vs.get()})}if(null===(i=null===(r=ru().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ru().gapi)||void 0===a?void 0:a.load)){var u=Tu("iframefcb");return ru()[u]=function(){gapi.load?o():n(Er(e,"network-request-failed"))},Iu("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zs=null,e}))}(e),zs}var Ks=new Fr(5e3,15e3),Ws="__/auth/iframe",Gs="emulator/auth/iframe",Hs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qs(e){var t=e.config;Ar(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jr(t,Gs):"https://".concat(e.config.authDomain,"/").concat(Ws),r={apiKey:t.apiKey,appName:e.name,v:On},i=Zs.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(St(r).slice(1))}function $s(e){return Ys.apply(this,arguments)}function Ys(){return Ys=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qs(t);case 2:return n=e.sent,Ar(r=ru().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hs,dontclear:!0},(function(e){return new Promise(function(){var n=Dt(Ot().mark((function n(r,i){var a,o,u;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ru().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Er(t,"network-request-failed"),o=ru().setTimeout((function(){i(a)}),Ks.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}var Xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Js=500,ec=600,tc="_blank",nc="http://localhost",rc=function(){function e(t){c(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ic(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Js,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ec,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Xs),{width:r.toString(),height:i.toString(),top:o,left:u}),l=ft().toLowerCase();n&&(s=Ai(l)?tc:n),Ti(l)&&(t=t||nc,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Pi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new rc(null);var h=window.open(t||"",s,f);Ar(h,e,"popup-blocked");try{h.focus()}catch(d){}return new rc(h)}var ac="__/auth/handler",oc="emulator/auth/handler";function uc(e,t,n,r,i,o){Ar(e.config.authDomain,e,"auth-domain-config-required"),Ar(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:On,eventId:i};if(t instanceof Ia){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ta){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ac);return jr(t,oc)}(e),"?").concat(St(p).slice(1))}var sc="webStorageSupport",cc=function(){function e(){c(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=Ts,this._overrideRedirectResult=ms}return h(e,[{key:"_openPopup",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){var a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=uc(t,n,r,Pr(),i),e.abrupt("return",ic(t,o,tu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=uc(t,n,r,Pr(),i),ru().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Or(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(t);case 2:return n=e.sent,r=new Os(t),n.register("authEvent",(function(e){return Ar(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(sc,{type:sc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sc];void 0!==i&&t(!!i),Sr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return js.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Li()||Ci()||Pi()}}]),e}(),lc=cc,fc=function(){function e(t){c(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nr("unexpected MultiFactorSessionType")}}}]),e}(),hc=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qr(e,"POST","/v2/accounts/mfaEnrollment:finalize",zr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qr(e,"POST","/v2/accounts/mfaSignIn:finalize",zr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(fc),dc=function(){function e(){c(this,e)}return h(e,null,[{key:"assertion",value:function(e){return hc._fromCredential(e)}}]),e}();dc.FACTOR_ID="phone";var pc="@firebase/auth",vc="0.21.3",mc=function(){function e(t){c(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var yc;!function(e){var t;null===(t=st())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function gc(){return window}yc="Browser",Sn(new Pt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ar(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ar(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:yc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(yc)},i=new ji(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Sn(new Pt("auth-internal",(function(e){return function(e){return new mc(e)}(Ui(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(pc,vc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yc)),Fn(pc,vc,"esm2017");var kc=2e3;function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return wc=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gc(),o=a.BuildInfo,Or(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Tc(n.sessionId);case 4:return u=e.sent,s={},Pi()?s.ibi=o.packageName:Oi()?s.apn=o.packageName:Sr(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",uc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return xc=Dt(Ot().mark((function e(t){var n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gc(),r=n.BuildInfo,i={},Pi()?i.iosBundleId=r.packageName:Oi()?i.androidPackageName=r.packageName:Sr(t,"operation-not-supported-in-this-environment"),e.next=5,Ps(t,i);case 5:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e){var t=gc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Sc(e,t,n){return Ec.apply(this,arguments)}function Ec(){return Ec=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Er(t,"redirect-cancelled-by-user"))}),kc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Oi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ec.apply(this,arguments)}function Ic(e){var t,n,r,i,a,o,u,s,c,l,f=gc();Ar("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ar("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ar("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ar("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ar("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Tc(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=Dt(Ot().mark((function e(t){var n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e){if(Or(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Nc=20,Oc=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),dr(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Os);function Rc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Fc(),postBody:null,tenantId:e.tenantId,error:Er(e,"no-auth-event")}}function Dc(e,t){return jc()._set(Uc(e),t)}function Pc(e){return Lc.apply(this,arguments)}function Lc(){return Lc=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc()._get(Uc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,jc()._remove(Uc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t){var n,r,i=function(e){var t=Vc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Vc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Vc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Vc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Er(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Fc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Nc;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function jc(){return Dr($o)}function Uc(e){return Si("authEvent",e.config.apiKey,e.name)}function Vc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Et(t.slice(1).join("?"))}var Bc=function(){function e(){c(this,e),this._redirectPersistence=Xo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ts,this._overrideRedirectResult=ms}return h(e,[{key:"_initialize",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Oc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Sr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){var a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ic(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ls.clear(),e.next=10,this._originValidation(t);case 10:return o=Rc(t,r,i),e.next=13,Dc(t,o);case 13:return e.next=15,bc(t,o,n);case 15:return u=e.sent,e.next=18,_c(u);case 18:return s=e.sent,e.abrupt("return",Sc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=gc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Dt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pc(e);case 2:t.onEvent(qc());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Dt(Ot().mark((function n(r){var i,a;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Pc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Mc(i,r.url)),t.onEvent(a||qc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");gc().handleOpenURL=function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),zc=Bc;function qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Er("no-auth-event")}}var Kc="@firebase/auth-compat",Wc="0.3.3",Gc=1e3;function Hc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return!("file:"!==Hc()&&"ionic:"!==Hc()&&"capacitor:"!==Hc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return vt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/Edge\/\d+/.test(e)}(e)}function $c(){try{var e=self.localStorage,t=tu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Qc()||mt()}catch(n){return Yc()&&mt()}return!1}function Yc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Xc(){return("http:"===Hc()||"https:"===Hc()||dt()||Zc())&&!(pt()||ht())&&$c()&&!Yc()}function Jc(){return Zc()&&"undefined"!==typeof document}function el(){return tl.apply(this,arguments)}function tl(){return(tl=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Gc);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nl={LOCAL:"local",NONE:"none",SESSION:"session"},rl=Ar,il="persistence";function al(e,t){rl(Object.values(nl).includes(t),e,"invalid-persistence-type"),pt()?rl(t!==nl.SESSION,e,"unsupported-persistence-type"):ht()?rl(t===nl.NONE,e,"unsupported-persistence-type"):Yc()?rl(t===nl.NONE||t===nl.LOCAL&&mt(),e,"unsupported-persistence-type"):rl(t===nl.NONE||$c(),e,"unsupported-persistence-type")}function ol(e){return ul.apply(this,arguments)}function ul(){return ul=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=sl(),r=Si(il,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function sl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var cl=Ar,ll=function(){function e(){c(this,e),this.browserResolver=Dr(lc),this.cordovaResolver=Dr(zc),this.underlyingResolver=null,this._redirectPersistence=Xo,this._completeRedirectFn=Ts,this._overrideRedirectResult=ms}return h(e,[{key:"_initialize",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Jc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return cl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,el();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fl(e){return e.unwrap()}function hl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new yl(e,function(e,t){var n,r=Nt(e),i=t;return Ar(t.customData.operationType,r,"argument-error"),Ar(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bo._fromError(r,i)}(e,t));else if(r){var i=dl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function dl(e){var t=(e instanceof gt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gt)&&"temporaryProof"in t&&"phoneNumber"in t)return Zu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===mr.PASSWORD)return null;switch(r){case mr.GOOGLE:n=Na;break;case mr.FACEBOOK:n=Aa;break;case mr.GITHUB:n=Oa;break;case mr.TWITTER:n=La;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ra._create(r,u):ma._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ca(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gt?n.credentialFromError(e):n.credentialFromResult(e)}function pl(e,t){return t.catch((function(t){throw t instanceof gt&&hl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,dl(t)),additionalUserInfo:Uo(e),user:gl.getOrCreate(r)}}))}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return pl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}var yl=function(){function e(t,n){c(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return pl(fl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),gl=function(){function e(t){c(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nt(e);return Wo.has(t)||Wo.set(t,Ko._fromUser(t)),Wo.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(this.auth,no(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(this.auth,zu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(this.auth,os(this._delegate,t,ll)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(Ui(this.auth));case 2:return e.abrupt("return",_s(this._delegate,t,ll));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(this.auth,io(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return vl(this.auth,function(e,t,n){return Ku.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return pl(this.auth,function(e,t,n){return as.apply(this,arguments)}(this._delegate,e,ll))}},{key:"reauthenticateWithRedirect",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(Ui(this.auth));case 2:return e.abrupt("return",ws(this._delegate,t,ll));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Io.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Oo(Nt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Oo(Nt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return To.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();gl.USER_MAP=new WeakMap;var kl=Ar,bl=function(){function e(t,n){if(c(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;kl(r,"invalid-api-key",{appName:t.name}),kl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ll:void 0;this._delegate=n.initialize({options:{persistence:xl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(kr),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?gl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Bi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return vo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return mo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return po.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl(this._delegate,ko(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Eo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Sa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Es(this._delegate,ll);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",pl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ui(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=wl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=wl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return wo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ho.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:al(this._delegate,t),e.t0=t,e.next=e.t0===nl.SESSION?4:e.t0===nl.LOCAL?6:e.t0===nl.NONE?11:13;break;case 4:return n=Xo,e.abrupt("break",14);case 6:return e.next=8,Dr(xu)._isAvailable();case 8:return r=e.sent,n=r?xu:$o,e.abrupt("break",14);case 11:return n=_i,e.abrupt("break",14);case 13:return e.abrupt("return",Sr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return pl(this._delegate,function(e){return Va.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return pl(this._delegate,eo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return pl(this._delegate,function(e,t){return so.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return pl(this._delegate,function(e,t,n){return eo(Nt(e),Ea.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return pl(this._delegate,function(e,t,n){return xo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return vl(this._delegate,function(e,t,n){return Bu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",pl(this._delegate,rs(this._delegate,t,ll)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ol(this._delegate);case 3:return e.abrupt("return",ks(this._delegate,t,ll));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return go.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function wl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&gl.getOrCreate(e))},error:t,complete:n}}function xl(e,t){var n=function(e,t){var n=sl();if(!n)return[];var r=Si(il,e,t);switch(n.getItem(r)){case nl.NONE:return[_i];case nl.LOCAL:return[xu,Xo];case nl.SESSION:return[Xo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xu)||n.push(xu),"undefined"!==typeof window)for(var r=0,i=[$o,Xo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(_i)||n.push(_i),n}bl.Persistence=nl;var _l=function(){function e(){c(this,e),this.providerId="phone",this._delegate=new Zu(fl(hr.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Zu.credential(e,t)}}]),e}();_l.PHONE_SIGN_IN_METHOD=Zu.PHONE_SIGN_IN_METHOD,_l.PROVIDER_ID=Zu.PROVIDER_ID;var Sl=Ar,El=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hr.app();c(this,e),Sl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ju(t,n,i.auth()),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),Il="auth-compat";!function(e){e.INTERNAL.registerComponent(new Pt(Il,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new bl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yr.EMAIL_SIGNIN,PASSWORD_RESET:yr.PASSWORD_RESET,RECOVER_EMAIL:yr.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:yr.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:yr.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:yr.VERIFY_EMAIL}},EmailAuthProvider:Ea,FacebookAuthProvider:Aa,GithubAuthProvider:Oa,GoogleAuthProvider:Na,OAuthProvider:Ca,SAMLAuthProvider:Pa,PhoneAuthProvider:_l,PhoneMultiFactorGenerator:dc,RecaptchaVerifier:El,TwitterAuthProvider:La,Auth:bl,AuthCredential:Ki,Error:gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(Kc,Wc)}(hr);var Tl,Cl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Al={},Nl=Nl||{},Ol=Cl||self;function Rl(){}function Dl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ll="closure_uid_"+(1e9*Math.random()>>>0),Ml=0;function Fl(e,t,n){return e.call.apply(e.bind,arguments)}function jl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ul(e,t,n){return(Ul=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fl:jl).apply(null,arguments)}function Vl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bl(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function zl(){this.s=this.s,this.o=this.o}zl.prototype.s=!1,zl.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ll)&&e[Ll]||(e[Ll]=++Ml))},zl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ql=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Kl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Dl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Gl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gl.prototype.h=function(){this.defaultPrevented=!0};var Hl=function(){if(!Ol.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ol.addEventListener("test",Rl,t),Ol.removeEventListener("test",Rl,t)}catch(n){}return e}();function Zl(e){return/^[\s\xa0]*$/.test(e)}var Ql=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $l(e,t){return e<t?-1:e>t?1:0}function Yl(){var e=Ol.navigator;return e&&(e=e.userAgent)?e:""}function Xl(e){return-1!=Yl().indexOf(e)}function Jl(e){return Jl[" "](e),e}Jl[" "]=Rl;var ef,tf=Xl("Opera"),nf=Xl("Trident")||Xl("MSIE"),rf=Xl("Edge"),af=rf||nf,of=Xl("Gecko")&&!(-1!=Yl().toLowerCase().indexOf("webkit")&&!Xl("Edge"))&&!(Xl("Trident")||Xl("MSIE"))&&!Xl("Edge"),uf=-1!=Yl().toLowerCase().indexOf("webkit")&&!Xl("Edge");function sf(){var e=Ol.document;return e?e.documentMode:void 0}e:{var cf="",lf=function(){var e=Yl();return of?/rv:([^\);]+)(\)|;)/.exec(e):rf?/Edge\/([\d\.]+)/.exec(e):nf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):uf?/WebKit\/(\S+)/.exec(e):tf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lf&&(cf=lf?lf[1]:""),nf){var ff=sf();if(null!=ff&&ff>parseFloat(cf)){ef=String(ff);break e}}ef=cf}var hf,df={};function pf(){return function(e){var t=df;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ql(String(ef)).split("."),n=Ql("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=$l(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||$l(0==a[2].length,0==o[2].length)||$l(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ol.document&&nf){var vf=sf();hf=vf||(parseInt(ef,10)||void 0)}else hf=void 0;var mf=hf;function yf(e,t){if(Gl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(of){e:{try{Jl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:gf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yf.X.h.call(this)}}Bl(yf,Gl);var gf={2:"touch",3:"pen",4:"mouse"};yf.prototype.h=function(){yf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),bf=0;function wf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++bf,this.ba=this.ea=!1}function xf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function _f(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sf(e){var t={};for(var n in e)t[n]=e[n];return t}var Ef="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ef.length;a++)n=Ef[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tf(e){this.src=e,this.g={},this.h=0}function Cf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ql(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Af(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Tf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Af(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new wf(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Nf="closure_lm_"+(1e6*Math.random()|0),Of={};function Rf(e,t,n,r,i){if(r&&r.once)return Pf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rf(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[kf]?e.N(t,n,Pl(r)?!!r.capture:!!r,i):Df(e,t,n,!1,r,i)}function Df(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Pl(i)?!!i.capture:!!i,u=Uf(e);if(u||(e[Nf]=u=new Tf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=jf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ff(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pf(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[kf]?e.O(t,n,Pl(r)?!!r.capture:!!r,i):Df(e,t,n,!0,r,i)}function Lf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Lf(e,t[a],n,r,i);else r=Pl(r)?!!r.capture:!!r,n=Bf(n),e&&e[kf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Af(a=e.g[t],n,r,i))&&(xf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Uf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Af(t,n,r,i)),(n=-1<e?t[e]:null)&&Mf(n))}function Mf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[kf])Cf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ff(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uf(t))?(Cf(n,e),0==n.h&&(n.src=null,t[Nf]=null)):xf(e)}}}function Ff(e){return e in Of?Of[e]:Of[e]="on"+e}function jf(e,t){if(e.ba)e=!0;else{t=new yf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Mf(e),e=n.call(r,t)}return e}function Uf(e){return(e=e[Nf])instanceof Tf?e:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bf(e){return"function"===typeof e?e:(e[Vf]||(e[Vf]=function(t){return e.handleEvent(t)}),e[Vf])}function zf(){zl.call(this),this.i=new Tf(this),this.P=this,this.I=null}function qf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Gl(t,e);else if(t instanceof Gl)t.target=t.target||e;else{var i=t;If(t=new Gl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Kf(o,r,!0,t)&&i}if(i=Kf(o=t.g=e,r,!0,t)&&i,i=Kf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Kf(o=t.g=n[a],r,!1,t)&&i}function Kf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Cf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Bl(zf,zl),zf.prototype[kf]=!0,zf.prototype.removeEventListener=function(e,t,n,r){Lf(this,e,t,n,r)},zf.prototype.M=function(){if(zf.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xf(n[r]);delete t.g[e],t.h--}}this.I=null},zf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wf=Ol.JSON.stringify;function Gf(){var e=eh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Hf,Zf=function(){function e(){c(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=Qf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Qf=new(function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new $f}),(function(e){return e.reset()})),$f=function(){function e(){c(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Yf(e){Ol.setTimeout((function(){throw e}),0)}function Xf(e,t){Hf||function(){var e=Ol.Promise.resolve(void 0);Hf=function(){e.then(th)}}(),Jf||(Hf(),Jf=!0),eh.add(e,t)}var Jf=!1,eh=new Zf;function th(){for(var e;e=Gf();){try{e.h.call(e.g)}catch(n){Yf(n)}var t=Qf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jf=!1}function nh(e,t){zf.call(this),this.h=e||1,this.g=t||Ol,this.j=Ul(this.lb,this),this.l=Date.now()}function rh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ih(e,t,n){if("function"===typeof e)n&&(e=Ul(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ul(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ol.setTimeout(e,t||0)}function ah(e){e.g=ih((function(){e.g=null,e.i&&(e.i=!1,ah(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Bl(nh,zf),(Tl=nh.prototype).ca=!1,Tl.R=null,Tl.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qf(this,"tick"),this.ca&&(rh(this),this.start()))}},Tl.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tl.M=function(){nh.X.M.call(this),rh(this),delete this.g};var oh=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ah(this)}},{key:"M",value:function(){dr(v(n.prototype),"M",this).call(this),this.g&&(Ol.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zl);function uh(e){zl.call(this),this.h=e,this.g={}}Bl(uh,zl);var sh=[];function ch(e,t,n,r){Array.isArray(n)||(n&&(sh[0]=n.toString()),n=sh);for(var i=0;i<n.length;i++){var a=Rf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function lh(e){_f(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mf(e)}),e),e.g={}}function fh(){this.g=!0}function hh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Wf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}uh.prototype.M=function(){uh.X.M.call(this),lh(this)},uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fh.prototype.Aa=function(){this.g=!1},fh.prototype.info=function(){};var dh={},ph=null;function vh(){return ph=ph||new zf}function mh(e){Gl.call(this,dh.Pa,e)}function yh(e){var t=vh();qf(t,new mh(t))}function gh(e,t){Gl.call(this,dh.STAT_EVENT,e),this.stat=t}function kh(e){var t=vh();qf(t,new gh(t,e))}function bh(e,t){Gl.call(this,dh.Qa,e),this.size=t}function wh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ol.setTimeout((function(){e()}),t)}dh.Pa="serverreachability",Bl(mh,Gl),dh.STAT_EVENT="statevent",Bl(gh,Gl),dh.Qa="timingevent",Bl(bh,Gl);var xh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_h={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sh(){}function Eh(e){return e.h||(e.h=e.i())}function Ih(){}Sh.prototype.h=null;var Th,Ch={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ah(){Gl.call(this,"d")}function Nh(){Gl.call(this,"c")}function Oh(){}function Rh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new uh(this),this.O=Ph,e=af?125:void 0,this.T=new nh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Dh}function Dh(){this.i=null,this.g="",this.h=!1}Bl(Ah,Gl),Bl(Nh,Gl),Bl(Oh,Sh),Oh.prototype.g=function(){return new XMLHttpRequest},Oh.prototype.i=function(){return{}},Th=new Oh;var Ph=45e3,Lh={},Mh={};function Fh(e,t,n){e.K=1,e.v=nd(Yh(t)),e.s=n,e.P=!0,jh(e,null)}function jh(e,t){e.F=Date.now(),zh(e),e.A=Yh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),vd(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Dh,e.g=mp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new oh(Ul(e.La,e,e.g),e.N)),ch(e.S,e.g,"readystatechange",e.ib),t=e.H?Sf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),yh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Uh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Vh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Bh(e,n))==Mh){4==t&&(e.o=4,kh(14),i=!1),hh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Lh){e.o=4,kh(15),hh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hh(e.j,e.m,r,null),Hh(e,r)}Uh(e)&&r!=Mh&&r!=Lh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,kh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sp(t),t.K=!0,kh(11))):(hh(e.j,e.m,n,"[Invalid Chunked Response]"),Gh(e),Wh(e))}function Bh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mh:(n=Number(t.substring(n,r)),isNaN(n)?Lh:(r+=1)+n>t.length?Mh:(t=t.substr(r,n),e.C=r+n,t))}function zh(e){e.V=Date.now()+e.O,qh(e,e.O)}function qh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wh(Ul(e.gb,e),t)}function Kh(e){e.B&&(Ol.clearTimeout(e.B),e.B=null)}function Wh(e){0==e.l.G||e.I||fp(e.l,e)}function Gh(e){Kh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rh(e.T),lh(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Hh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_d(n.h,e)))if(!e.J&&_d(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;lp(n),ep(n)}up(n),kh(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=wh(Ul(n.cb,n),6e3));if(1>=xd(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else dp(n,11)}else if((e.J||n.g==e)&&lp(n),!Zl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Sd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,td(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=vp(r,r.H?r.ka:null,r.V),d.J){Ed(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Kh(p),zh(p)),r.g=d}else op(r);0<n.i.length&&np(n)}else"stop"!=a[0]&&"close"!=a[0]||dp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dp(n,7):Jd(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}yh()}catch(a){}}function Zh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Dl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Dl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Tl=Rh.prototype).setTimeout=function(e){this.O=e},Tl.ib=function(e){e=e.target;var t=this.L;t&&3==Hd(e)?t.l():this.La(e)},Tl.La=function(e){try{if(e==this.g)e:{var t=Hd(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||af||this.g&&(this.h.h||this.g.fa()||Zd(this.g)))){this.I||4!=t||7==n||yh(),Kh(this);var r=this.g.aa();this.Y=r;t:if(Uh(this)){var i=Zd(this.g);e="";var a=i.length,o=4==Hd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gh(this),Wh(this);var u="";break t}this.h.i=new Ol.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,kh(12),Gh(this),Wh(this);break e}hh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hh(this,r)}this.P?(Vh(this,t,u),af&&this.i&&3==t&&(ch(this.S,this.T,"tick",this.hb),this.T.start())):(hh(this.j,this.m,u,null),Hh(this,u)),4==t&&Gh(this),this.i&&!this.I&&(4==t?fp(this.l,this):(this.i=!1,zh(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,kh(12)):(this.o=0,kh(13)),Gh(this),Wh(this)}}}catch(t){}},Tl.hb=function(){if(this.g){var e=Hd(this.g),t=this.g.fa();this.C<t.length&&(Kh(this),Vh(this,e,t),this.i&&4!=e&&zh(this))}},Tl.cancel=function(){this.I=!0,Gh(this)},Tl.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(yh(),kh(17)),Gh(this),this.o=2,Wh(this)):qh(this,this.V-e)};var Qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof $h){this.h=void 0!==t?t:e.h,Xh(this,e.j),this.s=e.s,this.g=e.g,Jh(this,e.m),this.l=e.l,t=e.i;var n=new fd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ed(this,n),this.o=e.o}else e&&(n=String(e).match(Qh))?(this.h=!!t,Xh(this,n[1]||"",!0),this.s=rd(n[2]||""),this.g=rd(n[3]||"",!0),Jh(this,n[4]),this.l=rd(n[5]||"",!0),ed(this,n[6]||"",!0),this.o=rd(n[7]||"")):(this.h=!!t,this.i=new fd(null,this.h))}function Yh(e){return new $h(e)}function Xh(e,t,n){e.j=n?rd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ed(e,t,n){t instanceof fd?(e.i=t,function(e,t){t&&!e.j&&(hd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dd(this,t),vd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=id(t,cd)),e.i=new fd(t,e.h))}function td(e,t,n){e.i.set(t,n)}function nd(e){return td(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function id(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ad),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ad(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$h.prototype.toString=function(){var e=[],t=this.j;t&&e.push(id(t,od,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(id(t,od,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(id(n,"/"==n.charAt(0)?sd:ud,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",id(n,ld)),e.join("")};var od=/[#\/\?@]/g,ud=/[#\?:]/g,sd=/[#\?]/g,cd=/[#\?@]/g,ld=/#/g;function fd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dd(e,t){hd(e),t=md(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pd(e,t){return hd(e),t=md(e,t),e.g.has(t)}function vd(e,t,n){dd(e,t),0<n.length&&(e.i=null,e.g.set(md(e,t),Kl(n)),e.h+=n.length)}function md(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Tl=fd.prototype).add=function(e,t){hd(this),this.i=null,e=md(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tl.forEach=function(e,t){hd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Tl.oa=function(){hd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Tl.W=function(e){hd(this);var t=[];if("string"===typeof e)pd(this,e)&&(t=t.concat(this.g.get(md(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Tl.set=function(e,t){return hd(this),this.i=null,pd(this,e=md(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tl.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Tl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var yd=h((function e(t,n){c(this,e),this.h=t,this.g=n}));function gd(e){this.l=e||bd,Ol.PerformanceNavigationTiming?e=0<(e=Ol.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ol.g&&Ol.g.Ga&&Ol.g.Ga()&&Ol.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kd,bd=10;function wd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xd(e){return e.h?1:e.g?e.g.size:0}function _d(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sd(e,t){e.g?e.g.add(t):e.h=t}function Ed(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Id(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Kl(e.i)}function Td(){}function Cd(){this.g=new Td}function Ad(e,t,n){var r=n||"";try{Zh(e,(function(e,n){var i=e;Pl(e)&&(i=Wf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Od(e){this.l=e.ac||null,this.j=e.jb||!1}function Rd(e,t){zf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gd.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Td.prototype.stringify=function(e){return Ol.JSON.stringify(e,void 0)},Td.prototype.parse=function(e){return Ol.JSON.parse(e,void 0)},Bl(Od,Sh),Od.prototype.g=function(){return new Rd(this.l,this.j)},Od.prototype.i=(kd={},function(){return kd}),Bl(Rd,zf);var Dd=0;function Pd(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ld(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Md(e)}function Md(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tl=Rd.prototype).open=function(e,t){if(this.readyState!=Dd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Md(this)},Tl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ol).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Tl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ld(this)),this.readyState=Dd},Tl.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Md(this)),this.g&&(this.readyState=3,Md(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ol.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pd(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Tl.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ld(this):Md(this),3==this.readyState&&Pd(this)}},Tl.Va=function(e){this.g&&(this.response=this.responseText=e,Ld(this))},Tl.Ua=function(e){this.g&&(this.response=e,Ld(this))},Tl.ga=function(){this.g&&Ld(this)},Tl.setRequestHeader=function(e,t){this.v.append(e,t)},Tl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fd=Ol.JSON.parse;function jd(e){zf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ud,this.K=this.L=!1}Bl(jd,zf);var Ud="",Vd=/^https?$/i,Bd=["POST","PUT"];function zd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qd(e),Wd(e)}function qd(e){e.D||(e.D=!0,qf(e,"complete"),qf(e,"error"))}function Kd(e){if(e.h&&"undefined"!=typeof Nl&&(!e.C[1]||4!=Hd(e)||2!=e.aa()))if(e.v&&4==Hd(e))ih(e.Ha,0,e);else if(qf(e,"readystatechange"),4==Hd(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Qh)[1]||null;if(!a&&Ol.self&&Ol.self.location){var o=Ol.self.location.protocol;a=o.substr(0,o.length-1)}i=!Vd.test(a?a.toLowerCase():"")}t=i}if(t)qf(e,"complete"),qf(e,"success");else{e.m=6;try{var u=2<Hd(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",qd(e)}}finally{Wd(e)}}}function Wd(e,t){if(e.g){Gd(e);var n=e.g,r=e.C[0]?Rl:null;e.g=null,e.C=null,t||qf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ol.clearTimeout(e.A),e.A=null)}function Hd(e){return e.g?e.g.readyState:0}function Zd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ud:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Rp){return null}}function Qd(e){var t="";return _f(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function $d(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):td(e,t,n))}function Yd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xd(e){this.Ca=0,this.i=[],this.j=new fh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Yd("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Yd("baseRetryDelayMs",5e3,e),this.bb=Yd("retryDelaySeedMs",1e4,e),this.$a=Yd("forwardChannelMaxRetries",2,e),this.ta=Yd("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new gd(e&&e.concurrentRequestLimit),this.Fa=new Cd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Jd(e){if(tp(e),3==e.G){var t=e.U++,n=Yh(e.F);td(n,"SID",e.I),td(n,"RID",t),td(n,"TYPE","terminate"),ip(e,n),(t=new Rh(e,e.j,t,void 0)).K=2,t.v=nd(Yh(n)),n=!1,Ol.navigator&&Ol.navigator.sendBeacon&&(n=Ol.navigator.sendBeacon(t.v.toString(),"")),!n&&Ol.Image&&((new Image).src=t.v,n=!0),n||(t.g=mp(t.l,null),t.g.da(t.v)),t.F=Date.now(),zh(t)}pp(e)}function ep(e){e.g&&(sp(e),e.g.cancel(),e.g=null)}function tp(e){ep(e),e.u&&(Ol.clearTimeout(e.u),e.u=null),lp(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ol.clearTimeout(e.m),e.m=null)}function np(e){wd(e.h)||e.m||(e.m=!0,Xf(e.Ja,e),e.C=0)}function rp(e,t){var n;n=t?t.m:e.U++;var r=Yh(e.F);td(r,"SID",e.I),td(r,"RID",n),td(r,"AID",e.T),ip(e,r),e.o&&e.s&&$d(r,e.o,e.s),n=new Rh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ap(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Sd(e.h,n),Fh(n,r,t)}function ip(e,t){e.ia&&_f(e.ia,(function(e,n){td(t,n,e)})),e.l&&Zh({},(function(e,n){td(t,n,e)}))}function ap(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ul(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ad(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function op(e){e.g||e.u||(e.Z=1,Xf(e.Ia,e),e.A=0)}function up(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=wh(Ul(e.Ia,e),hp(e,e.A)),e.A++,!0)}function sp(e){null!=e.B&&(Ol.clearTimeout(e.B),e.B=null)}function cp(e){e.g=new Rh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Yh(e.sa);td(t,"RID","rpc"),td(t,"SID",e.I),td(t,"CI",e.L?"0":"1"),td(t,"AID",e.T),td(t,"TYPE","xmlhttp"),ip(e,t),e.o&&e.s&&$d(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=nd(Yh(t)),n.s=null,n.P=!0,jh(n,e)}function lp(e){null!=e.v&&(Ol.clearTimeout(e.v),e.v=null)}function fp(e,t){var n=null;if(e.g==t){lp(e),sp(e),e.g=null;var r=2}else{if(!_d(e.h,t))return;n=t.D,Ed(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qf(r=vh(),new bh(r,n)),np(e)}else op(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(xd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=wh(Ul(e.Ja,e,t),hp(e,e.C)),e.C++,!0))}(e,t)||2==r&&up(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dp(e,5);break;case 4:dp(e,10);break;case 3:dp(e,6);break;default:dp(e,2)}}function hp(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function dp(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ul(e.kb,e);n||(n=new $h("//www.google.com/images/cleardot.gif"),Ol.location&&"http"==Ol.location.protocol||Xh(n,"https"),nd(n)),function(e,t){var n=new fh;if(Ol.Image){var r=new Image;r.onload=Vl(Nd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vl(Nd,n,r,"TestLoadImage: error",!1,t),r.onabort=Vl(Nd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vl(Nd,n,r,"TestLoadImage: timeout",!1,t),Ol.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else kh(2);e.G=0,e.l&&e.l.va(t),pp(e),tp(e)}function pp(e){if(e.G=0,e.la=[],e.l){var t=Id(e.h);0==t.length&&0==e.i.length||(Wl(e.la,t),Wl(e.la,e.i),e.h.i.length=0,Kl(e.i),e.i.length=0),e.l.ua()}}function vp(e,t,n){var r=n instanceof $h?Yh(n):new $h(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Jh(r,r.m);else{var i=Ol.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new $h(null,void 0);r&&Xh(a,r),t&&(a.g=t),i&&Jh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&td(r,n,t),td(r,"VER",e.ma),ip(e,r),r}function mp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new jd(new Od({jb:!0})):new jd(e.ra)).Ka(e.H),t}function yp(){}function gp(){if(nf&&!(10<=Number(mf)))throw Error("Environmental error: no available transport.")}function kp(e,t){zf.call(this),this.g=new Xd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Zl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xp(this)}function bp(e){Ah.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wp(){Nh.call(this),this.status=1}function xp(e){this.g=e}(Tl=jd.prototype).Ka=function(e){this.L=e},Tl.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Th.g(),this.C=this.u?Eh(this.u):Eh(Th),this.g.onreadystatechange=Ul(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void zd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=C(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ol.FormData&&e instanceof Ol.FormData,!(0<=ql(Bd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=C(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gd(this),0<this.B&&((this.K=function(e){return nf&&pf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ul(this.qa,this)):this.A=ih(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){zd(this,s)}},Tl.qa=function(){"undefined"!=typeof Nl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qf(this,"timeout"),this.abort(8))},Tl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qf(this,"complete"),qf(this,"abort"),Wd(this))},Tl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wd(this,!0)),jd.X.M.call(this)},Tl.Ha=function(){this.s||(this.F||this.v||this.l?Kd(this):this.fb())},Tl.fb=function(){Kd(this)},Tl.aa=function(){try{return 2<Hd(this)?this.g.status:-1}catch(kd){return-1}},Tl.fa=function(){try{return this.g?this.g.responseText:""}catch(kd){return""}},Tl.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fd(t)}},Tl.Ea=function(){return this.m},Tl.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Tl=Xd.prototype).ma=8,Tl.G=1,Tl.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Rh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?If(n=Sf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ap(this,t,r),td(i=Yh(this.F),"RID",e),td(i,"CVER",22),this.D&&td(i,"X-HTTP-Session-Id",this.D),ip(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Qd(n)))+"&"+r:this.o&&$d(i,this.o,n)),Sd(this.h,t),this.Ya&&td(i,"TYPE","init"),this.O?(td(i,"$req",r),td(i,"SID","null"),t.Z=!0,Fh(t,i,null)):Fh(t,i,r),this.G=2}}else 3==this.G&&(e?rp(this,e):0==this.i.length||wd(this.h)||rp(this))},Tl.Ia=function(){if(this.u=null,cp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=wh(Ul(this.eb,this),e)}},Tl.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kh(10),ep(this),cp(this))},Tl.cb=function(){null!=this.v&&(this.v=null,ep(this),up(this),kh(19))},Tl.kb=function(e){e?(this.j.info("Successfully pinged google.com"),kh(2)):(this.j.info("Failed to ping google.com"),kh(1))},(Tl=yp.prototype).xa=function(){},Tl.wa=function(){},Tl.va=function(){},Tl.ua=function(){},Tl.Ra=function(){},gp.prototype.g=function(e,t){return new kp(e,t)},Bl(kp,zf),kp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;kh(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=vp(e,null,e.V),np(e)},kp.prototype.close=function(){Jd(this.g)},kp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Wf(e),e=n);t.i.push(new yd(t.ab++,e)),3==t.G&&np(t)},kp.prototype.M=function(){this.g.l=null,delete this.j,Jd(this.g),delete this.g,kp.X.M.call(this)},Bl(bp,Ah),Bl(wp,Nh),Bl(xp,yp),xp.prototype.xa=function(){qf(this.g,"a")},xp.prototype.wa=function(e){qf(this.g,new bp(e))},xp.prototype.va=function(e){qf(this.g,new wp)},xp.prototype.ua=function(){qf(this.g,"b")},gp.prototype.createWebChannel=gp.prototype.g,kp.prototype.send=kp.prototype.u,kp.prototype.open=kp.prototype.m,kp.prototype.close=kp.prototype.close,xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,_h.COMPLETE="complete",Ih.EventType=Ch,Ch.OPEN="a",Ch.CLOSE="b",Ch.ERROR="c",Ch.MESSAGE="d",zf.prototype.listen=zf.prototype.N,jd.prototype.listenOnce=jd.prototype.O,jd.prototype.getLastError=jd.prototype.Oa,jd.prototype.getLastErrorCode=jd.prototype.Ea,jd.prototype.getStatus=jd.prototype.aa,jd.prototype.getResponseJson=jd.prototype.Sa,jd.prototype.getResponseText=jd.prototype.fa,jd.prototype.send=jd.prototype.da,jd.prototype.setWithCredentials=jd.prototype.Ka;var _p=Al.createWebChannelTransport=function(){return new gp},Sp=Al.getStatEventTarget=function(){return vh()},Ep=Al.ErrorCode=xh,Ip=Al.EventType=_h,Tp=Al.Event=dh,Cp=Al.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ap=Al.FetchXmlHttpFactory=Od,Np=Al.WebChannel=Ih,Op=Al.XhrIo=jd,Rp="@firebase/firestore",Dp=function(){function e(t){c(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Dp.UNAUTHENTICATED=new Dp(null),Dp.GOOGLE_CREDENTIALS=new Dp("google-credentials-uid"),Dp.FIRST_PARTY=new Dp("first-party-uid"),Dp.MOCK_USER=new Dp("mock-user");var Pp="9.17.1",Lp=new Wt("@firebase/firestore");function Mp(){return Lp.logLevel}function Fp(e){if(Lp.logLevel<=jt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vp);Lp.debug.apply(Lp,["Firestore (".concat(Pp,"): ").concat(e)].concat((0,s.Z)(i)))}}function jp(e){if(Lp.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vp);Lp.error.apply(Lp,["Firestore (".concat(Pp,"): ").concat(e)].concat((0,s.Z)(i)))}}function Up(e){if(Lp.logLevel<=jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vp);Lp.warn.apply(Lp,["Firestore (".concat(Pp,"): ").concat(e)].concat((0,s.Z)(i)))}}function Vp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Pp,") INTERNAL ASSERTION FAILED: ")+e;throw jp(t),new Error(t)}function zp(e,t){e||Bp()}function qp(e,t){return e}var Kp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wp=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(gt),Gp=h((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Hp=h((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Zp=function(){function e(){c(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Qp=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$p=function(){function e(t){c(this,e),this.t=t,this.currentUser=Dp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Gp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Gp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Fp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Fp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Fp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zp("string"==typeof n.accessToken),new Hp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zp(null===e||"string"==typeof e),new Dp(e)}}]),e}(),Yp=function(){function e(t,n,r,i){c(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Dp.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(zp(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Xp=function(){function e(t,n,r,i){c(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Yp(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Jp=h((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ev=function(){function e(t){c(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Fp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Fp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Fp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Fp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zp("string"==typeof t.token),e.A=t.token,new Jp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function tv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var nv=function(){function e(){c(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=tv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function rv(e,t){return e<t?-1:e>t?1:0}function iv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function av(e){return e+"\0"}var ov=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wp(Kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wp(Kp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wp(Kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wp(Kp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?rv(this.nanoseconds,e.nanoseconds):rv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),uv=function(){function e(t){c(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ov(0,0))}},{key:"max",value:function(){return new e(new ov(253402300799,999999999))}}]),e}(),sv=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&Bp(),void 0===r?r=t.length-n:r>t.length-n&&Bp(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),cv=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,s.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sv),lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fv=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return lv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wp(Kp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wp(Kp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Wp(Kp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sv),hv=function(){function e(t){c(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===cv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(cv.fromString(t))}},{key:"fromName",value:function(t){return new e(cv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(cv.emptyPath())}},{key:"comparator",value:function(e,t){return cv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new cv(t.slice()))}}]),e}(),dv=h((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function pv(e){return e.fields.find((function(e){return 2===e.kind}))}function vv(e){return e.fields.filter((function(e){return 2!==e.kind}))}dv.UNKNOWN_ID=-1;var mv=h((function e(t,n){c(this,e),this.fieldPath=t,this.kind=n}));var yv=function(){function e(t,n){c(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,bv.min())}}]),e}();function gv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=uv.fromTimestamp(1e9===r?new ov(n+1,0):new ov(n,r));return new bv(i,hv.empty(),t)}function kv(e){return new bv(e.readTime,e.key,-1)}var bv=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(uv.min(),hv.empty(),-1)}},{key:"max",value:function(){return new e(uv.max(),hv.empty(),-1)}}]),e}();function wv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=hv.comparator(e.documentKey,t.documentKey))?n:rv(e.largestBatchId,t.largestBatchId)}var xv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=function(){function e(){c(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Sv(e){return Ev.apply(this,arguments)}function Ev(){return Ev=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Kp.FAILED_PRECONDITION&&t.message===xv){e.next=2;break}throw t;case 2:Fp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}var Iv=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Tv=function(){function e(t,n){var r=this;c(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Gp,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Nv(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Lv(e.target.error);r.P.reject(new Nv(t,n))}}return h(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Fp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Nv(n,t)}}}]),e}(),Cv=function(){function e(t,n,r){c(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ft())&&jp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"F",value:function(){var e=Dt(Ot().mark((function e(t){var n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Fp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Nv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wp(Kp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wp(Kp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Nv(t,n))},i.onupgradeneeded=function(e){Fp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Fp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Dt(Ot().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Ot().mark((function e(){var n,u,s,l;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=Tv.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Iv.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Fp("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Fp("SimpleDb","Removing database:",e),Dv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!mt())return!1;if(e.N())return!0;var t=ft(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/amazon-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Av=function(){function e(t){c(this,e),this.q=t,this.U=!1,this.K=null}return h(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Dv(this.q.delete())}}]),e}(),Nv=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,Kp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(Wp);function Ov(e){return"IndexedDbTransactionError"===e.name}var Rv=function(){function e(t){c(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Fp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dv(n)}},{key:"add",value:function(e){return Fp("SimpleDb","ADD",this.store.name,e,e),Dv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Dv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Fp("SimpleDb","DELETE",this.store.name,e),Dv(this.store.delete(e))}},{key:"count",value:function(){return Fp("SimpleDb","COUNT",this.store.name),Dv(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Iv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Iv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Fp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Iv((function(n,r){t.onerror=function(e){var t=Lv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Iv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Av(i),o=t(i.primaryKey,i.value,a);if(o instanceof Iv){var u=o.catch((function(e){return a.done(),Iv.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Iv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Dv(e){return new Iv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Lv(e.target.error);n(t)}}))}var Pv=!1;function Lv(e){var t=Cv.D(ft());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pv||(Pv=!0,setTimeout((function(){throw r}),0)),r}}return e}var Mv=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.et=n,this.task=null}return h(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Fp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Fp,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ov(e.t4)){e.next=17;break}Fp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Sv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Fv=function(){function e(t,n){c(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"st",value:function(){var e=Dt(Ot().mark((function e(){var t,n=this,r=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Iv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Fp("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Fp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=kv(t);wv(r,n)>0&&(n=r)})),new bv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),jv=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();jv.at=-1;var Uv=h((function e(t,n,r,i,a,o,u,s){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Vv=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Bv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kv(e){return null==e}function Wv(e){return 0===e&&1/e==-1/0}function Gv(e){return"number"==typeof e&&Number.isInteger(e)&&!Wv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hv=function(e){function t(e){c(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return rv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Hv.EMPTY_BYTE_STRING=new Hv("");var Zv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qv(e){if(zp(!!e),"string"==typeof e){var t=0,n=Zv.exec(e);if(zp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$v(e.seconds),nanos:$v(e.nanos)}}function $v(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yv(e){return"string"==typeof e?Hv.fromBase64String(e):Hv.fromUint8Array(e)}function Xv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jv(e){var t=e.mapValue.fields.__previous_value__;return Xv(t)?Jv(t):t}function em(e){var t=Qv(e.mapValue.fields.__local_write_time__.timestampValue);return new ov(t.seconds,t.nanos)}var tm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nm={nullValue:"NULL_VALUE"};function rm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xv(e)?4:ym(e)?9007199254740991:10:Bp()}function im(e,t){if(e===t)return!0;var n=rm(e);if(n!==rm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return em(e).isEqual(em(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Qv(e.timestampValue),r=Qv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Yv(e.bytesValue).isEqual(Yv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $v(e.geoPointValue.latitude)===$v(t.geoPointValue.latitude)&&$v(e.geoPointValue.longitude)===$v(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $v(e.integerValue)===$v(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$v(e.doubleValue),r=$v(t.doubleValue);return n===r?Wv(n)===Wv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return iv(e.arrayValue.values||[],t.arrayValue.values||[],im);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bv(n)!==Bv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!im(n[i],r[i])))return!1;return!0}(e,t);default:return Bp()}}function am(e,t){return void 0!==(e.values||[]).find((function(e){return im(e,t)}))}function om(e,t){if(e===t)return 0;var n=rm(e),r=rm(t);if(n!==r)return rv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$v(e.integerValue||e.doubleValue),r=$v(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return um(e.timestampValue,t.timestampValue);case 4:return um(em(e),em(t));case 5:return rv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Yv(e),r=Yv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=rv(n[i],r[i]);if(0!==a)return a}return rv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=rv($v(e.latitude),$v(t.latitude));return 0!==n?n:rv($v(e.longitude),$v(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=om(n[i],r[i]);if(a)return a}return rv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tm.mapValue&&t===tm.mapValue)return 0;if(e===tm.mapValue)return 1;if(t===tm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=rv(r[o],a[o]);if(0!==u)return u;var s=om(n[r[o]],i[a[o]]);if(0!==s)return s}return rv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bp()}}function um(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rv(e,t);var n=Qv(e),r=Qv(t),i=rv(n.seconds,r.seconds);return 0!==i?i:rv(n.nanos,r.nanos)}function sm(e){return cm(e)}function cm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Qv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Yv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,hv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=cm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(cm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bp();var t,n}function lm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fm(e){return!!e&&"integerValue"in e}function hm(e){return!!e&&"arrayValue"in e}function dm(e){return!!e&&"nullValue"in e}function pm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vm(e){return!!e&&"mapValue"in e}function mm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ym(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function gm(e){return"nullValue"in e?nm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lm(Vv.empty(),hv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Bp()}function km(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lm(Vv.empty(),hv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tm:Bp()}function bm(e,t){var n=om(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wm(e,t){var n=om(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var xm=h((function e(t,n){c(this,e),this.position=t,this.inclusive=n}));function _m(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hv.comparator(hv.fromName(o.referenceValue),n.key):om(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!im(e.position[n],t.position[n]))return!1;return!0}var Em=h((function e(){c(this,e)})),Im=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(om(t,this.value)):null!==t&&rm(this.value)===rm(t)&&this.matchesComparison(om(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bp()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mm(e,t,r):"array-contains"===t?new Vm(e,r):"in"===t?new Bm(e,r):"not-in"===t?new zm(e,r):"array-contains-any"===t?new qm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Fm(e,n):new jm(e,n)}}]),n}(Em),Tm=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return h(n,[{key:"matches",value:function(e){return Cm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Em);function Cm(e){return"and"===e.op}function Am(e){return"or"===e.op}function Nm(e){return Om(e)&&Cm(e)}function Om(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Tm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Rm(e){if(e instanceof Im)return e.field.canonicalString()+e.op.toString()+sm(e.value);if(Nm(e))return e.filters.map((function(e){return Rm(e)})).join(",");var t=e.filters.map((function(e){return Rm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Dm(e,t){return e instanceof Im?function(e,t){return t instanceof Im&&e.op===t.op&&e.field.isEqual(t.field)&&im(e.value,t.value)}(e,t):e instanceof Tm?function(e,t){return t instanceof Tm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Dm(n,t.filters[r])}),!0)}(e,t):void Bp()}function Pm(e,t){var n=e.filters.concat(t);return Tm.create(n,e.op)}function Lm(e){return e instanceof Im?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sm(e.value))}(e):e instanceof Tm?function(e){return e.op.toString()+" {"+e.getFilters().map(Lm).join(" ,")+"}"}(e):"Filter"}var Mm=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=hv.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=hv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Im),Fm=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=Um("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Im),jm=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=Um("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Im);function Um(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hv.fromName(e.referenceValue)}))}var Vm=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hm(t)&&am(t.arrayValue,this.value)}}]),n}(Im),Bm=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&am(this.value.arrayValue,t)}}]),n}(Im),zm=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!am(this.value.arrayValue,t)}}]),n}(Im),qm=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return am(t.value.arrayValue,e)}))}}]),n}(Im),Km=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function Wm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Gm=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||Zm.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Hm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Hm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Hm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Hm(this.root,e,this.comparator,!0)}}]),e}(),Hm=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Zm=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bp();if(this.right.isRed())throw Bp();var e=this.left.check();if(e!==this.right.check())throw Bp();return e+(this.isRed()?0:1)}}]),e}();Zm.EMPTY=null,Zm.RED=!0,Zm.BLACK=!1,Zm.EMPTY=new(function(){function e(){c(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw Bp()}},{key:"value",get:function(){throw Bp()}},{key:"color",get:function(){throw Bp()}},{key:"left",get:function(){throw Bp()}},{key:"right",get:function(){throw Bp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Qm=function(){function e(t){c(this,e),this.comparator=t,this.data=new Gm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $m(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $m(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$m=function(){function e(t){c(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ym(e){return e.hasNext()?e.getNext():void 0}var Xm=function(){function e(t){c(this,e),this.fields=t,t.sort(fv.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new Qm(fv.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return iv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Jm=function(){function e(t){c(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mm(t)}},{key:"setAll",value:function(e){var t=this,n=fv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return im(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zv(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ey(e){var t=[];return zv(e.fields,(function(e,n){var r=new fv([e]);if(vm(n)){var i=ey(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Xm(t)}var ty=function(){function e(t,n,r,i,a,o,u){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(uv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=uv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,uv.min(),uv.min(),uv.min(),Jm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,uv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,uv.min(),uv.min(),Jm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,uv.min(),uv.min(),Jm.empty(),2)}}]),e}(),ny=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function ry(e){return new ny(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function iy(e){var t=qp(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Rm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Kv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sm(e)})).join(",")),t.ft=n}return t.ft}function ay(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Dm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sm(e.startAt,t.startAt)&&Sm(e.endAt,t.endAt)}function oy(e){return hv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function uy(e,t){return e.filters.filter((function(e){return e instanceof Im&&e.field.isEqual(t)}))}function sy(e,t,n){var r,i=nm,a=!0,o=C(uy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=nm,c=!0;switch(u.op){case"<":case"<=":s=gm(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=nm}bm({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function cy(e,t,n){var r,i=tm,a=!0,o=C(uy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=tm,c=!0;switch(u.op){case">=":case">":s=km(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=tm}wm({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];wm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ly=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function fy(e,t,n,r,i,a,o,u){return new ly(e,t,n,r,i,a,o,u)}function hy(e){return new ly(e)}function dy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function py(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vy(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function my(e){return null!==e.collectionGroup}function yy(e){var t=qp(e);if(null===t.dt){t.dt=[];var n=vy(t),r=py(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Km(n)),t.dt.push(new Km(fv.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Km(fv.keyField(),s))}}}return t.dt}function gy(e){var t=qp(e);if(!t._t)if("F"===t.limitType)t._t=ry(t.path,t.collectionGroup,yy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(yy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Km(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new xm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new xm(t.startAt.position,t.startAt.inclusive):null;t._t=ry(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function ky(e,t){t.getFirstInequalityField(),vy(e);var n=e.filters.concat([t]);return new ly(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function by(e,t,n){return new ly(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wy(e,t){return ay(gy(e),gy(t))&&e.limitType===t.limitType}function xy(e){return"".concat(iy(gy(e)),"|lt:").concat(e.limitType)}function _y(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Lm(e)})).join(", "),"]")),Kv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sm(e)})).join(",")),"Target(".concat(t,")")}(gy(e)),"; limitType=").concat(e.limitType,")")}function Sy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(yy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=_m(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yy(e),t))&&!(e.endAt&&!function(e,t,n){var r=_m(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yy(e),t))}(e,t)}function Ey(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Iy(e){return function(t,n){var r,i=!1,a=C(yy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ty(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ty(e,t,n){var r=e.field.isKeyField()?hv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?om(r,i):Bp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bp()}}function Cy(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wv(t)?"-0":t}}function Ay(e){return{integerValue:""+e}}function Ny(e,t){return Gv(t)?Ay(t):Cy(e,t)}var Oy=h((function e(){c(this,e),this._=void 0}));function Ry(e,t,n){return e instanceof Ly?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof My?Fy(e,t):e instanceof jy?Uy(e,t):function(e,t){var n=Py(e,t),r=By(n)+By(e.gt);return fm(n)&&fm(e.gt)?Ay(r):Cy(e.yt,r)}(e,t)}function Dy(e,t,n){return e instanceof My?Fy(e,t):e instanceof jy?Uy(e,t):n}function Py(e,t){return e instanceof Vy?fm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ly=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(Oy),My=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Oy);function Fy(e,t){var n,r=zy(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return im(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jy=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Oy);function Uy(e,t){var n,r=zy(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!im(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Vy=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return h(n)}(Oy);function By(e){return $v(e.integerValue||e.doubleValue)}function zy(e){return hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var qy=h((function e(t,n){c(this,e),this.field=t,this.transform=n}));var Ky=h((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),Wy=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Gy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Hy=h((function e(){c(this,e)}));function Zy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new og(e.key,Wy.none()):new Jy(e.key,e.data,Wy.none());var n,r=e.data,i=Jm.empty(),a=new Qm(fv.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new eg(e.key,i,new Xm(a.toArray()),Wy.none())}function Qy(e,t,n){e instanceof Jy?function(e,t,n){var r=e.value.clone(),i=ng(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eg?function(e,t,n){if(Gy(e.precondition,t)){var r=ng(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $y(e,t,n,r){return e instanceof Jy?function(e,t,n,r){if(!Gy(e.precondition,t))return n;var i=e.value.clone(),a=rg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof eg?function(e,t,n,r){if(!Gy(e.precondition,t))return n;var i=rg(e.fieldTransforms,r,t),a=t.data;return a.setAll(tg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Gy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Yy(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Py(a.transform,o||null);null!=u&&(null===r&&(r=Jm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Xy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&iv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof My&&t instanceof My||e instanceof jy&&t instanceof jy?iv(e.elements,t.elements,im):e instanceof Vy&&t instanceof Vy?im(e.gt,t.gt):e instanceof Ly&&t instanceof Ly}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Jy=function(e){p(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Hy),eg=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Hy);function tg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ng(e,t,n){var r=new Map;zp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Dy(o,u,n[i]))}return r}function rg(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ry(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ig,ag,og=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Hy),ug=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Hy),sg=h((function e(t){c(this,e),this.count=t}));function cg(e){switch(e){default:return Bp();case Kp.CANCELLED:case Kp.UNKNOWN:case Kp.DEADLINE_EXCEEDED:case Kp.RESOURCE_EXHAUSTED:case Kp.INTERNAL:case Kp.UNAVAILABLE:case Kp.UNAUTHENTICATED:return!1;case Kp.INVALID_ARGUMENT:case Kp.NOT_FOUND:case Kp.ALREADY_EXISTS:case Kp.PERMISSION_DENIED:case Kp.FAILED_PRECONDITION:case Kp.ABORTED:case Kp.OUT_OF_RANGE:case Kp.UNIMPLEMENTED:case Kp.DATA_LOSS:return!0}}function lg(e){if(void 0===e)return jp("GRPC error has no .code"),Kp.UNKNOWN;switch(e){case ig.OK:return Kp.OK;case ig.CANCELLED:return Kp.CANCELLED;case ig.UNKNOWN:return Kp.UNKNOWN;case ig.DEADLINE_EXCEEDED:return Kp.DEADLINE_EXCEEDED;case ig.RESOURCE_EXHAUSTED:return Kp.RESOURCE_EXHAUSTED;case ig.INTERNAL:return Kp.INTERNAL;case ig.UNAVAILABLE:return Kp.UNAVAILABLE;case ig.UNAUTHENTICATED:return Kp.UNAUTHENTICATED;case ig.INVALID_ARGUMENT:return Kp.INVALID_ARGUMENT;case ig.NOT_FOUND:return Kp.NOT_FOUND;case ig.ALREADY_EXISTS:return Kp.ALREADY_EXISTS;case ig.PERMISSION_DENIED:return Kp.PERMISSION_DENIED;case ig.FAILED_PRECONDITION:return Kp.FAILED_PRECONDITION;case ig.ABORTED:return Kp.ABORTED;case ig.OUT_OF_RANGE:return Kp.OUT_OF_RANGE;case ig.UNIMPLEMENTED:return Kp.UNIMPLEMENTED;case ig.DATA_LOSS:return Kp.DATA_LOSS;default:return Bp()}}(ag=ig||(ig={}))[ag.OK=0]="OK",ag[ag.CANCELLED=1]="CANCELLED",ag[ag.UNKNOWN=2]="UNKNOWN",ag[ag.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ag[ag.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ag[ag.NOT_FOUND=5]="NOT_FOUND",ag[ag.ALREADY_EXISTS=6]="ALREADY_EXISTS",ag[ag.PERMISSION_DENIED=7]="PERMISSION_DENIED",ag[ag.UNAUTHENTICATED=16]="UNAUTHENTICATED",ag[ag.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ag[ag.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ag[ag.ABORTED=10]="ABORTED",ag[ag.OUT_OF_RANGE=11]="OUT_OF_RANGE",ag[ag.UNIMPLEMENTED=12]="UNIMPLEMENTED",ag[ag.INTERNAL=13]="INTERNAL",ag[ag.UNAVAILABLE=14]="UNAVAILABLE",ag[ag.DATA_LOSS=15]="DATA_LOSS";var fg=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zv(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),hg=new Gm(hv.comparator);function dg(){return hg}var pg=new Gm(hv.comparator);function vg(){for(var e=pg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function mg(e){var t=pg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function yg(){return kg()}function gg(){return kg()}function kg(){return new fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bg=new Gm(hv.comparator),wg=new Qm(hv.comparator);function xg(){for(var e=wg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _g=new Qm(rv);function Sg(){return _g}var Eg=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Ig.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(uv.min(),i,Sg(),dg(),xg())}}]),e}(),Ig=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,xg(),xg(),xg())}}]),e}(),Tg=h((function e(t,n,r,i){c(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Cg=h((function e(t,n){c(this,e),this.targetId=t,this.Et=n})),Ag=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ng=function(){function e(){c(this,e),this.At=0,this.Rt=Dg(),this.bt=Hv.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return h(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=xg(),t=xg(),n=xg();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bp()}})),new Ig(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Dg()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Og=function(){function e(t){c(this,e),this.$t=t,this.Bt=new Map,this.Lt=dg(),this.qt=Rg(),this.Ut=new Qm(rv)}return h(e,[{key:"Kt",value:function(e){var t,n=C(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Bp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(oy(i))if(0===n){var a=new hv(i.path);this.Qt(t,a,ty.newNoDocument(a,uv.min()))}else zp(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&oy(a.target)){var o=new hv(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,ty.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=xg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Eg(e,n,this.Ut,this.Lt,r);return this.Lt=dg(),this.qt=Rg(),this.Ut=new Qm(rv),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Ng,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Qm(rv),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Fp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Ng),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rg(){return new Gm(hv.comparator)}function Dg(){return new Gm(hv.comparator)}var Pg={asc:"ASCENDING",desc:"DESCENDING"},Lg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mg={and:"AND",or:"OR"},Fg=h((function e(t,n){c(this,e),this.databaseId=t,this.wt=n}));function jg(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ug(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Vg(e,t){return jg(e,t.toTimestamp())}function Bg(e){return zp(!!e),uv.fromTimestamp(function(e){var t=Qv(e);return new ov(t.seconds,t.nanos)}(e))}function zg(e,t){return function(e){return new cv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qg(e){var t=cv.fromString(e);return zp(hk(t)),t}function Kg(e,t){return zg(e.databaseId,t.path)}function Wg(e,t){var n=qg(t);if(n.get(1)!==e.databaseId.projectId)throw new Wp(Kp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wp(Kp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hv(Qg(n))}function Gg(e,t){return zg(e.databaseId,t)}function Hg(e){var t=qg(e);return 4===t.length?cv.emptyPath():Qg(t)}function Zg(e){return new cv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qg(e){return zp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $g(e,t,n){return{name:Kg(e,t),fields:n.value.mapValue.fields}}function Yg(e,t,n){var r=Wg(e,t.name),i=Bg(t.updateTime),a=t.createTime?Bg(t.createTime):uv.min(),o=new Jm({mapValue:{fields:t.fields}}),u=ty.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Xg(e,t){return"found"in t?function(e,t){zp(!!t.found),t.found.name,t.found.updateTime;var n=Wg(e,t.found.name),r=Bg(t.found.updateTime),i=t.found.createTime?Bg(t.found.createTime):uv.min(),a=new Jm({mapValue:{fields:t.found.fields}});return ty.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){zp(!!t.missing),zp(!!t.readTime);var n=Wg(e,t.missing),r=Bg(t.readTime);return ty.newNoDocument(n,r)}(e,t):Bp()}function Jg(e,t){var n;if(t instanceof Jy)n={update:$g(e,t.key,t.value)};else if(t instanceof og)n={delete:Kg(e,t.key)};else if(t instanceof eg)n={update:$g(e,t.key,t.data),updateMask:fk(t.fieldMask)};else{if(!(t instanceof ug))return Bp();n={verify:Kg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ly)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof My)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Bp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bp()}(e,t.precondition)),n}function ek(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Wy.updateTime(Bg(e.updateTime)):void 0!==e.exists?Wy.exists(e.exists):Wy.none()}(t.currentDocument):Wy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zp("REQUEST_TIME"===t.setToServerValue),n=new Ly;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new My(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jy(i)}else"increment"in t?n=new Vy(e,t.increment):Bp();var a=fv.fromServerFormat(t.fieldPath);return new qy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Wg(e,t.update.name),a=new Jm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Xm(t.map((function(e){return fv.fromServerFormat(e)})))}(t.updateMask);return new eg(i,a,o,n,r)}return new Jy(i,a,n,r)}if(t.delete){var u=Wg(e,t.delete);return new og(u,n)}if(t.verify){var s=Wg(e,t.verify);return new ug(s,n)}return Bp()}function tk(e,t){return{documents:[Gg(e,t.path)]}}function nk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return lk(Tm.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sk(e.field),direction:ak(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Kv(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rk(e){var t=Hg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ik(e);return t instanceof Tm&&Nm(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Km(ck(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Kv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new xm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new xm(n,t)}(n.endAt)),fy(t,i,u,o,s,"F",c,l)}function ik(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ck(e.unaryFilter.field);return Im.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ck(e.unaryFilter.field);return Im.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ck(e.unaryFilter.field);return Im.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ck(e.unaryFilter.field);return Im.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bp()}}(e):void 0!==e.fieldFilter?function(e){return Im.create(ck(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tm.create(e.compositeFilter.filters.map((function(e){return ik(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bp()}}(e.compositeFilter.op))}(e):Bp()}function ak(e){return Pg[e]}function ok(e){return Lg[e]}function uk(e){return Mg[e]}function sk(e){return{fieldPath:e.canonicalString()}}function ck(e){return fv.fromServerFormat(e.fieldPath)}function lk(e){return e instanceof Im?function(e){if("=="===e.op){if(pm(e.value))return{unaryFilter:{field:sk(e.field),op:"IS_NAN"}};if(dm(e.value))return{unaryFilter:{field:sk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pm(e.value))return{unaryFilter:{field:sk(e.field),op:"IS_NOT_NAN"}};if(dm(e.value))return{unaryFilter:{field:sk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sk(e.field),op:ok(e.op),value:e.value}}}(e):e instanceof Tm?function(e){var t=e.getFilters().map((function(e){return lk(e)}));return 1===t.length?t[0]:{compositeFilter:{op:uk(e.op),filters:t}}}(e):Bp()}function fk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function dk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vk(t)),t=pk(e.get(n),t);return vk(t)}function pk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function vk(e){return e+"\x01\x01"}function mk(e){var t=e.length;if(zp(t>=2),2===t)return zp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bp(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bp()}a=o+2}return new cv(r)}var yk=["userId","batchId"];function gk(e,t){return[e,dk(t)]}function kk(e,t,n){return[e,dk(t),n]}var bk={},wk=["prefixPath","collectionGroup","readTime","documentId"],xk=["prefixPath","collectionGroup","documentId"],_k=["collectionGroup","readTime","prefixPath","documentId"],Sk=["canonicalId","targetId"],Ek=["targetId","path"],Ik=["path","targetId"],Tk=["collectionId","parent"],Ck=["indexId","uid"],Ak=["uid","sequenceNumber"],Nk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ok=["indexId","uid","orderedDocumentKey"],Rk=["userId","collectionPath","documentId"],Dk=["userId","collectionPath","largestBatchId"],Pk=["userId","collectionGroup","largestBatchId"],Lk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Mk=[].concat((0,s.Z)(Lk),["documentOverlays"]),Fk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jk=Fk,Uk=[].concat(jk,["indexConfiguration","indexState","indexEntries"]),Vk=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return h(n)}(_v);function Bk(e,t){var n=qp(e);return Cv.M(n.se,t)}var zk=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Qy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=$y(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=$y(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=gg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Zy(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(uv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),xg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&iv(this.mutations,e.mutations,(function(e,t){return Xy(e,t)}))&&iv(this.baseMutations,e.baseMutations,(function(e,t){return Xy(e,t)}))}}]),e}(),qk=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){zp(t.mutations.length===r.length);for(var i=bg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Kk=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Wk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hv.EMPTY_BYTE_STRING;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Gk=h((function e(t){c(this,e),this.ie=t}));function Hk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Kg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:jg(e,t.version.toTimestamp()),createTime:jg(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Qk(t.version)};else{if(!t.isUnknownDocument())return Bp();r.unknownDocument={path:n.path.toArray(),version:Qk(t.version)}}return r}function Zk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $k(e){var t=new ov(e.seconds,e.nanoseconds);return uv.fromTimestamp(t)}function Yk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ek(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ek(e.ie,t)})),u=ov.fromMillis(t.localWriteTimeMs);return new zk(t.batchId,u,n,o)}function Xk(e){var t,n,r=$k(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$k(e.lastLimboFreeSnapshotVersion):uv.min();return void 0!==e.query.documents?(zp(1===(n=e.query).documents.length),t=gy(hy(Hg(n.documents[0])))):t=function(e){return gy(rk(e))}(e.query),new Wk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Hv.fromBase64String(e.resumeToken))}function Jk(e,t){var n,r=Qk(t.snapshotVersion),i=Qk(t.lastLimboFreeSnapshotVersion);n=oy(t.target)?tk(e.ie,t.target):nk(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:iy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function eb(e){var t=rk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?by(t,t.limit,"L"):t}function tb(e,t){return new Kk(t.largestBatchId,ek(e.ie,t.overlayMutation))}function nb(e,t){var n=t.path.lastSegment();return[e,dk(t.path.popLast()),n]}function rb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Qk(r.readTime),documentKey:dk(r.documentKey.path),largestBatchId:r.largestBatchId}}var ib=function(){function e(){c(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return ab(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$k(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ab(e).put({bundleId:(n=t).id,createTime:Qk(Bg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ob(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:eb(t.bundledQuery),readTime:$k(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ob(e).put(function(e){return{name:e.name,readTime:Qk(Bg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ab(e){return Bk(e,"bundles")}function ob(e){return Bk(e,"namedQueries")}var ub=function(){function e(t,n){c(this,e),this.yt=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return sb(e).get(nb(this.userId,t)).next((function(e){return e?tb(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=yg();return Iv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Kk(t,a);i.push(r.oe(e,o))})),Iv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(dk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(sb(e).Y("collectionPathOverlayIndex",i))})),Iv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=yg(),a=dk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sb(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=tb(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=yg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sb(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=tb(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return sb(e).put(function(e,t,n){var r=nb(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jg(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function sb(e){return Bk(e,"documentOverlays")}var cb=function(){function e(){c(this,e)}return h(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le($v(e.integerValue));else if("doubleValue"in e){var n=$v(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Wv(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Yv(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?ym(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Bp()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),hv.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function lb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function fb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=lb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}cb.Ie=new cb;var hb=function(){function e(){c(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=fb(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=fb(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),db=function(){function e(t){c(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),pb=function(){function e(t){c(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),vb=function(){function e(){c(this,e),this.$e=new hb,this.Be=new db(this.$e),this.Le=new pb(this.$e)}return h(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),mb=function(){function e(t,n,r,i){c(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function yb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=gb(e.arrayValue,t.arrayValue))?n:0!==(n=gb(e.directionalValue,t.directionalValue))?n:hv.comparator(e.documentKey,t.documentKey)}function gb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var kb=function(){function e(t){c(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"je",value:function(e){zp(e.collectionGroup===this.collectionId);var t=pv(e);if(void 0!==t&&!this.We(t))return!1;for(var n=vv(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=C(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function bb(e){var t,n;if(zp(e instanceof Im||e instanceof Tm),e instanceof Im){if(e instanceof Bm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Im.create(e.field,"==",t)})))||[];return Tm.create(r,"or")}return e}var i=e.filters.map((function(e){return bb(e)}));return Tm.create(i,e.op)}function wb(e){if(0===e.getFilters().length)return[];var t=Eb(bb(e));return zp(Sb(t)),xb(t)||_b(t)?[t]:t.getFilters()}function xb(e){return e instanceof Im}function _b(e){return e instanceof Tm&&Nm(e)}function Sb(e){return xb(e)||_b(e)||function(e){if(e instanceof Tm&&Am(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!xb(r)&&!_b(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Eb(e){if(zp(e instanceof Im||e instanceof Tm),e instanceof Im)return e;if(1===e.filters.length)return Eb(e.filters[0]);var t=e.filters.map((function(e){return Eb(e)})),n=Tm.create(t,e.op);return Sb(n=Cb(n))?n:(zp(n instanceof Tm),zp(Cm(n)),zp(n.filters.length>1),n.filters.reduce((function(e,t){return Ib(e,t)})))}function Ib(e,t){var n;return zp(e instanceof Im||e instanceof Tm),zp(t instanceof Im||t instanceof Tm),n=e instanceof Im?t instanceof Im?function(e,t){return Tm.create([e,t],"and")}(e,t):Tb(e,t):t instanceof Im?Tb(t,e):function(e,t){if(zp(e.filters.length>0&&t.filters.length>0),Cm(e)&&Cm(t))return Pm(e,t.getFilters());var n=Am(e)?e:t,r=Am(e)?t:e,i=n.filters.map((function(e){return Ib(e,r)}));return Tm.create(i,"or")}(e,t),Cb(n)}function Tb(e,t){if(Cm(t))return Pm(t,e.getFilters());var n=t.filters.map((function(t){return Ib(e,t)}));return Tm.create(n,"or")}function Cb(e){if(zp(e instanceof Im||e instanceof Tm),e instanceof Im)return e;var t=e.getFilters();if(1===t.length)return Cb(t[0]);if(Om(e))return e;var n=t.map((function(e){return Cb(e)})),r=[];return n.forEach((function(t){t instanceof Im?r.push(t):t instanceof Tm&&(t.op===e.op?r.push.apply(r,(0,s.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Tm.create(r,e.op)}var Ab=function(){function e(){c(this,e),this.Je=new Nb}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Iv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Iv.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Iv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Iv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Iv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Iv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Iv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Iv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Iv.resolve(bv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Iv.resolve(bv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Iv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Iv.resolve()}}]),e}(),Nb=function(){function e(){c(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qm(cv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Qm(cv.comparator)).toArray()}}]),e}(),Ob=new Uint8Array(0),Rb=function(){function e(t,n){c(this,e),this.user=t,this.databaseId=n,this.Ye=new Nb,this.Xe=new fg((function(e){return iy(e)}),(function(e,t){return ay(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:dk(i)};return Db(e).put(a)}return Iv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[av(t),""],!1,!0);return Db(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(mk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Lb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Mb(e);return a.next((function(e){o.put(rb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Lb(e),r=Mb(e),i=Pb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Pb(e),i=!0,a=new Map;return Iv.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=xg(),o=[];return Iv.forEach(a,(function(i,a){var u;Fp("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(iy(t)));var s=function(e,t){var n=pv(t);if(void 0===n)return null;var r,i=C(uy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(vv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(uy(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(vv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?sy(e,o.fieldPath,e.startAt):cy(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new xm(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(vv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?cy(e,o.fieldPath,e.endAt):sy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new xm(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Iv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=hv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Iv.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:wb(Tm.create(e.filters,"and")).map((function(t){return ry(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?u.rn(t[d/l]):Ob,h=u.on(e,c,n[d%l],r),p=u.un(e,c,i[d%l],a),v=o.map((function(t){return u.on(e,c,t,!0)}));f.push.apply(f,(0,s.Z)(u.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"on",value:function(e,t,n,r){var i=new mb(e,hv.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new mb(e,hv.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new kb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Iv.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Qm(fv.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new vb,i=C(vv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);cb.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new vb;return cb.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new vb;return cb.Ie.ue(lm(this.databaseId,t),n.qe(function(e){var t=vv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new vb);var i,a=0,o=C(vv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&hm(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);cb.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=(0,s.Z)(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=C(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new vb;h.seed(f.Fe()),cb.Ie.ue(c,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Im&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Lb(e),i=Mb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Iv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new yv(t.sequenceNumber,new bv($k(t.readTime),new hv(mk(t.documentKey)),t.largestBatchId)):yv.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new mv(fv.fromServerFormat(n),r)}));return new dv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Lb(e),a=Mb(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Iv.forEach(t,(function(t){return a.put(rb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Iv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Iv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Iv.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Iv.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return Pb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return Pb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=Pb(e),i=new Qm(yb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new mb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Qm(yb),r=this.cn(t,e);if(null==r)return n;var i=pv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(hm(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new mb(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new mb(t.indexId,e.key,Ob,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Fp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ym(a),s=Ym(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ym(o)):l?(i(u),u=Ym(a)):(u=Ym(a),s=Ym(o))}}(r,i,yb,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Iv.waitFor(o)}},{key:"dn",value:function(e){var t=1;return Mb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return yb(e,t)})).filter((function(e,t,n){return!t||0!==yb(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=yb(o,e),s=yb(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ob,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ob,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return yb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Fb)}},{key:"getMinOffset",value:function(e,t){var n=this;return Iv.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Bp()}))})).next(Fb)}}]),e}();function Db(e){return Bk(e,"collectionParents")}function Pb(e){return Bk(e,"indexEntries")}function Lb(e){return Bk(e,"indexConfiguration")}function Mb(e){return Bk(e,"indexState")}function Fb(e){zp(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;wv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bv(t.readTime,t.documentKey,n)}var jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ub=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Vb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){zp(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=kk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Iv.waitFor(a).next((function(){return l}))}function Bb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bp();t=e.noDocument}return JSON.stringify(t).length}Ub.DEFAULT_COLLECTION_PERCENTILE=10,Ub.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ub.DEFAULT=new Ub(41943040,Ub.DEFAULT_COLLECTION_PERCENTILE,Ub.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ub.DISABLED=new Ub(-1,0,0);var zb=function(){function e(t,n,r,i){c(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kb(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Wb(e),o=Kb(e);return o.add({}).next((function(u){zp("number"==typeof u);var s,c=new zk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jg(e.ie,t)})),i=n.mutations.map((function(t){return Jg(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Qm((function(e,t){return rv(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=kk(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,bk))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Iv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Kb(e).get(t).next((function(e){return e?(zp(e.userId===n.userId),Yk(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Iv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Kb(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(zp(t.batchId>=r),a=Yk(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kb(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kb(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Yk(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Wb(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=mk(l);if(c===n.userId&&t.path.isEqual(h))return Kb(e).get(f).next((function(e){if(!e)throw Bp();zp(e.userId===n.userId),o.push(Yk(n.yt,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qm(rv),i=[];return t.forEach((function(t){var o=gk(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Wb(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=mk(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Iv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=gk(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Qm(rv);return Wb(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=mk(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kb(e).get(t).next((function(e){if(null===e)throw Bp();zp(e.userId===n.userId),r.push(Yk(n.yt,e))})))})),Iv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Vb(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Iv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Iv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Wb(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=mk(e[1]);i.push(a)}else r.done()})).next((function(){zp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return qb(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Gb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return zp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function qb(e,t,n){var r=gk(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Wb(e).Z({range:o,X:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Kb(e){return Bk(e,"mutations")}function Wb(e){return Bk(e,"documentMutations")}function Gb(e){return Bk(e,"mutationQueues")}var Hb=function(){function e(t){c(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Zb=function(){function e(t,n){c(this,e),this.referenceDelegate=t,this.yt=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Hb(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return uv.fromTimestamp(new ov(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Qb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return zp(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Qb(e).Z((function(o,u){var s=Xk(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Iv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Qb(e).Z((function(e,n){var r=Xk(n);t(r)}))}},{key:"Vn",value:function(e){return $b(e).get("targetGlobalKey").next((function(e){return zp(null!==e),e}))}},{key:"Sn",value:function(e,t){return $b(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Qb(e).put(Jk(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=iy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Xk(n);ay(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Yb(e);return t.forEach((function(t){var o=dk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Iv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Yb(e);return Iv.forEach(t,(function(t){var a=dk(t.path);return Iv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Yb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yb(e),i=xg();return r.Z({range:n,X:!0},(function(e,t,n){var r=mk(e[1]),a=new hv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dk(t.path),r=IDBKeyRange.bound([n],[av(n)],!1,!0),i=0;return Yb(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Qb(e).get(t).next((function(e){return e?Xk(e):null}))}}]),e}();function Qb(e){return Bk(e,"targets")}function $b(e){return Bk(e,"targetGlobal")}function Yb(e){return Bk(e,"targetDocuments")}function Xb(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=rv(r,u);return 0===c?rv(i,s):c}var Jb=function(){function e(t){c(this,e),this.xn=t,this.buffer=new Qm(Xb),this.Nn=0}return h(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ew=function(){function e(t,n,r){c(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Fp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ov(e.t0)){e.next=12;break}Fp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Sv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),tw=function(){function e(t,n){c(this,e),this.$n=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Iv.resolve(jv.at);var r=new Jb(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fp("LruGarbageCollector","Garbage collection skipped; disabled"),Iv.resolve(jb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),jb):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Fp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Mp()<=jt.DEBUG&&Fp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Iv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),nw=function(){function e(t,n){c(this,e),this.db=t,this.garbageCollector=function(e,t){return new tw(e,t)}(this,n)}return h(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rw(e,n)}},{key:"removeReference",value:function(e,t,n){return rw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rw(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Gb(e).tt((function(r){return qb(e,r,t).next((function(e){return e&&(n=!0),Iv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,uv.min()),Yb(e).delete([0,dk(o.path)])}))}));i.push(s)}})).next((function(){return Iv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rw(e,t)}},{key:"Kn",value:function(e,t){var n,r=Yb(e),i=jv.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==jv.at&&t(new hv(mk(n)),i),i=c,n=s):i=jv.at})).next((function(){i!==jv.at&&t(new hv(mk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rw(e,t){return Yb(e).put(function(e,t){return{targetId:0,path:dk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iw=function(){function e(){c(this,e),this.changes=new fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ty.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Iv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),aw=function(){function e(t){c(this,e),this.yt=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return cw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return cw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Zk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ty.newInvalidDocument(t);return cw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:ty.newInvalidDocument(t)};return cw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lw(t))},(function(e,i){r={document:n.jn(t,i),size:Bb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=dg();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=dg(),i=new Gm(hv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Bb(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Iv.resolve();var r=new Qm(hw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(lw(r.first()),lw(r.last())),a=r.getIterator(),o=a.getNext();return cw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=hv.fromSegments([].concat((0,s.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&hw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(lw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Zk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cw(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=dg(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.jn(hv.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Sy(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=dg(),o=fw(t,n),u=fw(t,bv.max());return cw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(hv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new uw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return sw(e).get("remoteDocumentGlobalKey").next((function(e){return zp(!!e),e}))}},{key:"Qn",value:function(e,t){return sw(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Yg(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=hv.fromSegments(t.noDocument.path),i=$k(t.noDocument.readTime);n=ty.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bp();var a=hv.fromSegments(t.unknownDocument.path),o=$k(t.unknownDocument.version);n=ty.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ov(e[0],e[1]);return uv.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(uv.min()))return n}return ty.newInvalidDocument(e)}}]),e}();function ow(e){return new aw(e)}var uw=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new fg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Qm((function(e,t){return rv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Hk(t.Yn.yt,o);i=i.add(a.path.popLast());var c=Bb(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Hk(t.Yn.yt,o.convertToNoDocument(uv.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Iv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(iw);function sw(e){return Bk(e,"remoteDocumentGlobal")}function cw(e){return Bk(e,"remoteDocumentsV14")}function lw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fw(e,t){var n=t.documentKey.path.toArray();return[e,Zk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=rv(n[a],r[a]))return i;return(i=rv(n.length,r.length))||((i=rv(n[n.length-2],r[r.length-2]))||rv(n[n.length-1],r[r.length-1]))}var dw=h((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),pw=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&$y(r.mutation,e,Xm.empty(),ov.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,xg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xg(),i=yg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=vg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=yg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,xg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=dg(),a=kg(),o=kg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof eg)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),$y(o.mutation,t,o.mutation.getFieldMask(),ov.now())):a.set(t.key,Xm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new dw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=kg(),i=new Gm((function(e,t){return e-t})),a=xg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Xm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||xg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=gg();c.forEach((function(e){if(!a.has(e)){var n=Zy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Iv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return hv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):my(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Iv.resolve(yg()),u=-1,s=a;return o.next((function(t){return Iv.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Iv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,xg())})).next((function(e){return{batchId:u,changes:mg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new hv(t)).next((function(e){var t=vg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vg();return this.indexManager.getCollectionParents(e,i).next((function(o){return Iv.forEach(o,(function(o){var u=function(e,t){return new ly(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ty.newInvalidDocument(r)))}));var n=vg();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&$y(a.mutation,i,Xm.empty(),ov.now()),Sy(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),vw=function(){function e(t){c(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Iv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Bg(n.createTime)}),Iv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Iv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:eb(e.bundledQuery),readTime:Bg(e.readTime)}}(t)),Iv.resolve()}}]),e}(),mw=function(){function e(){c(this,e),this.overlays=new Gm(hv.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return Iv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=yg();return Iv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Iv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Iv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=yg(),i=t.length+1,a=new hv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Iv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Gm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=yg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=yg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Iv.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Kk(t,n));var a=this.es.get(t);void 0===a&&(a=xg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),yw=function(){function e(){c(this,e),this.ns=new Qm(gw.ss),this.rs=new Qm(gw.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new gw(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new gw(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new hv(new cv([])),r=new gw(n,e),i=new gw(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new hv(new cv([])),n=new gw(t,e),r=new gw(t,e+1),i=xg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new gw(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),gw=function(){function e(t,n){c(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return hv.comparator(e.key,t.key)||rv(e._s,t._s)}},{key:"os",value:function(e,t){return rv(e._s,t._s)||hv.comparator(e.key,t.key)}}]),e}(),kw=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Qm(gw.ss)}return h(e,[{key:"checkEmpty",value:function(e){return Iv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new zk(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new gw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Iv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Iv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Iv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Iv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Iv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new gw(t,0),i=new gw(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Iv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qm(rv);return t.forEach((function(e){var t=new gw(e,0),i=new gw(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Iv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hv.isDocumentKey(i)||(i=i.child(""));var a=new gw(new hv(i),0),o=new Qm(rv);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Iv.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zp(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Iv.forEach(t.mutations,(function(i){var a=new gw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new gw(t,0),r=this.gs.firstAfterOrEqual(n);return Iv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Iv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),bw=function(){function e(t){c(this,e),this.Es=t,this.docs=new Gm(hv.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Iv.resolve(n?n.document.mutableCopy():ty.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ty.newInvalidDocument(e))})),Iv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=dg(),a=t.path,o=new hv(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||wv(kv(l),n)<=0||(r.has(l.key)||Sy(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Iv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bp()}},{key:"As",value:function(e,t){return Iv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ww(this)}},{key:"getSize",value:function(e){return Iv.resolve(this.size)}}]),e}(),ww=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Iv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(iw),xw=function(){function e(t){c(this,e),this.persistence=t,this.Rs=new fg((function(e){return iy(e)}),ay),this.lastRemoteSnapshotVersion=uv.min(),this.highestTargetId=0,this.bs=0,this.Ps=new yw,this.targetCount=0,this.vs=Hb.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Iv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Iv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Iv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Iv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Iv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Hb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Iv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Iv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Iv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Iv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Iv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Iv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Iv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Iv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Iv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Iv.resolve(n)}},{key:"containsKey",value:function(e,t){return Iv.resolve(this.Ps.containsKey(t))}}]),e}(),_w=function(){function e(t,n){var r=this;c(this,e),this.Vs={},this.overlays={},this.Ss=new jv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new xw(this),this.indexManager=new Ab,this.remoteDocumentCache=new bw((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Gk(n),this.Ns=new vw(this.yt)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new mw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new kw(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Fp("MemoryPersistence","Starting transaction:",e);var i=new Sw(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Iv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Sw=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(_v),Ew=function(){function e(t){c(this,e),this.persistence=t,this.Fs=new yw,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Bp()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Iv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Iv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Iv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Iv.forEach(this.Ls,(function(r){var i=hv.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,uv.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Iv.or([function(){return Iv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Iw=function(){function e(t){c(this,e),this.yt=t}return h(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Tv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yk,{unique:!0}),e.createObjectStore("documentMutations")}(e),Tw(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Iv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Tw(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:uv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Iv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Rk});t.createIndex("collectionPathOverlayIndex",Dk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Pk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:wk});t.createIndex("documentKeyIndex",xk),t.createIndex("collectionGroupIndex",_k)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ck}).createIndex("sequenceNumberIndex",Ak,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Nk}).createIndex("documentKeyIndex",Ok,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Bb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Iv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Iv.forEach(r,(function(r){zp(r.userId===n.userId);var i=Yk(t.yt,r);return Vb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new cv(n),o=function(e){return[0,dk(e)]}(a);r.push(t.get(o).next((function(n){return n?Iv.resolve():function(n){return t.put({targetId:0,path:dk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Iv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Tk});var n=t.store("collectionParents"),r=new Nb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dk(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new cv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],mk(r));return i(o.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Xk(r),a=Jk(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new hv(cv.fromString(i.document.name).popFirst(5)):i.noDocument?hv.fromSegments(i.noDocument.path):i.unknownDocument?hv.fromSegments(i.unknownDocument.path):Bp()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Iv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=ow(this.yt),a=new _w(Ew.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:xg();Yk(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Iv.forEach(r,(function(e,r){var o=new Dp(r),u=ub.re(n.yt,o),s=a.getIndexManager(o),c=zb.re(o,n.yt,s,a.referenceDelegate);return new pw(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Vk(t,jv.at),e).next()}))}))}}]),e}();function Tw(e){e.createObjectStore("targetDocuments",{keyPath:Ek}).createIndex("documentTargetsIndex",Ik,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sk,{unique:!0}),e.createObjectStore("targetGlobal")}var Cw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Aw=function(){function e(t,n,r,i,a,o,u,s,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(c(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=l,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Wp(Kp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nw(this,i),this.ii=n+"main",this.yt=new Gk(s),this.ri=new Cv(this.ii,this.Xs,new Iw(this.yt)),this.Cs=new Zb(this.referenceDelegate,this.yt),this.remoteDocumentCache=ow(this.yt),this.Ns=new ib,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&jp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wp(Kp.FAILED_PRECONDITION,Cw);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new jv(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Dt(Ot().mark((function n(r){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Dt(Ot().mark((function t(n){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ow(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Ov(t))return Fp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Fp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Nw(e).get("owner").next((function(e){return Iv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Ow(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i,a=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Bk(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Iv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Iv.resolve(!0):Nw(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Wp(Kp.FAILED_PRECONDITION,Cw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ow(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Dt(Ot().mark((function e(){var t=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Vk(e,jv.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ow(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return zb.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Rb(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ub.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Fp("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Uk:14===i?jk:13===i?Fk:12===i?Mk:11===i?Lk:void Bp();return this.ri.runTransaction(e,o,u,(function(i){return a=new Vk(i,r.Ss?r.Ss.next():jv.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw jp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Wp(Kp.FAILED_PRECONDITION,xv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Nw(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wp(Kp.FAILED_PRECONDITION,Cw)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nw(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Nw(e);return n.get("owner").next((function(e){return t.mi(e)?(Fp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Iv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(jp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Fp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return jp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Bl){jp("Failed to set zombie client id.",Bl)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Bl){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Cv.C()}}]),e}();function Nw(e){return Bk(e,"owner")}function Ow(e){return Bk(e,"clientMetadata")}function Rw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dw=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=xg(),a=xg(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Pw=function(){function e(){c(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(dy(t))return Iv.resolve(null);var r=gy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=by(t,null,"F"),r=gy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=xg.apply(void 0,(0,s.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,by(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return dy(t)||r.isEqual(uv.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Mp()<=jt.DEBUG&&Fp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_y(t)),i.Bi(e,o,t,gv(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Qm(Iy(e));return t.forEach((function(t,r){Sy(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Mp()<=jt.DEBUG&&Fp("QueryEngine","Using full collection scan to execute query:",_y(t)),this.Ni.getDocumentsMatchingQuery(e,t,bv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Lw=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Gm(rv),this.Ui=new fg((function(e){return iy(e)}),ay),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pw(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function Mw(e,t,n,r){return new Lw(e,t,n,r)}function Fw(e,t){return jw.apply(this,arguments)}function jw(){return jw=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=xg(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Uw(e,t){var n=qp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Iv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);zp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=xg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Vw(e){var t=qp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Bw(e,t){var n=qp(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Hv.EMPTY_BYTE_STRING,uv.min()).withLastLimboFreeSnapshotVersion(uv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=dg(),s=xg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(zw(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(uv.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Iv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function zw(e,t,n){var r=xg(),i=xg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=dg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(uv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Fp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function qw(e,t){var n=qp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Kw(e,t){var n=qp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Iv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Wk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function Ww(e,t,n){return Gw.apply(this,arguments)}function Gw(){return Gw=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qp(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ov(e.t1)){e.next=12;break}throw e.t1;case 12:Fp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Gw.apply(this,arguments)}function Hw(e,t,n){var r=qp(e),i=uv.min(),a=xg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qp(e),i=r.Ui.get(n);return void 0!==i?Iv.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,gy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:uv.min(),n?a:xg())})).next((function(e){return $w(r,Ey(t),e),{documents:e,Hi:a}}))}))}function Zw(e,t){var n=qp(e),r=qp(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Qw(e,t){var n=qp(e),r=n.Ki.get(t)||uv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,gv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return $w(n,t,e),e}))}function $w(e,t,n){var r=e.Ki.get(t)||uv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Yw(e,t,n,r){return Xw.apply(this,arguments)}function Xw(){return Xw=Dt(Ot().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=qp(t),o=xg(),u=dg(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Kw(a,function(e){return gy(hy(cv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zw(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e,t){return ex.apply(this,arguments)}function ex(){return ex=Dt(Ot().mark((function e(t,n){var r,i,a,o=arguments;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:xg(),e.next=3,Kw(t,gy(eb(n.bundledQuery)));case 3:return i=e.sent,a=qp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Bg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Hv.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ix=function(){function e(t,n,r,i){c(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(jp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ax=function(){function e(t,n,r){c(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wp(i.error.code,i.error.message))),a?new e(t,i.state,r):(jp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ox=function(){function e(t,n){c(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(jp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ux=function(){function e(t,n){c(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(jp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),sx=function(){function e(){c(this,e),this.activeTargetIds=Sg()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cx=function(){function e(t,n,r,i,a){c(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Gm(rv),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=tx(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new sx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return h(e,[{key:"start",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(tx(this.persistenceKey,i)))&&(o=ox.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=C(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rx(this.persistenceKey,e));if(n){var r=ax.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Fp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Fp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Fp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Fp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void jp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Dt(Ot().mark((function e(){var r,i,a,o,u,s,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=jv.at;if(null!=e)try{var n=JSON.parse(e);zp("number"==typeof n),t=n}catch(e){jp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==jv.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new ix(this.currentUser,e,t,n),i=nx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=nx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=rx(this.persistenceKey,e),i=new ax(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return ox.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ix.Zi(new Dp(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return ax.Zi(r,t)}},{key:"yr",value:function(e){return ux.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Fp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Sg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),lx=function(){function e(){c(this,e),this.Lr=new sx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new sx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),fx=function(){function e(){c(this,e)}return h(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hx=function(){function e(){var t=this;c(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Fp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Fp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},px=function(){function e(t){c(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),vx=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Op;o.setWithCredentials(!0),o.listenOnce(Ip.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ep.NO_ERROR:var t=o.getResponseJson();Fp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ep.TIMEOUT:Fp("Connection",'RPC "'+e+'" timed out'),a(new Wp(Kp.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:var n=o.getStatus();if(Fp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kp).indexOf(t)>=0?t:Kp.UNKNOWN}(u.status);a(new Wp(s,u.message))}else a(new Wp(Kp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wp(Kp.UNAVAILABLE,"Connection failed."));break;default:Bp()}}finally{Fp("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_p(),a=Sp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ap({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Fp("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new px({Hr:function(e){l?Fp("Connection","Not sending because WebChannel is closed:",e):(c||(Fp("Connection","Opening WebChannel transport."),s.open(),c=!0),Fp("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Np.EventType.OPEN,(function(){l||Fp("Connection","WebChannel transport opened.")})),h(s,Np.EventType.CLOSE,(function(){l||(l=!0,Fp("Connection","WebChannel transport closed"),f.io())})),h(s,Np.EventType.ERROR,(function(e){l||(l=!0,Up("Connection","WebChannel transport errored:",e),f.io(new Wp(Kp.UNAVAILABLE,"The operation could not be completed")))})),h(s,Np.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];zp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fp("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ig[e];if(void 0!==t)return lg(t)}(a),u=i.message;void 0===o&&(o=Kp.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Wp(o,u)),s.close()}else Fp("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Tp.STAT_EVENT,(function(e){e.stat===Cp.PROXY?Fp("Connection","Detected buffering proxy"):e.stat===Cp.NOPROXY&&Fp("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Fp("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Fp("RestConnection","Received: ",e),e}),(function(t){throw Up("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=dx[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function mx(){return"undefined"!=typeof window?window:null}function yx(){return"undefined"!=typeof document?document:null}function gx(e){return new Fg(e,!0)}var kx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Fp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),bx=function(){function e(t,n,r,i,a,o,u,s){c(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kx(t,n)}return h(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Kp.RESOURCE_EXHAUSTED?(jp(n.toString()),jp("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Kp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.So===n&&e.Go(i,o)}),(function(n){t((function(){var t=new Wp(Kp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Fp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Fp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wx=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return h(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(zp(void 0===t||"string"==typeof t),Hv.fromBase64String(t||"")):(zp(void 0===t||t instanceof Uint8Array),Hv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Kp.UNKNOWN:lg(e.code);return new Wp(t,e.message||"")}(o);n=new Ag(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Wg(e,s.document.name),l=Bg(s.document.updateTime),f=s.document.createTime?Bg(s.document.createTime):uv.min(),h=new Jm({mapValue:{fields:s.document.fields}}),d=ty.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Tg(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Wg(e,m.document),g=m.readTime?Bg(m.readTime):uv.min(),k=ty.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Tg([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Wg(e,w.document),_=w.removedTargetIds||[];n=new Tg([],_,x,null)}else{if(!("filter"in t))return Bp();t.filter;var S=t.filter;S.targetId;var E=S.count||0,I=new sg(E),T=S.targetId;n=new Cg(T,I)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return uv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?uv.min():t.readTime?Bg(t.readTime):uv.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Zg(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=oy(r)?{documents:tk(e,r)}:{query:nk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ug(e,t.resumeToken):t.snapshotVersion.compareTo(uv.min())>0&&(n.readTime=jg(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Zg(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(bx),xx=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return h(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,dr(v(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(zp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(zp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Bg(e.updateTime):Bg(t);return n.isEqual(uv.min())&&(n=Bg(t)),new Ky(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Bg(e.commitTime);return this.listener.Zo(n,t)}return zp(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Zg(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jg(t.yt,e)}))};this.Bo(n)}}]),n}(bx),_x=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return h(n,[{key:"su",value:function(){if(this.nu)throw new Wp(Kp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wp(Kp.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kp.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Wp(Kp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return h((function e(){c(this,e)}))}());var Sx=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return h(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(jp(t),this.ou=!1):Fp("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Ex=h((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Mx(o),!e.t0){e.next=5;break}return Fp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qp(t))._u.add(4),e.next=4,Cx(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Ix(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Sx(r,i)}));function Ix(e){return Tx.apply(this,arguments)}function Tx(){return Tx=Dt(Ot().mark((function e(t){var n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mx(t)){e.next=18;break}n=C(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Tx.apply(this,arguments)}function Cx(e){return Ax.apply(this,arguments)}function Ax(){return Ax=Dt(Ot().mark((function e(t){var n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ax.apply(this,arguments)}function Nx(e,t){var n=qp(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Lx(n)?Px(n):f_(n).ko()&&Rx(n,t))}function Ox(e,t){var n=qp(e),r=f_(n);n.du.delete(t),r.ko()&&Dx(n,t),0===n.du.size&&(r.ko()?r.Fo():Mx(n)&&n.gu.set("Unknown"))}function Rx(e,t){e.yu.Ot(t.targetId),f_(e).zo(t)}function Dx(e,t){e.yu.Ot(t),f_(e).Ho(t)}function Px(e){e.yu=new Og({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),f_(e).start(),e.gu.uu()}function Lx(e){return Mx(e)&&!f_(e).No()&&e.du.size>0}function Mx(e){return 0===qp(e)._u.size}function Fx(e){e.yu=void 0}function jx(e){return Ux.apply(this,arguments)}function Ux(){return Ux=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Rx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fx(t),Lx(t)?(t.gu.hu(n),Px(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function zx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=Dt(Ot().mark((function e(t,n,r){var i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Ag&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Fp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Kx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Tg?t.yu.Kt(n):n instanceof Cg?t.yu.Jt(n):t.yu.jt(n),r.isEqual(uv.min())){e.next=29;break}return e.prev=14,e.next=17,Vw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Hv.EMPTY_BYTE_STRING,n.snapshotVersion)),Dx(e,t);var r=new Wk(n.target,t,1,n.sequenceNumber);Rx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Fp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Kx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),qx.apply(this,arguments)}function Kx(e,t,n){return Wx.apply(this,arguments)}function Wx(){return Wx=Dt(Ot().mark((function e(t,n,r){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ov(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Cx(t);case 5:t.gu.set("Offline"),r||(r=function(){return Vw(t.localStore)}),t.asyncQueue.enqueueRetryable(Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Ix(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Gx(e,t){return t().catch((function(n){return Kx(e,n,t)}))}function Hx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=Dt(Ot().mark((function e(t){var n,r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qp(t),r=h_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Qx(n)){e.next=19;break}return e.prev=3,e.next=6,qw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,$x(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Kx(n,e.t0);case 17:e.next=2;break;case 19:Yx(n)&&Xx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Zx.apply(this,arguments)}function Qx(e){return Mx(e)&&e.fu.length<10}function $x(e,t){e.fu.push(t);var n=h_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Yx(e){return Mx(e)&&!h_(e).No()&&e.fu.length>0}function Xx(e){h_(e).start()}function Jx(e){return e_.apply(this,arguments)}function e_(){return e_=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h_(t).eu();case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e){return n_.apply(this,arguments)}function n_(){return n_=Dt(Ot().mark((function e(t){var n,r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h_(t),r=C(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=qk.from(i,n,r),e.next=3,Gx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hx(t);case 5:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=Dt(Ot().mark((function e(t,n){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&h_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cg(i=n.code)||i===Kp.ABORTED){e.next=7;break}return r=t.fu.shift(),h_(t).Mo(),e.next=5,Gx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Hx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Yx(t)&&Xx(t);case 5:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qp(t)).asyncQueue.verifyOperationInProgress(),Fp("RemoteStore","RemoteStore received new credentials"),i=Mx(r),r._u.add(3),e.next=6,Cx(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Ix(r);case 12:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qp(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Ix(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Cx(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e){return e.pu||(e.pu=function(e,t,n){var r=qp(e);return r.su(),new wx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:jx.bind(null,e),Zr:Vx.bind(null,e),Wo:zx.bind(null,e)}),e.wu.push(function(){var t=Dt(Ot().mark((function t(n){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Lx(e)?Px(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Fx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function h_(e){return e.Iu||(e.Iu=function(e,t,n){var r=qp(e);return r.su(),new xx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Jx.bind(null,e),Zr:a_.bind(null,e),tu:t_.bind(null,e),Zo:r_.bind(null,e)}),e.wu.push(function(){var t=Dt(Ot().mark((function t(n){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Hx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Fp("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var d_=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wp(Kp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function p_(e,t){if(jp("AsyncQueue","".concat(t,": ").concat(e)),Ov(e))return new Wp(Kp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var v_=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||hv.comparator(e.key,n.key)}:function(e,t){return hv.comparator(e.key,t.key)},this.keyedMap=vg(),this.sortedSet=new Gm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),m_=function(){function e(){c(this,e),this.Tu=new Gm(hv.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Bp():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),y_=function(){function e(t,n,r,i,a,o,u,s,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,v_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),g_=h((function e(){c(this,e),this.Au=void 0,this.listeners=[]})),k_=h((function e(){c(this,e),this.queries=new fg((function(e){return xy(e)}),wy),this.onlineState="Unknown",this.Ru=new Set}));function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=Dt(Ot().mark((function e(t,n){var r,i,a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new g_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=p_(e.t0,"Initialization of query '".concat(_y(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&I_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),w_.apply(this,arguments)}function x_(e,t){return __.apply(this,arguments)}function __(){return __=Dt(Ot().mark((function e(t,n){var r,i,a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function S_(e,t){var n,r=qp(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&I_(r)}function E_(e,t,n){var r=qp(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function I_(e){e.Ru.forEach((function(e){e.next()}))}var T_=function(){function e(t,n,r){c(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new y_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=y_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),C_=function(){function e(t,n){c(this,e),this.ku=t,this.byteLength=n}return h(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),A_=function(){function e(t){c(this,e),this.yt=t}return h(e,[{key:"Ji",value:function(e){return Wg(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Yg(this.yt,e.document,!1):ty.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Bg(e)}}]),e}(),N_=function(){function e(t,n,r){c(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O_(t)}return h(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=cv.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new A_(this.yt),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||xg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(this.localStore,new A_(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Jw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function O_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var R_=h((function e(t){c(this,e),this.key=t})),D_=h((function e(t){c(this,e),this.key=t})),P_=function(){function e(t,n){c(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xg(),this.mutatedKeys=xg(),this.Gu=Iy(t),this.Qu=new v_(this.Gu)}return h(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new m_,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Sy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bp()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new y_(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new m_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=xg(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new D_(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new R_(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=xg();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return y_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),L_=h((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),M_=h((function e(t){c(this,e),this.key=t,this.nc=!1})),F_=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new fg((function(e){return xy(e)}),wy),this.rc=new Map,this.oc=new Set,this.uc=new Gm(hv.comparator),this.cc=new Map,this.ac=new yw,this.hc={},this.lc=new Map,this.fc=Hb.vn(),this.onlineState="Unknown",this.dc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function j_(e,t){return U_.apply(this,arguments)}function U_(){return U_=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OS(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Kw(r.localStore,gy(n));case 8:return u=e.sent,r.isPrimaryClient&&Nx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,V_(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t,n,r,i){return B_.apply(this,arguments)}function B_(){return B_=Dt(Ot().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Dt(Ot().mark((function e(t,n,r,i){var a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Hw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uS(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Hw(t.localStore,n,!0);case 3:return o=e.sent,u=new P_(n,o.Hi),s=u.Wu(o.documents),c=Ig.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),uS(t,r,l.Xu),f=new L_(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function z_(e,t){return q_.apply(this,arguments)}function q_(){return q_=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qp(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!wy(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ww(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ox(r.remoteStore,i.targetId),aS(r,i.targetId)})).catch(Sv);case 9:e.next=14;break;case 11:return aS(r,i.targetId),e.next=14,Ww(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function K_(e,t,n){return W_.apply(this,arguments)}function W_(){return W_=Dt(Ot().mark((function e(t,n,r){var i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=qp(e),a=ov.now(),o=t.reduce((function(e,t){return e.add(t.key)}),xg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=dg(),s=xg();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Yy(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new eg(c.key,l,ey(l.value.mapValue),Wy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:mg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Gm(rv)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lS(i,a.changes);case 9:return e.next=11,Hx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=p_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),W_.apply(this,arguments)}function G_(e,t){return H_.apply(this,arguments)}function H_(){return H_=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),e.prev=1,e.next=4,Bw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(zp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?zp(n.nc):e.removedDocuments.size>0&&(zp(n.nc),n.nc=!1))})),e.next=8,lS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Sv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),H_.apply(this,arguments)}function Z_(e,t,n){var r=qp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&I_(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Q_(e,t,n){return $_.apply(this,arguments)}function $_(){return $_=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s,c;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Gm(hv.comparator)).insert(o,ty.newNoDocument(o,uv.min())),s=xg().add(o),c=new Eg(uv.min(),new Map,new Qm(rv),u,s),e.next=9,G_(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),cS(i),e.next=16;break;case 14:return e.next=16,Ww(i.localStore,n,!1).then((function(){return aS(i,n,r)})).catch(Sv);case 16:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Y_(e,t){return X_.apply(this,arguments)}function X_(){return X_=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),i=n.batch.batchId,e.prev=1,e.next=4,Uw(r.localStore,n);case 4:return a=e.sent,iS(r,i,null),rS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),X_.apply(this,arguments)}function J_(e,t,n){return eS.apply(this,arguments)}function eS(){return eS=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qp(t),e.prev=1,e.next=4,function(e,t){var n=qp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return zp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,iS(i,n,r),rS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Sv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=Dt(Ot().mark((function e(t,n){var r,i,a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mx((r=qp(t)).remoteStore)||Fp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=p_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),nS.apply(this,arguments)}function rS(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function iS(e,t,n){var r=qp(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function aS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||oS(e,t)}))}function oS(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Ox(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),cS(e))}function uS(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof R_?(e.ac.addReference(a.key,t),sS(e,a)):a instanceof D_?(Fp("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||oS(e,a.key)):Bp()}}catch(o){i.e(o)}finally{i.f()}}function sS(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Fp("SyncEngine","New document in limbo: "+n),e.oc.add(r),cS(e))}function cS(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new hv(cv.fromString(t)),r=e.fc.next();e.cc.set(r,new M_(n)),e.uc=e.uc.insert(n,r),Nx(e.remoteStore,new Wk(gy(hy(n.path)),r,2,jv.at))}}function lS(e,t,n){return fS.apply(this,arguments)}function fS(){return fS=Dt(Ot().mark((function e(t,n,r){var i,a,o,u;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qp(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Dw.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Iv.forEach(n,(function(t){return Iv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Iv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ov(e.t0)){e.next=10;break}throw e.t0;case 10:Fp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qp(t)).currentUser.isEqual(n)){e.next=11;break}return Fp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Fw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Wp(Kp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lS(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t){var n=qp(e),r=n.cc.get(t);if(r&&r.nc)return xg().add(r.key);var i=xg(),a=n.rc.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),e.next=3,Hw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&uS(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=Dt(Ot().mark((function e(t,n){var r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),e.abrupt("return",Qw(r.localStore,n).then((function(e){return lS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t,n,r){return bS.apply(this,arguments)}function bS(){return bS=Dt(Ot().mark((function e(t,n,r,i){var a,o;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qp(t),e.next=3,function(e,t){var n=qp(e),r=qp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Iv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Hx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(iS(a,n,i||null),rS(a,n),function(e,t){qp(qp(e).mutationQueue).An(t)}(a.localStore,n)):Bp();case 11:return e.next=13,lS(a,o);case 13:e.next=16;break;case 15:Fp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){return xS.apply(this,arguments)}function xS(){return xS=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OS(r=qp(t)),RS(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_S(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,c_(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Nx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return aS(r,t),Ww(r.localStore,t,!0)})),Ox(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,_S(r,c);case 21:return function(e){var t=qp(e);t.cc.forEach((function(e,n){Ox(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Gm(hv.comparator)}(r),r.dc=!1,e.next=25,c_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e,t,n){return SS.apply(this,arguments)}function SS(){return SS=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qp(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Kw(i.localStore,gy(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,vS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Zw(i.localStore,c);case 36:return y=e.sent,e.next=39,Kw(i.localStore,y);case 39:return l=e.sent,e.next=42,V_(i,ES(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),SS.apply(this,arguments)}function ES(e){return fy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function IS(e){var t=qp(e);return qp(qp(t.localStore).persistence).vi()}function TS(e,t,n,r){return CS.apply(this,arguments)}function CS(){return CS=Dt(Ot().mark((function e(t,n,r,i){var a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=qp(t)).dc){e.next=3;break}return e.abrupt("return",void Fp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Qw(a.localStore,Ey(o[0]));case 10:return u=e.sent,s=Eg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Hv.EMPTY_BYTE_STRING),e.next=14,lS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ww(a.localStore,n,!0);case 17:return aS(a,n,i),e.abrupt("break",20);case 19:Bp();case 20:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=OS(t)).dc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Fp("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Zw(i.localStore,u);case 12:return s=e.sent,e.next=15,Kw(i.localStore,s);case 15:return c=e.sent,e.next=18,V_(i,ES(s),c.targetId,!1,c.resumeToken);case 18:Nx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,Ww(i.localStore,t,!1).then((function(){Ox(i.remoteStore,t),aS(i,t)})).catch(Sv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NS.apply(this,arguments)}function OS(e){var t=qp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=G_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q_.bind(null,t),t.sc.Wo=S_.bind(null,t.eventManager),t.sc.wc=E_.bind(null,t.eventManager),t}function RS(e){var t=qp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Y_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=J_.bind(null,t),t}function DS(e,t,n){var r=qp(e);(function(){var e=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qp(e),r=Bg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(O_(i)),a=new N_(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,lS(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=qp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Up("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var PS=function(){function e(){c(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=gx(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return Mw(this.persistence,new Pw,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new _w(Ew.Bs,this.yt)}},{key:"gc",value:function(e){return new lx}},{key:"terminate",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LS=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=Dt(Ot().mark((function e(t){var r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,RS(this.Ac.syncEngine);case 6:return e.next=8,Hx(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return Mw(this.persistence,new Pw,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ew(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Fv(t,this.persistence);return new Mv(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ub.withCacheSize(this.cacheSizeBytes):Ub.DEFAULT;return new Aw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mx(),yx(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new lx}}]),n}(PS),MS=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=Dt(Ot().mark((function e(t){var r,i=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof cx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:kS.bind(null,r),$r:TS.bind(null,r),Br:AS.bind(null,r),vi:IS.bind(null,r),Mr:yS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=mx();if(!cx.C(t))throw new Wp(Kp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(LS),FS=function(){function e(){c(this,e)}return h(e,[{key:"initialize",value:function(){var e=Dt(Ot().mark((function e(t,n){var r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Z_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hS.bind(null,this.syncEngine),e.next=12,c_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new k_}},{key:"createDatastore",value:function(e){var t,n=gx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vx(t));return function(e,t,n,r){return new _x(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Z_(o.syncEngine,e,0)},a=hx.C()?new hx:new fx,new Ex(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new F_(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qp(t),Fp("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Cx(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jS(e,t,n){if(!n)throw new Wp(Kp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function US(e,t,n,r){if(!0===t&&!0===r)throw new Wp(Kp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function VS(e){if(!hv.isDocumentKey(e))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function BS(e){if(hv.isDocumentKey(e))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bp()}function qS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wp(Kp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zS(e);throw new Wp(Kp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function KS(e,t){if(t<=0)throw new Wp(Kp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var WS=new Map,GS=function(){function e(t){var n;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wp(Kp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wp(Kp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,US("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),HS=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new Wp(Kp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wp(Kp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zp;switch(e.type){case"gapi":var t=e.client;return new Xp(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wp(Kp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=WS.get(e);t&&(Fp("ComponentProvider","Removing Datastore"),WS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ZS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=qS(e,HS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Up("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Dp.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[it(JSON.stringify({alg:"none",type:"JWT"})),it(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wp(Kp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dp(s)}e._authCredentials=new Qp(new Hp(o,u))}}var QS=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new YS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$S=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),YS=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,hy(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new QS(this.firestore,null,new hv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($S);function XS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nt(e),jS("collection","path",t),e instanceof HS){var a=cv.fromString.apply(cv,[t].concat(r));return BS(a),new YS(e,null,a)}if(!(e instanceof QS||e instanceof YS))throw new Wp(Kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cv.fromString.apply(cv,[t].concat(r)));return BS(o),new YS(e.firestore,null,o)}function JS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nt(e),1===arguments.length&&(t=nv.R()),jS("doc","path",t),e instanceof HS){var a=cv.fromString.apply(cv,[t].concat(r));return VS(a),new QS(e,null,new hv(a))}if(!(e instanceof QS||e instanceof YS))throw new Wp(Kp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cv.fromString.apply(cv,[t].concat(r)));return VS(o),new QS(e.firestore,e instanceof YS?e.converter:null,new hv(o))}function eE(e,t){return e=Nt(e),t=Nt(t),(e instanceof QS||e instanceof YS)&&(t instanceof QS||t instanceof YS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tE(e,t){return e=Nt(e),t=Nt(t),e instanceof $S&&t instanceof $S&&e.firestore===t.firestore&&wy(e._query,t._query)&&e.converter===t.converter}function nE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Dt(Ot().mark((function r(){var i;return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rE=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):jp("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iE=function(){function e(t,n){var r=this;c(this,e),this.Pc=t,this.yt=n,this.metadata=new Gp,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Dt(Ot().mark((function e(){var t,n,r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new C_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Dt(Ot().mark((function e(){var t,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Dt(Ot().mark((function e(){var t,n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aE=function(){function e(t){c(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=Dt(Ot().mark((function e(t){var n,r=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wp(Kp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),i=Zg(r.yt)+"/documents",a={documents:n.map((function(e){return Kg(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Xg(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());zp(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new og(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Dt(Ot().mark((function e(){var t,n=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=hv.fromPath(t);n.mutations.push(new ug(r,n.precondition(r)))})),e.next=7,function(){var e=Dt(Ot().mark((function e(t,n){var r,i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qp(t),i=Zg(r.yt)+"/documents",a={writes:n.map((function(e){return Jg(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bp();t=uv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wp(Kp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(uv.min())?Wy.exists(!1):Wy.updateTime(t):Wy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(uv.min()))throw new Wp(Kp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wy.updateTime(t)}return Wy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),oE=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new kx(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Dt(Ot().mark((function t(){var n,r;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new aE(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Kv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cg(t)}return!1}}]),e}(),uE=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dp.UNAUTHENTICATED,this.clientId=nv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Fp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=Dt(Ot().mark((function e(){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wp(Kp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Gp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Dt(Ot().mark((function n(){var r;return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=p_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Fp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Fw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Dt(Ot().mark((function e(t,n){var r,i;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hE(t);case 3:return r=e.sent,Fp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return u_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return u_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e){return dE.apply(this,arguments)}function dE(){return dE=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Fp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,sE(t,new PS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e){return vE.apply(this,arguments)}function vE(){return vE=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Fp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lE(t,new FS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e){return hE(e).then((function(e){return e.persistence}))}function yE(e){return hE(e).then((function(e){return e.localStore}))}function gE(e){return pE(e).then((function(e){return e.remoteStore}))}function kE(e){return pE(e).then((function(e){return e.syncEngine}))}function bE(e){return pE(e).then((function(e){return e.datastore}))}function wE(e){return xE.apply(this,arguments)}function xE(){return xE=Dt(Ot().mark((function e(t){var n,r;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=j_.bind(null,n.syncEngine),r.onUnlisten=z_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function _E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function i(){return Ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rE({next:function(a){t.enqueueAndForget((function(){return x_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Wp(Kp.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Wp(Kp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new T_(hy(n.path),a,{includeMetadataChanges:!0,Nu:!0});return b_(e,o)},i.next=3,wE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function SE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function i(){return Ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rE({next:function(n){t.enqueueAndForget((function(){return x_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wp(Kp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new T_(n,a,{includeMetadataChanges:!0,Nu:!0});return b_(e,o)},i.next=3,wE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var EE=function(){function e(){var t=this;c(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new kx(this,"async_queue_retry"),this.Wc=function(){var e=yx();e&&Fp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=yx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return h(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=yx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Gp;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Dt(Ot().mark((function e(){var t=this;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ov(e.t0)){e.next=12;break}throw e.t0;case 12:Fp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw jp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=d_.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Bp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=C(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function IE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var TE=function(){function e(){c(this,e),this._progressObserver={},this._taskCompletionResolver=new Gp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CE=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new EE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||NE(this),this._firestoreClient.terminate()}}]),n}(HS);function AE(e){return e._firestoreClient||NE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Uv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function OE(e,t,n){var r=new Gp;return e.asyncQueue.enqueue(Dt(Ot().mark((function i(){var a;return Ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,sE(e,n);case 3:return i.next=5,lE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Kp.FAILED_PRECONDITION||e.code===Kp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Up("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function RE(e){return function(e){return e.asyncQueue.enqueue(Dt(Ot().mark((function t(){var n,r;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mE(e);case 2:return n=t.sent,t.next=5,gE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qp(e);return t._u.delete(0),Ix(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(AE(e=qS(e,CE)))}function DE(e){return function(e){return e.asyncQueue.enqueue(Dt(Ot().mark((function t(){var n,r;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mE(e);case 2:return n=t.sent,t.next=5,gE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qp(t))._u.add(0),e.next=4,Cx(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(AE(e=qS(e,CE)))}function PE(e,t){var n=AE(e=qS(e,CE)),r=new TE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new iE(e,t)}(function(e,t){if(e instanceof Uint8Array)return nE(e,t);if(e instanceof ArrayBuffer)return nE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,gx(t));e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DS,t.next=3,kE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LE(e,t){return function(e,t){return e.asyncQueue.enqueue(Dt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,yE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(AE(e=qS(e,CE)),t).then((function(t){return t?new $S(e,null,t.query):null}))}function ME(e){if(e._initialized||e._terminated)throw new Wp(Kp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var FE=function(){function e(t){c(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Hv.fromBase64String(t))}catch(t){throw new Wp(Kp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Hv.fromUint8Array(t))}}]),e}(),jE=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fv(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var UE=h((function e(t){c(this,e),this._methodName=t})),VE=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new Wp(Kp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wp(Kp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return rv(this._lat,e._lat)||rv(this._long,e._long)}}]),e}(),BE=/^__.*__$/,zE=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jy(e,this.data,t,this.fieldTransforms)}}]),e}(),qE=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new eg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bp()}}var WE=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return fI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(KE(this.sa)&&BE.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),GE=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||gx(t)}return h(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WE({sa:e,methodName:t,fa:n,path:fv.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function HE(e){var t=e._freezeSettings(),n=gx(e._databaseId);return new GE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);uI("Data must be an object, but it was:",o,r);var u,s,c=aI(r,o);if(a.merge)u=new Xm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=sI(t,l.value,n);if(!o.contains(d))throw new Wp(Kp.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));hI(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Xm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new zE(new Jm(c),u,s)}var QE=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UE);function $E(e,t,n){return new WE({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var YE=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new qy(e.path,new Ly)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(UE),XE=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this._a.map((function(e){return iI(e,t)})),r=new My(n);return new qy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UE),JE=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=$E(this,e,!0),n=this._a.map((function(e){return iI(e,t)})),r=new jy(n);return new qy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UE),eI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).wa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new Vy(e.yt,Ny(e.yt,this.wa));return new qy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(UE);function tI(e,t,n,r){var i=e.da(1,t,n);uI("Data must be an object, but it was:",i,r);var a=[],o=Jm.empty();zv(r,(function(e,r){var u=lI(t,e,n);r=Nt(r);var s=i.ca(u);if(r instanceof QE)a.push(u);else{var c=iI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Xm(a);return new qE(o,u,i.fieldTransforms)}function nI(e,t,n,r,i,a){var o=e.da(1,t,n),u=[sI(t,r,n)],s=[i];if(a.length%2!=0)throw new Wp(Kp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(sI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Jm.empty(),h=u.length-1;h>=0;--h)if(!hI(l,u[h])){var d=u[h],p=s[h];p=Nt(p);var v=o.ca(d);if(p instanceof QE)l.push(d);else{var m=iI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Xm(l);return new qE(f,y,o.fieldTransforms)}function rI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iI(n,e.da(r?4:3,t))}function iI(e,t){if(oI(e=Nt(e)))return uI("Unsupported field value:",t,e),aI(e,t);if(e instanceof UE)return function(e,t){if(!KE(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=iI(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ny(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ov.fromDate(e);return{timestampValue:jg(t.yt,n)}}if(e instanceof ov){var r=new ov(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jg(t.yt,r)}}if(e instanceof VE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof FE)return{bytesValue:Ug(t.yt,e._byteString)};if(e instanceof QS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(zS(e)))}(e,t)}function aI(e,t){var n={};return qv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zv(e,(function(e,r){var i=iI(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ov||e instanceof VE||e instanceof FE||e instanceof QS||e instanceof UE)}function uI(e,t,n){if(!oI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=zS(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function sI(e,t,n){if((t=Nt(t))instanceof jE)return t._internalPath;if("string"==typeof t)return lI(e,t);throw fI("Field path arguments must be of type string or ",e,!1,void 0,n)}var cI=new RegExp("[~\\*/\\[\\]]");function lI(e,t,n){if(t.search(cI)>=0)throw fI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(jE,(0,s.Z)(t.split(".")))._internalPath}catch(r){throw fI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Wp(Kp.INVALID_ARGUMENT,u+e+s)}function hI(e,t){return e.some((function(e){return e.isEqual(t)}))}var dI=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new QS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pI=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return dr(v(n.prototype),"data",this).call(this)}}]),n}(dI);function vI(e,t){return"string"==typeof t?lI(e,t):t instanceof jE?t._internalPath:t._delegate._internalPath}function mI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wp(Kp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yI=h((function e(){c(this,e)})),gI=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(yI);function kI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof yI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof wI})).length,n=e.filter((function(e){return e instanceof bI})).length;if(t>1||t>0&&n>0)throw new Wp(Kp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var bI=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=this._parse(e);return DI(e._query,t),new $S(e.firestore,e.converter,ky(e._query,t))}},{key:"_parse",value:function(e){var t=HE(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){RI(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(OI(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=OI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||RI(o,a),u=rI(n,"where",o,"in"===a||"not-in"===a);return Im.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gI);var wI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return h(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Tm.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;DI(r,a),r=ky(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new $S(e.firestore,e.converter,ky(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yI);var xI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Km(t,n);return function(e,t){if(null===py(e)){var n=vy(e);null!==n&&PI(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new $S(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ly(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gI);var _I=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return h(n,[{key:"_apply",value:function(e){return new $S(e.firestore,e.converter,by(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gI);var SI=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=NI(e,this.type,this._docOrFields,this._inclusive);return new $S(e.firestore,e.converter,function(e,t){return new ly(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gI);function EI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SI._create("startAt",t,!0)}function II(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SI._create("startAfter",t,!1)}var TI=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=NI(e,this.type,this._docOrFields,this._inclusive);return new $S(e.firestore,e.converter,function(e,t){return new ly(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(gI);function CI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TI._create("endBefore",t,!1)}function AI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TI._create("endAt",t,!0)}function NI(e,t,n,r){if(n[0]=Nt(n[0]),n[0]instanceof dI)return function(e,t,n,r,i){if(!r)throw new Wp(Kp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(yy(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(lm(t,r.key));else{var c=r.data.field(s.field);if(Xv(c))throw new Wp(Kp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new xm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=HE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wp(Kp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!my(e)&&-1!==c.indexOf("/"))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(cv.fromString(c));if(!hv.isDocumentKey(l))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new hv(l);u.push(lm(t,f))}else{var h=rI(n,r,c);u.push(h)}}return new xm(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OI(e,t,n){if("string"==typeof(n=Nt(n))){if(""===n)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!my(t)&&-1!==n.indexOf("/"))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(cv.fromString(n));if(!hv.isDocumentKey(r))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lm(e,new hv(r))}if(n instanceof QS)return lm(e,n._key);throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zS(n),"."))}function RI(e,t){if(!Array.isArray(e)||0===e.length)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function DI(e,t){if(t.isInequality()){var n=vy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=py(e);null!==i&&PI(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function PI(e,t,n){if(!n.isEqual(t))throw new Wp(Kp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LI=function(){function e(){c(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $v(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new VE($v(e.latitude),$v(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Jv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(em(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Qv(e);return new ov(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=cv.fromString(e);zp(hk(n));var r=new Vv(n.get(1),n.get(3)),i=new hv(n.popFirst(5));return r.isEqual(t)||jp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function MI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var FI=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new FE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QS(this.firestore,null,t)}}]),n}(LI),jI=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UI=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return h(n,[{key:"exists",value:function(){return dr(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new VI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dI),VI=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr(v(n.prototype),"data",this).call(this,e)}}]),n}(UI),BI=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new jI(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new VI(n._firestore,n._userDataWriter,r.key,r,new jI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wp(Kp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new VI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new VI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function zI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bp()}}function qI(e,t){return e instanceof UI&&t instanceof UI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof BI&&t instanceof BI&&e._firestore===t._firestore&&tE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var KI=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new FE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QS(this.firestore,null,t)}}]),n}(LI);function WI(e){e=qS(e,QS);var t=qS(e.firestore,CE),n=AE(t),r=new KI(t);return function(e,t){var n=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function r(){return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dt(Ot().mark((function e(t,n,r){var i,a;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wp(Kp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=p_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UI(t,r,e._key,n,new jI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GI(e){e=qS(e,$S);var t=qS(e.firestore,CE),n=AE(t),r=new KI(t);return function(e,t){var n=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function r(){return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dt(Ot().mark((function e(t,n,r){var i,a,o,u,s;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hw(t,n,!0);case 3:i=e.sent,a=new P_(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=p_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new BI(t,r,e,n)}))}function HI(e,t,n){e=qS(e,QS);var r=qS(e.firestore,CE),i=MI(e.converter,t,n);return YI(r,[ZE(HE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wy.none())])}function ZI(e,t,n){e=qS(e,QS);for(var r=qS(e.firestore,CE),i=HE(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YI(r,[("string"==typeof(t=Nt(t))||t instanceof jE?nI(i,"updateDoc",e._key,t,n,o):tI(i,"updateDoc",e._key,t)).toMutation(e._key,Wy.exists(!0))])}function QI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||IE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(IE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof QS)l=qS(e.firestore,CE),f=hy(e._key.path),c={next:function(t){n[s]&&n[s](XI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=qS(e,$S);l=qS(p.firestore,CE),f=p._query;var v=new KI(l);c={next:function(e){n[s]&&n[s](new BI(l,v,p,e))},error:n[s+1],complete:n[s+2]},mI(e._query)}return function(e,t,n,r){var i=new rE(r),a=new T_(t,i,n);return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=b_,t.next=3,wE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=x_,t.next=3,wE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AE(l),f,h,c)}function $I(e,t){return function(e,t){var n=new rE(t);return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qp(e).Ru.add(t),t.next()},t.next=3,wE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function t(){return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qp(e).Ru.delete(t)},t.next=3,wE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(AE(e=qS(e,CE)),IE(t)?t:{next:t})}function YI(e,t){return function(e,t){var n=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function r(){return Ot().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=K_,r.next=3,kE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(AE(e),t)}function XI(e,t,n){var r=n.docs.get(t._key),i=new KI(e);return new UI(e,i,t._key,r,new jI(n.hasPendingWrites,n.fromCache),t.converter)}var JI={maxAttempts:5},eT=function(){function e(t,n){c(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=HE(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=tT(e,this._firestore),i=MI(r.converter,t,n),a=ZE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Wy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=tT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nt(t))||t instanceof jE?nI(this._dataReader,"WriteBatch.update",i._key,t,n,o):tI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Wy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=tT(e,this._firestore);return this._mutations=this._mutations.concat(new og(t._key,Wy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wp(Kp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function tT(e,t){if((e=Nt(e)).firestore!==t)throw new Wp(Kp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var nT=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=tT(e,this._firestore),i=new KI(this._firestore);return dr(v(n.prototype),"get",this).call(this,e).then((function(e){return new UI(t._firestore,i,r._key,e._document,new jI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){c(this,e),this._firestore=t,this._transaction=n,this._dataReader=HE(t)}return h(e,[{key:"get",value:function(e){var t=this,n=tT(e,this._firestore),r=new FI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bp();var i=e[0];if(i.isFoundDocument())return new dI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dI(t._firestore,r,n._key,null,n.converter);throw Bp()}))}},{key:"set",value:function(e,t,n){var r=tT(e,this._firestore),i=MI(r.converter,t,n),a=ZE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=tT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nt(t))||t instanceof jE?nI(this._dataReader,"Transaction.update",i._key,t,n,o):tI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=tT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function rT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XE("arrayUnion",t)}function iT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pp=e}(On),Sn(new Pt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new CE(new $p(e.getProvider("auth-internal")),new ev(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wp(Kp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vv(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Fn(Rp,"3.8.3",e),Fn(Rp,"3.8.3","esm2017")}();var aT="@firebase/firestore-compat",oT="0.3.3";function uT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function sT(){if("undefined"===typeof Uint8Array)throw new Wp("unimplemented","Uint8Arrays are not available in this environment.")}function cT(){if("undefined"==typeof atob)throw new Wp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var lT=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return cT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return sT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return cT(),new e(FE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return sT(),new e(FE.fromUint8Array(t))}}]),e}();function fT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var hT=function(){function e(){c(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ME(e=qS(e,CE));var n=AE(e),r=e._freezeSettings(),i=new FS;return OE(n,i,new LS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ME(e=qS(e,CE));var t=AE(e),n=e._freezeSettings(),r=new FS;return OE(t,r,new MS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wp(Kp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Gp;return e._queue.enqueueAndForgetEvenWhileRestricted(Dt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Dt(Ot().mark((function e(t){var n;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Cv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Rw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),dT=function(){function e(t,n,r){var i=this;c(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Vv||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Up("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return RE(this._delegate)}},{key:"disableNetwork",value:function(){return DE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&US("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function n(){return Ot().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=tS,n.next=3,kE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(AE(e=qS(e,CE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return $I(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new TT(this,XS(this._delegate,e))}catch(t){throw kT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new gT(this,JS(this._delegate,e))}catch(t){throw kT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new ST(this,function(e,t){if(e=qS(e,HS),jS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wp(Kp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $S(e,null,function(e){return new ly(cv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw kT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=qS(e,CE);var r=Object.assign(Object.assign({},JI),n);return function(e){if(e.maxAttempts<1)throw new Wp(Kp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Gp;return e.asyncQueue.enqueueAndForget(Dt(Ot().mark((function i(){var a;return Ot().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,bE(e);case 2:a=i.sent,new oE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(AE(e),(function(n){return t(new nT(e,n))}),r)}(this._delegate,(function(n){return e(new vT(t,n))}))}},{key:"batch",value:function(){var e=this;return AE(this._delegate),new mT(new eT(this._delegate,(function(t){return YI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LE(this._delegate,e).then((function(e){return e?new ST(t,e):null}))}}]),e}(),pT=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new lT(new FE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return gT.forKey(t,this.firestore,null)}}]),n}(LI);var vT=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new pT(t)}return h(e,[{key:"get",value:function(e){var t=this,n=CT(e);return this._delegate.get(n).then((function(e){return new xT(t._firestore,new UI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=CT(e);return n?(uT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=CT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=CT(e);return this._delegate.delete(t),this}}]),e}(),mT=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=CT(e);return n?(uT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=CT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=CT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),yT=function(){function e(t,n,r){c(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new VI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _T(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new pT(t),n),i.set(n,a)),a}}]),e}();yT.INSTANCES=new WeakMap;var gT=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new pT(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new TT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new TT(this.firestore,XS(this._delegate,e))}catch(t){throw kT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nt(e))instanceof QS&&eE(this._delegate,e)}},{key:"set",value:function(e,t){t=uT("DocumentReference.set",t);try{return t?HI(this._delegate,e,t):HI(this._delegate,e)}catch(n){throw kT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZI(this._delegate,e):ZI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw kT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YI(qS(e.firestore,CE),[new og(e._key,Wy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bT(n),a=wT(n,(function(t){return new xT(e.firestore,new UI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return QI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qS(e,QS);var t=qS(e.firestore,CE);return _E(AE(t),e._key,{source:"server"}).then((function(n){return XI(t,e,n)}))}(this._delegate):function(e){e=qS(e,QS);var t=qS(e.firestore,CE);return _E(AE(t),e._key).then((function(n){return XI(t,e,n)}))}(this._delegate),t.then((function(e){return new xT(n.firestore,new UI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new QS(n._delegate,r,new hv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new QS(n._delegate,r,t))}}]),e}();function kT(e,t,n){return e.message=e.message.replace(t,n),e}function bT(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!fT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function wT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fT(e[0])?e[0]:fT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xT=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new gT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qI(this._delegate,e._delegate)}}]),e}(),_T=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Bp()}(void 0!==t),t}}]),n}(xT),ST=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new pT(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,kI(this._delegate,function(e,t,n){var r=t,i=vI("where",e);return bI._create(i,r,n)}(t,n,r)))}catch(i){throw kT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,kI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vI("orderBy",e);return xI._create(n,t)}(t,n)))}catch(r){throw kT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,kI(this._delegate,function(e){return KS("limit",e),_I._create("limit",e,"F")}(t)))}catch(n){throw kT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,kI(this._delegate,function(e){return KS("limitToLast",e),_I._create("limitToLast",e,"L")}(t)))}catch(n){throw kT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,kI(this._delegate,EI.apply(void 0,arguments)))}catch(t){throw kT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,kI(this._delegate,II.apply(void 0,arguments)))}catch(t){throw kT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,kI(this._delegate,CI.apply(void 0,arguments)))}catch(t){throw kT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,kI(this._delegate,AI.apply(void 0,arguments)))}catch(t){throw kT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return tE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?GI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qS(e,$S);var t=qS(e.firestore,CE),n=AE(t),r=new KI(t);return SE(n,e._query,{source:"server"}).then((function(n){return new BI(t,r,e,n)}))}(this._delegate):function(e){e=qS(e,$S);var t=qS(e.firestore,CE),n=AE(t),r=new KI(t);return mI(e._query),SE(n,e._query).then((function(n){return new BI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new IT(n.firestore,new BI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bT(n),a=wT(n,(function(t){return new IT(e.firestore,new BI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return QI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ET=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new _T(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),IT=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new ST(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new _T(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ET(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new _T(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qI(this._delegate,e._delegate)}}]),e}(),TT=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new gT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new gT(this.firestore,void 0===e?JS(this._delegate):JS(this._delegate,e))}catch(t){throw kT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=qS(e.firestore,CE),r=JS(e),i=MI(e.converter,t);return YI(n,[ZE(HE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new gT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return eE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(yT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(ST);function CT(e){return qS(e,QS)}var AT=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=b(jE,n)}return h(e,[{key:"isEqual",value:function(e){return(e=Nt(e))instanceof jE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(fv.keyField().canonicalString())}}]),e}(),NT=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new YE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new QE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=rT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=iT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OT={Firestore:dT,GeoPoint:VE,Timestamp:ov,Blob:lT,Transaction:vT,WriteBatch:mT,DocumentReference:gT,DocumentSnapshot:xT,Query:ST,QueryDocumentSnapshot:_T,QuerySnapshot:IT,CollectionReference:TT,FieldPath:AT,FieldValue:NT,setLogLevel:function(e){!function(e){Lp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Pt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OT)))}(e,(function(e,t){return new dT(e,t,new hT)})),e.registerVersion(aT,oT)}(hr);var RT=hr.initializeApp({apiKey:"AIzaSyDJXdxjbKsF-br0MmY1LKW1QU86sJu0Mg4",authDomain:"clone-28ce7.firebaseapp.com",projectId:"clone-28ce7",storageBucket:"clone-28ce7.appspot.com",messagingSenderId:"1040814734330",appId:"1:1040814734330:web:7c8b7a94c8e27523f48243",measurementId:"G-SB4HXWFVLB"}).firestore(),DT=hr.auth(),PT=function(){var e=et(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;t[1];return(0,Ye.jsxs)("div",{className:"header",children:[(0,Ye.jsx)(Ze,{to:"/",children:(0,Ye.jsx)("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",className:"header__logo",alt:""})}),(0,Ye.jsxs)("div",{className:"header__search",children:[(0,Ye.jsx)("input",{className:"header__searchInput",type:"text"}),(0,Ye.jsx)(o.Z,{className:"header_searchIcon"})]}),(0,Ye.jsxs)("div",{className:"header__nav",children:[(0,Ye.jsx)(Ze,{to:!i&&"/login",children:(0,Ye.jsxs)("div",{onClick:function(){i&&DT.signOut()},className:"header__option",children:[(0,Ye.jsxs)("span",{className:"header_optionLineOne",children:["Hello, ",i?i.email:"Guest"]}),(0,Ye.jsx)("span",{className:"header_optionLineTwo",children:i?"Sign Out":"Sign In"})]})}),(0,Ye.jsxs)("div",{className:"header__option none",children:[(0,Ye.jsx)("span",{className:"header_optionLineOne",children:"Returns"}),(0,Ye.jsx)("span",{className:"header_optionLineTwo",children:"& Orders"})]}),(0,Ye.jsxs)("div",{className:"header__option none",children:[(0,Ye.jsx)("span",{className:"header_optionLineOne",children:"Your"}),(0,Ye.jsx)("span",{className:"header_optionLineTwo",children:"Prime"})]}),(0,Ye.jsx)(Ze,{to:"/checkout",children:(0,Ye.jsxs)("div",{className:"header__optionBasket",children:[(0,Ye.jsx)(u.Z,{style:{cursor:"pointer"}}),(0,Ye.jsx)("span",{className:"header_optionLineTwo header__basketCount",children:null===r||void 0===r?void 0:r.length})]})})]})]})},LT=n(151),MT=function(e){var t=e.id,n=e.title,r=e.price,i=e.image,o=e.rating,u=et(),s=(0,a.Z)(u,2),c=s[0].basket,l=s[1];console.log("this is the basket >>",c);return(0,Ye.jsxs)("div",{className:"product",children:[(0,Ye.jsxs)("div",{className:"product__info",children:[(0,Ye.jsx)("p",{children:n}),(0,Ye.jsxs)("p",{className:"product_price",children:[(0,Ye.jsx)("small",{children:"$"}),(0,Ye.jsx)("strong",{children:r})]}),(0,Ye.jsx)("div",{className:"product_rating",children:Array(o).fill().map((function(e,t){return(0,Ye.jsx)("p",{children:(0,Ye.jsx)(LT.Z,{className:"starIcon",style:{fontSize:"16px"}})})}))})]}),(0,Ye.jsx)("img",{src:i,style:{marginTop:"15px"},alt:""}),(0,Ye.jsx)("button",{onClick:function(){l({type:"ADD_TO_BASKET",item:{id:t,title:n,image:i,price:r,rating:o}})},children:"Add to basket"})]})},FT=function(){return(0,Ye.jsx)("div",{className:"home",children:(0,Ye.jsxs)("div",{className:"home__container",children:[(0,Ye.jsx)("img",{className:"home_image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),(0,Ye.jsxs)("div",{className:"home__row",children:[(0,Ye.jsx)(MT,{id:"12321341",title:"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback",price:11.96,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg"}),(0,Ye.jsx)(MT,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:239,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg"})]}),(0,Ye.jsxs)("div",{className:"home__row",children:[(0,Ye.jsx)(MT,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",price:199.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),(0,Ye.jsx)(MT,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),(0,Ye.jsx)(MT,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),(0,Ye.jsx)("div",{className:"home__row",children:(0,Ye.jsx)(MT,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})})]})})},jT=n(482),UT=n.n(jT),VT=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},BT=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Ht(Ht({},e),{},{basket:[].concat((0,s.Z)(e.basket),[t.item])});case"EMPTY_BASKET":return Ht(Ht({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,s.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),Ht(Ht({},e),{},{basket:r});case"SET_USER":return Ht(Ht({},e),{},{user:t.user});default:return e}},zT=function(){var e=et(),t=(0,a.Z)(e,2),n=t[0].basket,r=(t[1],Te());return(0,Ye.jsxs)("div",{className:"subtotal",children:[(0,Ye.jsx)(UT(),{renderText:function(e){return(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsxs)("p",{children:["Subtotal (",n.length,"): ",(0,Ye.jsx)("strong",{children:e})]}),(0,Ye.jsxs)("small",{className:"subtotal__gift",children:[(0,Ye.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:VT(n),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,Ye.jsx)("button",{onClick:function(e){return r("/payment")},children:"Proceed to checkout"})]})},qT=function(e){var t=e.id,n=e.title,r=e.image,i=e.price,o=e.rating,u=et(),s=(0,a.Z)(u,2),c=(s[0].basket,s[1]);return(0,Ye.jsxs)("div",{className:"checkoutProduct",children:[(0,Ye.jsx)("img",{className:"checkoutProduct__image",src:r,alt:""}),(0,Ye.jsxs)("div",{className:"checkoutProduct__info",children:[(0,Ye.jsx)("p",{className:"checkoutProduct__title",children:n}),(0,Ye.jsxs)("p",{className:"checkoutProduct__price",children:[(0,Ye.jsx)("small",{children:"$"}),(0,Ye.jsx)("strong",{children:i})]}),(0,Ye.jsx)("div",{className:"checkoutProduct__rating",children:Array(o).fill().map((function(e,t){return(0,Ye.jsx)("p",{children:(0,Ye.jsx)(LT.Z,{className:"starIcon",style:{fontSize:"16px"}})})}))}),(0,Ye.jsx)("button",{onClick:function(){c({type:"REMOVE_FROM_BASKET",id:t})},style:{cursor:"pointer"},children:"Remove from Basket"})]})]})},KT=function(){var e=et(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;t[1];return(0,Ye.jsxs)("div",{className:"checkout",children:[(0,Ye.jsxs)("div",{className:"checkout__left",children:[(0,Ye.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),(0,Ye.jsxs)("div",{className:"checkout__title",children:[(0,Ye.jsxs)("h3",{children:["hello, ",null===i||void 0===i?void 0:i.email]}),(0,Ye.jsx)("h2",{children:"Your Shopping Basket"}),r.map((function(e){return(0,Ye.jsx)(qT,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),(0,Ye.jsx)("div",{className:"checkout__right",children:(0,Ye.jsx)(zT,{})})]})},WT=function(){var e=(0,t.useState)(),n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)(),u=(0,a.Z)(o,2),s=u[0],c=u[1],l=Te();return(0,Ye.jsxs)("div",{className:"login",children:[(0,Ye.jsx)(Ze,{to:"/",children:(0,Ye.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"Amazon Logo"})}),(0,Ye.jsxs)("div",{className:"login__container",children:[(0,Ye.jsx)("h1",{children:"Sign-in"}),(0,Ye.jsxs)("form",{children:[(0,Ye.jsx)("h5",{children:"Email"}),(0,Ye.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),(0,Ye.jsx)("h5",{children:"Password"}),(0,Ye.jsx)("input",{type:"password",value:s,onChange:function(e){return c(e.target.value)}}),(0,Ye.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),DT.signInWithEmailAndPassword(r,s).then((function(e){l("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton",children:"Sign in"})]}),(0,Ye.jsx)("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,Ye.jsx)("button",{onClick:function(e){e.preventDefault(),DT.createUserWithEmailAndPassword(r,s).then((function(e){console.log(e),e&&l("/")})).catch((function(e){return alert(e.message)}))},className:"login__registerButton",children:"Create an Amazon Account"})]})]})},GT=n(764);function HT(e,t){return function(){return e.apply(t,arguments)}}var ZT,QT=Object.prototype.toString,$T=Object.getPrototypeOf,YT=(ZT=Object.create(null),function(e){var t=QT.call(e);return ZT[t]||(ZT[t]=t.slice(8,-1).toLowerCase())}),XT=function(e){return e=e.toLowerCase(),function(t){return YT(t)===e}},JT=function(e){return function(t){return typeof t===e}},eC=Array.isArray,tC=JT("undefined");var nC=XT("ArrayBuffer");var rC=JT("string"),iC=JT("function"),aC=JT("number"),oC=function(e){return null!==e&&"object"===typeof e},uC=function(e){if("object"!==YT(e))return!1;var t=$T(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sC=XT("Date"),cC=XT("File"),lC=XT("Blob"),fC=XT("FileList"),hC=XT("URLSearchParams");function dC(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eC(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function pC(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var vC="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mC=function(e){return!tC(e)&&e!==vC};var yC,gC=(yC="undefined"!==typeof Uint8Array&&$T(Uint8Array),function(e){return yC&&e instanceof yC}),kC=XT("HTMLFormElement"),bC=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),wC=XT("RegExp"),xC=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};dC(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},_C="abcdefghijklmnopqrstuvwxyz",SC="0123456789",EC={DIGIT:SC,ALPHA:_C,ALPHA_DIGIT:_C+_C.toUpperCase()+SC};var IC={isArray:eC,isArrayBuffer:nC,isBuffer:function(e){return null!==e&&!tC(e)&&null!==e.constructor&&!tC(e.constructor)&&iC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||QT.call(e)===t||iC(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nC(e.buffer)},isString:rC,isNumber:aC,isBoolean:function(e){return!0===e||!1===e},isObject:oC,isPlainObject:uC,isUndefined:tC,isDate:sC,isFile:cC,isBlob:lC,isRegExp:wC,isFunction:iC,isStream:function(e){return oC(e)&&iC(e.pipe)},isURLSearchParams:hC,isTypedArray:gC,isFileList:fC,forEach:dC,merge:function e(){for(var t=(mC(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&pC(n,i)||i;uC(n[a])&&uC(r)?n[a]=e(n[a],r):uC(r)?n[a]=e({},r):eC(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&dC(arguments[i],r);return n},extend:function(e,t,n){return dC(t,(function(t,r){n&&iC(t)?e[r]=HT(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&$T(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:YT,kindOfTest:XT,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(eC(e))return e;var t=e.length;if(!aC(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:kC,hasOwnProperty:bC,hasOwnProp:bC,reduceDescriptors:xC,freezeMethods:function(e){xC(e,(function(t,n){if(iC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];iC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return eC(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:pC,global:vC,isContextDefined:mC,ALPHABET:EC,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EC.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&iC(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(oC(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=eC(n)?[]:{};return dC(n,(function(t,n){var a=e(t,r+1);!tC(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function TC(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}IC.inherits(TC,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:IC.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var CC=TC.prototype,AC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){AC[e]={value:e}})),Object.defineProperties(TC,AC),Object.defineProperty(CC,"isAxiosError",{value:!0}),TC.from=function(e,t,n,r,i,a){var o=Object.create(CC);return IC.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),TC.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var NC=TC,OC=null;function RC(e){return IC.isPlainObject(e)||IC.isArray(e)}function DC(e){return IC.endsWith(e,"[]")?e.slice(0,-2):e}function PC(e,t,n){return e?e.concat(t).map((function(e,t){return e=DC(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var LC=IC.toFlatObject(IC,{},null,(function(e){return/^is[A-Z]/.test(e)}));var MC=function(e,t,n){if(!IC.isObject(e))throw new TypeError("target must be an object");t=t||new(OC||FormData);var r=(n=IC.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!IC.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&IC.isSpecCompliantForm(t);if(!IC.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(IC.isDate(e))return e.toISOString();if(!u&&IC.isBlob(e))throw new NC("Blob is not supported. Use a Buffer instead.");return IC.isArrayBuffer(e)||IC.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(IC.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(IC.isArray(e)&&function(e){return IC.isArray(e)&&!e.some(RC)}(e)||(IC.isFileList(e)||IC.endsWith(n,"[]"))&&(u=IC.toArray(e)))return n=DC(n),u.forEach((function(e,r){!IC.isUndefined(e)&&null!==e&&t.append(!0===o?PC([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!RC(e)||(t.append(PC(i,n,a),s(e)),!1)}var l=[],f=Object.assign(LC,{defaultVisitor:c,convertValue:s,isVisitable:RC});if(!IC.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!IC.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),IC.forEach(n,(function(n,a){!0===(!(IC.isUndefined(n)||null===n)&&i.call(t,n,IC.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function FC(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function jC(e,t){this._pairs=[],e&&MC(e,this,t)}var UC=jC.prototype;UC.append=function(e,t){this._pairs.push([e,t])},UC.toString=function(e){var t=e?function(t){return e.call(this,t,FC)}:FC;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var VC=jC;function BC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zC(e,t,n){if(!t)return e;var r,i=n&&n.encode||BC,a=n&&n.serialize;if(r=a?a(t,n):IC.isURLSearchParams(t)?t.toString():new VC(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var qC=function(){function e(){c(this,e),this.handlers=[]}return h(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){IC.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),KC=qC,WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GC="undefined"!==typeof URLSearchParams?URLSearchParams:VC,HC="undefined"!==typeof FormData?FormData:null,ZC=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),QC="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$C={isBrowser:!0,classes:{URLSearchParams:GC,FormData:HC,Blob:Blob},isStandardBrowserEnv:ZC,isStandardBrowserWebWorkerEnv:QC,protocols:["http","https","file","blob","url","data"]};var YC=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&IC.isArray(r)?r.length:a,u?(IC.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&IC.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&IC.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(IC.isFormData(e)&&IC.isFunction(e.entries)){var n={};return IC.forEachEntry(e,(function(e,r){t(function(e){return IC.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},XC={"Content-Type":void 0};var JC={transitional:WC,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=IC.isObject(e);if(a&&IC.isHTMLForm(e)&&(e=new FormData(e)),IC.isFormData(e))return i&&i?JSON.stringify(YC(e)):e;if(IC.isArrayBuffer(e)||IC.isBuffer(e)||IC.isStream(e)||IC.isFile(e)||IC.isBlob(e))return e;if(IC.isArrayBufferView(e))return e.buffer;if(IC.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return MC(e,new $C.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return $C.isNode&&IC.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=IC.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return MC(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(IC.isString(e))try{return(t||JSON.parse)(e),IC.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||JC.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&IC.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw NC.from(a,NC.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$C.classes.FormData,Blob:$C.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};IC.forEach(["delete","get","head"],(function(e){JC.headers[e]={}})),IC.forEach(["post","put","patch"],(function(e){JC.headers[e]=IC.merge(XC)}));var eA=JC,tA=IC.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nA=Symbol("internals");function rA(e){return e&&String(e).trim().toLowerCase()}function iA(e){return!1===e||null==e?e:IC.isArray(e)?e.map(iA):String(e)}function aA(e,t,n,r,i){return IC.isFunction(r)?r.call(this,t,n):(i&&(t=n),IC.isString(t)?IC.isString(r)?-1!==t.indexOf(r):IC.isRegExp(r)?r.test(t):void 0:void 0)}var oA=function(e,t){function n(e){c(this,n),e&&this.set(e)}return h(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=rA(t);if(!i)throw new Error("header name must be a non-empty string");var a=IC.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=iA(e))}var a=function(e,t){return IC.forEach(e,(function(e,n){return i(e,n,t)}))};return IC.isPlainObject(e)||e instanceof this.constructor?a(e,t):IC.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&tA[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=rA(e)){var n=IC.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(IC.isFunction(t))return t.call(this,r,n);if(IC.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=rA(e)){var n=IC.findKey(this,e);return!(!n||void 0===this[n]||t&&!aA(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=rA(e)){var i=IC.findKey(n,e);!i||t&&!aA(0,n[i],i,t)||(delete n[i],r=!0)}}return IC.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!aA(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return IC.forEach(this,(function(r,i){var a=IC.findKey(n,i);if(a)return t[a]=iA(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=iA(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return IC.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&IC.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,a.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[nA]=this[nA]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=rA(e);t[r]||(!function(e,t){var n=IC.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return IC.isArray(e)?e.forEach(r):r(e),this}}]),n}();oA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),IC.freezeMethods(oA.prototype),IC.freezeMethods(oA);var uA=oA;function sA(e,t){var n=this||eA,r=t||n,i=uA.from(r.headers),a=r.data;return IC.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function cA(e){return!(!e||!e.__CANCEL__)}function lA(e,t,n){NC.call(this,null==e?"canceled":e,NC.ERR_CANCELED,t,n),this.name="CanceledError"}IC.inherits(lA,NC,{__CANCEL__:!0});var fA=lA;var hA=$C.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),IC.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),IC.isString(r)&&o.push("path="+r),IC.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function dA(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var pA=$C.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=IC.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var vA=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function mA(e,t){var n=0,r=vA(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var yA="undefined"!==typeof XMLHttpRequest,gA={http:OC,xhr:yA&&function(e){return new Promise((function(t,n){var r,i=e.data,a=uA.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}IC.isFormData(i)&&($C.isStandardBrowserEnv||$C.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=dA(e.baseURL,e.url);function h(){if(s){var r=uA.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new NC("Request failed with status code "+n.status,[NC.ERR_BAD_REQUEST,NC.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),zC(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new NC("Request aborted",NC.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new NC("Network Error",NC.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||WC;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new NC(t,r.clarifyTimeoutError?NC.ETIMEDOUT:NC.ECONNABORTED,e,s)),s=null},$C.isStandardBrowserEnv){var d=(e.withCredentials||pA(f))&&e.xsrfCookieName&&hA.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&IC.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),IC.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",mA(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",mA(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new fA(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===$C.protocols.indexOf(p)?n(new NC("Unsupported protocol "+p+":",NC.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};IC.forEach(gA,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var kA={getAdapter:function(e){for(var t,n,r=(e=IC.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=IC.isString(t)?gA[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new NC("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(IC.hasOwnProp(gA,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!IC.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:gA};function bA(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fA(null,e)}function wA(e){return bA(e),e.headers=uA.from(e.headers),e.data=sA.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kA.getAdapter(e.adapter||eA.adapter)(e).then((function(t){return bA(e),t.data=sA.call(e,e.transformResponse,t),t.headers=uA.from(t.headers),t}),(function(t){return cA(t)||(bA(e),t&&t.response&&(t.response.data=sA.call(e,e.transformResponse,t.response),t.response.headers=uA.from(t.response.headers))),Promise.reject(t)}))}var xA=function(e){return e instanceof uA?e.toJSON():e};function _A(e,t){t=t||{};var n={};function r(e,t,n){return IC.isPlainObject(e)&&IC.isPlainObject(t)?IC.merge.call({caseless:n},e,t):IC.isPlainObject(t)?IC.merge({},t):IC.isArray(t)?t.slice():t}function i(e,t,n){return IC.isUndefined(t)?IC.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!IC.isUndefined(t))return r(void 0,t)}function o(e,t){return IC.isUndefined(t)?IC.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(xA(e),xA(t),!0)}};return IC.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);IC.isUndefined(o)&&a!==u||(n[r]=o)})),n}var SA="1.3.3",EA={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){EA[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var IA={};EA.transitional=function(e,t,n){function r(e,t){return"[Axios v"+SA+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new NC(r(i," has been removed"+(t?" in "+t:"")),NC.ERR_DEPRECATED);return t&&!IA[i]&&(IA[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var TA={assertOptions:function(e,t,n){if("object"!==typeof e)throw new NC("options must be an object",NC.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new NC("option "+a+" must be "+s,NC.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new NC("Unknown option "+a,NC.ERR_BAD_OPTION)}},validators:EA},CA=TA.validators,AA=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new KC,response:new KC}}return h(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=_A(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&TA.assertOptions(i,{silentJSONParsing:CA.transitional(CA.boolean),forcedJSONParsing:CA.transitional(CA.boolean),clarifyTimeoutError:CA.transitional(CA.boolean)},!1),void 0!==a&&TA.assertOptions(a,{encode:CA.function,serialize:CA.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&IC.merge(o.common,o[t.method]))&&IC.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=uA.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[wA.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=wA.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return zC(dA((e=_A(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();IC.forEach(["delete","get","head","options"],(function(e){AA.prototype[e]=function(t,n){return this.request(_A(n||{},{method:e,url:t,data:(n||{}).data}))}})),IC.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(_A(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}AA.prototype[e]=t(),AA.prototype[e+"Form"]=t(!0)}));var NA=AA,OA=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new fA(e,t,i),n(r.reason))}))}return h(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),RA=OA;var DA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DA).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];DA[r]=n}));var PA=DA;var LA=function e(t){var n=new NA(t),r=HT(NA.prototype.request,n);return IC.extend(r,NA.prototype,n,{allOwnKeys:!0}),IC.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_A(t,n))},r}(eA);LA.Axios=NA,LA.CanceledError=fA,LA.CancelToken=RA,LA.isCancel=cA,LA.VERSION=SA,LA.toFormData=MC,LA.AxiosError=NC,LA.Cancel=LA.CanceledError,LA.all=function(e){return Promise.all(e)},LA.spread=function(e){return function(t){return e.apply(null,t)}},LA.isAxiosError=function(e){return IC.isObject(e)&&!0===e.isAxiosError},LA.mergeConfig=_A,LA.AxiosHeaders=uA,LA.formToJSON=function(e){return YC(IC.isHTMLForm(e)?new FormData(e):e)},LA.HttpStatusCode=PA,LA.default=LA;var MA=LA.create({baseURL:"http://127.0.0.1:5001/clone-28ce7/us-central1/api"}),FA=function(){var e=et(),n=(0,a.Z)(e,2),r=n[0],i=r.basket,o=r.user,u=n[1],s=Te(),c=(0,GT.useStripe)(),l=(0,GT.useElements)(),f=(0,t.useState)(null),h=(0,a.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)(!0),m=(0,a.Z)(v,2),y=m[0],g=m[1],k=(0,t.useState)(),b=(0,a.Z)(k,2),w=b[0],x=b[1],_=(0,t.useState)(),S=(0,a.Z)(_,2),E=S[0],I=S[1],T=(0,t.useState)(),C=(0,a.Z)(T,2),A=C[0],N=C[1];(0,t.useEffect)((function(){var e=function(){var e=Dt(Ot().mark((function e(){var t;return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MA({method:"POST",url:"/payments/create?total=".concat(100*VT(i))});case 2:t=e.sent,N(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),console.log("THE SECRET IS >>>",A);var O=function(){var e=Dt(Ot().mark((function e(t){return Ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x(!0),e.next=4,c.confirmCardPayment(A,{payment_method:{card:l.getElement(GT.CardElement)}}).then((function(e){var t=e.paymentIntent;RT.collection("users").doc(null===o||void 0===o?void 0:o.uid).collection("orders").doc(t.id).set({basket:i,amount:t.amount,created:t.created}),I(!0),p(null),x(!1),u({type:"EMPTY_BASKET"}),s("/orders",{replace:!0})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ye.jsx)("div",{className:"payment",children:(0,Ye.jsxs)("div",{className:"payment__container",children:[(0,Ye.jsxs)("h1",{children:["Checkout - ",(0,Ye.jsxs)(Ze,{to:"/checkout",children:[null===i||void 0===i?void 0:i.length," items"]})]}),(0,Ye.jsxs)("div",{className:"payment__section",children:[(0,Ye.jsx)("div",{className:"payment__title",children:(0,Ye.jsx)("h3",{children:"Delivery Adress"})}),(0,Ye.jsxs)("div",{className:"payment__adress",children:[(0,Ye.jsx)("p",{children:null===o||void 0===o?void 0:o.email}),(0,Ye.jsx)("p",{children:"123 React Lane"}),(0,Ye.jsx)("p",{children:"Kazir Dewari, Chittagong"})]})]}),(0,Ye.jsxs)("div",{className:"payment__section",children:[(0,Ye.jsx)("div",{className:"payment__title",children:(0,Ye.jsx)("h3",{children:"Review Item & Delivery"})}),(0,Ye.jsx)("div",{className:"payment__items",children:i.map((function(e){return(0,Ye.jsx)(qT,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),(0,Ye.jsxs)("div",{className:"payment__section",children:[(0,Ye.jsx)("div",{className:"payment__title",children:(0,Ye.jsx)("h3",{children:"Review Item & Delivery"})}),(0,Ye.jsx)("div",{className:"payment__details",children:(0,Ye.jsxs)("form",{onSubmit:O,children:[(0,Ye.jsx)(GT.CardElement,{onChange:function(e){g(e.empty),p(e.error?e.error.message:"")}}),(0,Ye.jsxs)("div",{className:"payment__priceContainer",children:[(0,Ye.jsx)(UT(),{renderText:function(e){return(0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsxs)("h3",{children:[" Order Total: ",e," "]})})},decimalScale:2,value:VT(i),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,Ye.jsx)("button",{disabled:w||y||E,children:(0,Ye.jsx)("span",{children:w?(0,Ye.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),d&&(0,Ye.jsx)("div",{children:d})]})})]})]})})},jA=function(){var e=et(),n=(0,a.Z)(e,2),r=n[0],i=(r.basket,r.user),o=(n[1],(0,t.useState)([])),u=(0,a.Z)(o,2),s=(u[0],u[1]);return(0,t.useEffect)((function(){i?RT.collection("users").doc(null===i||void 0===i?void 0:i.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):s([])}),[]),(0,Ye.jsx)("div",{className:"order",children:(0,Ye.jsx)("h1",{children:"Your Orders"})})},UA="https://js.stripe.com/v3",VA=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,BA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",zA=null,qA=function(e){return null!==zA||(zA=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(BA),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(UA,'"]')),t=0;t<e.length;t++){var n=e[t];if(VA.test(n.src))return n}return null}();r&&e?console.warn(BA):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(UA).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),zA},KA=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:t})}(r,n),r},WA=Promise.resolve().then((function(){return qA(null)})),GA=!1;WA.catch((function(e){GA||console.warn(e)}));var HA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];GA=!0;var r=Date.now();return WA.then((function(e){return KA(e,t,r)}))}("pk_test_51MdT03FPJzYXn33MzZ62tBSBhDR4BR2FHhOH0PD4aKFXRFXqKfqGlYd8MiUaUmuNGCBx8zSpVCmP2a0UGenvISrz001754fqsS");var ZA=function(){var e=et(),n=(0,a.Z)(e,2);!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n[0]);var r=n[1];return(0,t.useEffect)((function(){DT.onAuthStateChanged((function(e){console.log("THE USER IS",e),r(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,Ye.jsx)(Ge,{children:(0,Ye.jsxs)("div",{className:"App",children:[(0,Ye.jsx)(PT,{}),(0,Ye.jsxs)(Ve,{children:[(0,Ye.jsx)(je,{path:"/",element:(0,Ye.jsx)(FT,{})}),(0,Ye.jsx)(je,{path:"/checkout",element:(0,Ye.jsx)(KT,{})}),(0,Ye.jsx)(je,{path:"/login",element:(0,Ye.jsx)(WT,{})}),(0,Ye.jsx)(je,{path:"/payment",element:(0,Ye.jsx)(GT.Elements,{stripe:HA,children:(0,Ye.jsx)(FA,{})})}),(0,Ye.jsx)(je,{path:"/orders",element:(0,Ye.jsx)(jA,{})})]})]})})};i.render((0,Ye.jsx)(t.StrictMode,{children:(0,Ye.jsx)(Je,{initialState:{basket:[],user:null},reducer:BT,children:(0,Ye.jsx)(ZA,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.20512926.js.map